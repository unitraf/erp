/*! For license information please see main.4605c102.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},523:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=n(7)},function(e,t){e.exports=n(791)},function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=0,s=r.forwardRef((function(e,t){var n=e.title,i=void 0===n?null:n,s=e.description,u=void 0===s?null:s,c=e.size,l=void 0===c?null:c,d=e.color,f=void 0===d?"currentColor":d,h=e.horizontal,p=void 0===h?null:h,v=e.vertical,m=void 0===v?null:v,y=e.rotate,g=void 0===y?null:y,k=e.spin,x=void 0===k?null:k,b=e.style,w=void 0===b?{}:b,_=e.children,E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);o++;var I,S=null!==x&&x,N=r.Children.map(_,(function(e){var t=e;!0!==S&&(S=!0===(null===x?t.props.spin:x));var n=t.props.size;"number"==typeof l&&"number"==typeof t.props.size&&(n=t.props.size/l);var i={size:n,color:null===f?t.props.color:f,horizontal:null===p?t.props.horizontal:p,vertical:null===m?t.props.vertical:m,rotate:null===g?t.props.rotate:g,spin:null===x?t.props.spin:x,inStack:!0};return r.cloneElement(t,i)}));null!==l&&(w.width="string"==typeof l?l:1.5*l+"rem");var T,C="stack_labelledby_"+o,j="stack_describedby_"+o;if(i)I=u?C+" "+j:C;else if(T="presentation",u)throw new Error("title attribute required when description is set");return r.createElement("svg",a({ref:t,viewBox:"0 0 24 24",style:w,role:T,"aria-labelledby":I},E),i&&r.createElement("title",{id:C},i),u&&r.createElement("desc",{id:j},u),S&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),N)}));s.displayName="Stack",s.propTypes={size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),children:i.oneOfType([i.arrayOf(i.node),i.node]).isRequired,className:i.string,style:i.object},s.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var u=s;n.d(t,"Icon",(function(){return d})),n.d(t,"Stack",(function(){return u}));var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=0,d=r.forwardRef((function(e,t){var n=e.path,i=e.id,a=void 0===i?++l:i,o=e.title,s=void 0===o?null:o,u=e.description,d=void 0===u?null:u,f=e.size,h=void 0===f?null:f,p=e.color,v=void 0===p?"currentColor":p,m=e.horizontal,y=void 0!==m&&m,g=e.vertical,k=void 0!==g&&g,x=e.rotate,b=void 0===x?0:x,w=e.spin,_=void 0!==w&&w,E=e.style,I=void 0===E?{}:E,S=e.inStack,N=void 0!==S&&S,T=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),C={},j=[];null!==h&&(N?j.push("scale("+h+")"):(I.width="string"==typeof h?h:1.5*h+"rem",I.height=I.width)),y&&j.push("scaleX(-1)"),k&&j.push("scaleY(-1)"),0!==b&&j.push("rotate("+b+"deg)"),null!==v&&(C.fill=v);var D=r.createElement("path",c({d:n,style:C},N?T:{})),A=D;j.length>0&&(I.transform=j.join(" "),I.transformOrigin="center",N&&(A=r.createElement("g",{style:I},D,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var O,R=A,P=!0===_||"number"!=typeof _?2:_,M=!N&&(y||k);if(P<0&&(M=!M),_&&(R=r.createElement("g",{style:{animation:"spin"+(M?"-inverse":"")+" linear "+Math.abs(P)+"s infinite",transformOrigin:"center"}},A,!(y||k||0!==b)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),N)return R;var L,F="icon_labelledby_"+a,V="icon_describedby_"+a;if(s)O=d?F+" "+V:F;else if(L="presentation",d)throw new Error("title attribute required when description is set");return r.createElement("svg",c({ref:t,viewBox:"0 0 24 24",style:I,role:L,"aria-labelledby":O},T),s&&r.createElement("title",{id:F},s),d&&r.createElement("desc",{id:V},d),!N&&_&&(M?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),R)}));d.displayName="Icon",d.propTypes={path:i.string.isRequired,size:i.oneOfType([i.number,i.string]),color:i.string,horizontal:i.bool,vertical:i.bool,rotate:i.number,spin:i.oneOfType([i.bool,i.number]),style:i.object,inStack:i.bool,className:i.string},d.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=d}])},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);d&&(o=o.concat(d(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=f(n,y);try{c(t,y,g)}catch(k){}}}}return t}},571:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Zn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?h(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],x=!1;function b(e,t){var n,r,i,a=k.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===x&&(x=!0,r.updateOffset(this),x=!1)}function _(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function E(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function I(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}E(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var S,N={};function T(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),N[e]||(E(t),N[e]=!0)}function C(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function j(e){var t,n;for(n in e)s(e,n)&&(C(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function D(e,t){var n,r=h({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=h({},r[n]));return r}function A(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var O={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r}function P(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},V={};function U(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(V[e]=i),t&&(V[t[0]]=function(){return P(i.apply(this,arguments),t[1],t[2])}),n&&(V[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(M);for(t=0,n=r.length;t<n;t++)V[r[t]]?r[t]=V[r[t]]:r[t]=q(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=C(r[i])?r[i].call(t,e):r[i];return a}}function z(e,t){return e.isValid()?(t=H(t,e.localeData()),F[t]=F[t]||B(t),F[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,r),L.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(M).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function Z(){return this._invalidDate}var K="%d",Q=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function X(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function de(e,t){return function(n){return null!=n?(he(this,e,n),r.updateOffset(this,t),this):fe(this,e)}}function fe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Xe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return C(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(C(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,xe=/\d{4}/,be=/[+-]?\d{6}/,we=/\d\d?/,_e=/\d\d\d\d?/,Ee=/\d\d\d\d\d\d?/,Ie=/\d{1,3}/,Se=/\d{1,4}/,Ne=/[+-]?\d{1,6}/,Te=/\d+/,Ce=/[+-]?\d+/,je=/Z|[+-]\d\d:?\d\d/gi,De=/Z|[+-]\d\d(?::?\d\d)?/gi,Ae=/[+-]?\d+(\.\d{1,3})?/,Oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Re(e,t,n){me[e]=C(t)?t:function(e,r){return e&&n?n:t}}function Pe(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(Me(e))}function Me(e){return Le(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Le(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Fe={};function Ve(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)Fe[e[n]]=i}function Ue(e,t){Ve(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function qe(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var Be,ze=0,He=1,Ge=2,We=3,Ye=4,Ze=5,Ke=6,Qe=7,$e=8;function Je(e,t){return(e%t+t)%t}function Xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Re("M",we),Re("MM",we,ge),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),Ve(["M","MM"],(function(e,t){t[He]=le(e)-1})),Ve(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[He]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Oe,it=Oe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,o))||-1!==(i=Be.call(this._longMonthsParse,o))?i:null:-1!==(i=Be.call(this._longMonthsParse,o))||-1!==(i=Be.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):fe(this,"Month")}function dt(){return Xe(this.year(),this.month())}function ft(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Le(r[t]),i[t]=Le(i[t]);for(t=0;t<24;t++)a[t]=Le(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}U("Y",0,0,(function(){var e=this.year();return e<=9999?P(e,4):"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Re("Y",Ce),Re("YY",we,ge),Re("YYYY",Se,xe),Re("YYYYY",Ne,be),Re("YYYYYY",Ne,be),Ve(["YYYYY","YYYYYY"],ze),Ve("YYYY",(function(e,t){t[ze]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ve("YY",(function(e,t){t[ze]=r.parseTwoDigitYear(e)})),Ve("Y",(function(e,t){t[ze]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=de("FullYear",!0);function yt(){return ue(this.year())}function gt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function bt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+xt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function wt(e,t,n){var r,i,a=xt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+_t(i=e.year()-1,t,n):o>_t(e.year(),t,n)?(r=o-_t(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function _t(e,t,n){var r=xt(e,t,n),i=xt(e+1,t,n);return(vt(e)-r+i)/7}function Et(e){return wt(e,this._week.dow,this._week.doy).week}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Re("w",we),Re("ww",we,ge),Re("W",we),Re("WW",we,ge),Ue(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var It={dow:0,doy:6};function St(){return this._week.dow}function Nt(){return this._week.doy}function Tt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ct(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function jt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Dt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function At(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Re("d",we),Re("e",we),Re("E",we),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ue(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ue(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Ot="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mt=Oe,Lt=Oe,Ft=Oe;function Vt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?At(n,this._week.dow):e?n[e.day()]:n}function Ut(e){return!0===e?At(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function qt(e){return!0===e?At(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,o))||-1!==(i=Be.call(this._weekdaysParse,o))||-1!==(i=Be.call(this._shortWeekdaysParse,o))?i:null}function zt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=jt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Dt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Mt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Zt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Le(this.weekdaysMin(n,"")),i=Le(this.weekdaysShort(n,"")),a=Le(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function $t(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Xt(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,$t),U("k",["kk",2],0,Jt),U("hmm",0,0,(function(){return""+$t.apply(this)+P(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+$t.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+P(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)})),Xt("a",!0),Xt("A",!1),ne("hour","h"),oe("hour",13),Re("a",en),Re("A",en),Re("H",we),Re("h",we),Re("k",we),Re("HH",we,ge),Re("hh",we,ge),Re("kk",we,ge),Re("hmm",_e),Re("hmmss",Ee),Re("Hmm",_e),Re("Hmmss",Ee),Ve(["H","HH"],We),Ve(["k","kk"],(function(e,t,n){var r=le(e);t[We]=24===r?0:r})),Ve(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ve(["h","hh"],(function(e,t,n){t[We]=le(e),m(n).bigHour=!0})),Ve("hmm",(function(e,t,n){var r=e.length-2;t[We]=le(e.substr(0,r)),t[Ye]=le(e.substr(r)),m(n).bigHour=!0})),Ve("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=le(e.substr(0,r)),t[Ye]=le(e.substr(r,2)),t[Ze]=le(e.substr(i)),m(n).bigHour=!0})),Ve("Hmm",(function(e,t,n){var r=e.length-2;t[We]=le(e.substr(0,r)),t[Ye]=le(e.substr(r))})),Ve("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=le(e.substr(0,r)),t[Ye]=le(e.substr(r,2)),t[Ze]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=de("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:O,longDateFormat:G,invalidDate:Y,ordinal:K,dayOfMonthOrdinalParse:Q,relativeTime:J,months:et,monthsShort:tt,week:It,weekdays:Ot,weekdaysMin:Pt,weekdaysShort:Rt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=dn(e[a]).split("-")).length,n=(n=dn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function hn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports&&hn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){un[t]=null}return un[t]}function vn(e,t){var n;return e&&((n=c(t)?gn(e):mn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function mn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new A(D(r,t)),cn[e]&&cn[e].forEach((function(e){mn(e.name,e.config)})),vn(e),un[e]}return delete un[e],null}function yn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(D(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=D(i,t),null==r&&(t.abbr=e),(n=new A(t)).parentLocale=un[e],un[e]=n),vn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===vn()&&vn(e)):null!=un[e]&&delete un[e]);return un[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return fn(e)}function kn(){return S(un)}function xn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[He]<0||n[He]>11?He:n[Ge]<1||n[Ge]>Xe(n[ze],n[He])?Ge:n[We]<0||n[We]>24||24===n[We]&&(0!==n[Ye]||0!==n[Ze]||0!==n[Ke])?We:n[Ye]<0||n[Ye]>59?Ye:n[Ze]<0||n[Ze]>59?Ze:n[Ke]<0||n[Ke]>999?Ke:-1,m(e)._overflowDayOfYear&&(t<ze||t>Ge)&&(t=Ge),m(e)._overflowWeeks&&-1===t&&(t=Qe),m(e)._overflowWeekday&&-1===t&&(t=$e),m(e).overflow=t),e}var bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/Z|[+-]\d\d(?::?\d\d)?/,En=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],In=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sn=/^\/?Date\((-?\d+)/i,Nn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cn(e){var t,n,r,i,a,o,s=e._i,u=bn.exec(s)||wn.exec(s),c=En.length,l=In.length;if(u){for(m(e).iso=!0,t=0,n=c;t<n;t++)if(En[t][1].exec(u[1])){i=En[t][0],r=!1!==En[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(In[t][1].exec(u[3])){a=(u[2]||" ")+In[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!_n.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),qn(e)}else e._isValid=!1}function jn(e,t,n,r,i,a){var o=[Dn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Dn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function An(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function On(e,t,n){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Rn(e,t,n){if(e)return Tn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Pn(e){var t,n=Nn.exec(An(e._i));if(n){if(t=jn(n[4],n[3],n[2],n[5],n[6],n[7]),!On(n[1],t,e))return;e._a=t,e._tzm=Rn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Mn(e){var t=Sn.exec(e._i);null===t?(Cn(e),!1===e._isValid&&(delete e._isValid,Pn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Fn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Vn(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Fn(e),e._w&&null==e._a[Ge]&&null==e._a[He]&&Un(e),null!=e._dayOfYear&&(a=Ln(e._a[ze],r[ze]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[He]=n.getUTCMonth(),e._a[Ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[We]&&0===e._a[Ye]&&0===e._a[Ze]&&0===e._a[Ke]&&(e._nextDay=!0,e._a[We]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[We]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Un(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Ln(t.GG,e._a[ze],wt(Kn(),1,4).year),r=Ln(t.W,1),((i=Ln(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=wt(Kn(),a,o),n=Ln(t.gg,e._a[ze],c.year),r=Ln(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>_t(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=bt(n,r,i,a,o),e._a[ze]=s.year,e._dayOfYear=s.dayOfYear)}function qn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,s,u,c=""+e._i,l=c.length,d=0;for(u=(i=H(e._f,e._locale).match(M)||[]).length,t=0;t<u;t++)a=i[t],(n=(c.match(Pe(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),V[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),qe(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=l-d,c.length>0&&m(e).unusedInput.push(c),e._a[We]<=12&&!0===m(e).bigHour&&e._a[We]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[We]=Bn(e._locale,e._a[We],e._meridiem),null!==(s=m(e).era)&&(e._a[ze]=e._locale.erasConvertYear(s,e._a[ze])),Vn(e),xn(e)}else Pn(e);else Cn(e)}function Bn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function zn(e){var t,n,r,i,a,o,s=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)a=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],qn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));h(e,n||t)}function Hn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Vn(e)}}function Gn(e){var t=new w(xn(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new w(xn(t)):(d(t)?e._d=t:a(n)?zn(e):n?qn(e):Yn(e),y(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Mn(e):a(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),Vn(e)):o(t)?Hn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Zn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Gn(s)}function Kn(e,t,n,r){return Zn(e,t,n,r,!1)}r.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),$n=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Jn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Xn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(s(e,t)&&(-1===Be.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Tr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function sr(e){return e instanceof or}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function lr(e,t){U(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+P(~~(e/60),2)+t+P(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Re("Z",De),Re("ZZ",De),Ve(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(De,e)}));var dr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(dr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(_(e)||d(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(De,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Or(this,Tr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function kr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(je,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function br(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Wn(t))._a?(e=t._isUTC?p(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _r(){return!!this.isValid()&&!this._isUTC}function Er(){return!!this.isValid()&&this._isUTC}function Ir(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Nr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Tr(e,t){var n,r,i,a=e,o=null;return sr(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Sr.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[Ge])*n,h:le(o[We])*n,m:le(o[Ye])*n,s:le(o[Ze])*n,ms:le(ur(1e3*o[Ke]))*n}):(o=Nr.exec(e))?(n="-"===o[1]?-1:1,a={y:Cr(o[2],n),M:Cr(o[3],n),w:Cr(o[4],n),d:Cr(o[5],n),h:Cr(o[6],n),m:Cr(o[7],n),s:Cr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Dr(Kn(a.from),Kn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),sr(e)&&s(e,"_locale")&&(r._locale=e._locale),sr(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Cr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Dr(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=jr(e,t):((n=jr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ar(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Or(this,Tr(n,r),e),this}}function Or(e,t,n,i){var a=t._milliseconds,o=ur(t._days),s=ur(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,fe(e,"Month")+s*n),o&&he(e,"Date",fe(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Tr.fn=or.prototype,Tr.invalid=ar;var Rr=Ar(1,"add"),Pr=Ar(-1,"subtract");function Mr(e){return"string"===typeof e||e instanceof String}function Lr(e){return _(e)||d(e)||Mr(e)||l(e)||Vr(e)||Fr(e)||null===e||void 0===e}function Fr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Vr(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Mr(e)})).length),t&&n}function Ur(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function qr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):Ur(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),i=hr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(C(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Kn(n)))}function zr(){return new w(this)}function Hr(e,t){var n=_(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=_(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wr(e,t,n,r){var i=_(e)?e:Kn(e),a=_(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Yr(e,t){var n,r=_(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Zr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=$r(this,r)/12;break;case"month":a=$r(this,r);break;case"quarter":a=$r(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(_(e)&&e.isValid()||Kn(e).isValid())?Tr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Kn(),e)}function ii(e,t){return this.isValid()&&(_(e)&&e.isValid()||Kn(e).isValid())?Tr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Kn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var ci=1e3,li=60*ci,di=60*li,fi=3506328*di;function hi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*li),di);break;case"minute":t=this._d.valueOf(),t-=hi(t,li);break;case"second":t=this._d.valueOf(),t-=hi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-hi(t+(this._isUTC?0:this.utcOffset()*li),di)-1;break;case"minute":t=this._d.valueOf(),t+=li-hi(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-hi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function ki(){return Math.floor(this.valueOf()/1e3)}function xi(){return new Date(this.valueOf())}function bi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _i(){return this.isValid()?this.toISOString():null}function Ei(){return y(this)}function Ii(){return h({},m(this))}function Si(){return m(this).overflow}function Ni(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ti(e,t){var n,i,a,o=this._eras||gn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ci(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function ji(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Ri(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Pi(e){return s(this,"_erasNameRegex")||Bi.call(this),e?this._erasNameRegex:this._erasRegex}function Mi(e){return s(this,"_erasAbbrRegex")||Bi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Li(e){return s(this,"_erasNarrowRegex")||Bi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Fi(e,t){return t.erasAbbrRegex(e)}function Vi(e,t){return t.erasNameRegex(e)}function Ui(e,t){return t.erasNarrowRegex(e)}function qi(e,t){return t._eraYearOrdinalRegex||Te}function Bi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Le(o[e].name)),n.push(Le(o[e].abbr)),i.push(Le(o[e].narrow)),a.push(Le(o[e].name)),a.push(Le(o[e].abbr)),a.push(Le(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function zi(e,t){U(0,[e,e.length],0,t)}function Hi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return _t(this.year(),1,4)}function Yi(){return _t(this.isoWeekYear(),1,4)}function Zi(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return _t(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var a;return null==e?wt(this,r,i).year:(t>(a=_t(e,r,i))&&(t=a),$i.call(this,e,t,n,r,i))}function $i(e,t,n,r,i){var a=bt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),Re("N",Fi),Re("NN",Fi),Re("NNN",Fi),Re("NNNN",Vi),Re("NNNNN",Ui),Ve(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Re("y",Te),Re("yy",Te),Re("yyy",Te),Re("yyyy",Te),Re("yo",qi),Ve(["y","yy","yyy","yyyy"],ze),Ve(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ze]=n._locale.eraYearOrdinalParse(e,i):t[ze]=parseInt(e,10)})),U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),zi("gggg","weekYear"),zi("ggggg","weekYear"),zi("GGGG","isoWeekYear"),zi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Re("G",Ce),Re("g",Ce),Re("GG",we,ge),Re("gg",we,ge),Re("GGGG",Se,xe),Re("gggg",Se,xe),Re("GGGGG",Ne,be),Re("ggggg",Ne,be),Ue(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ue(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Re("Q",ye),Ve("Q",(function(e,t){t[He]=3*(le(e)-1)})),U("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Re("D",we),Re("DD",we,ge),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ve(["D","DD"],Ge),Ve("Do",(function(e,t){t[Ge]=le(e.match(we)[0])}));var Xi=de("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}U("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Re("DDD",Ie),Re("DDDD",ke),Ve(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),U("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Re("m",we),Re("mm",we,ge),Ve(["m","mm"],Ye);var ta=de("Minutes",!1);U("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Re("s",we),Re("ss",we,ge),Ve(["s","ss"],Ze);var na,ra,ia=de("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Re("S",Ie,ye),Re("SS",Ie,ge),Re("SSS",Ie,ke),na="SSSS";na.length<=9;na+="S")Re(na,Te);function aa(e,t){t[Ke]=le(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ve(na,aa);function oa(){return this._isUTC?"UTC":""}function sa(){return this._isUTC?"Coordinated Universal Time":""}ra=de("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var ua=w.prototype;function ca(e){return Kn(1e3*e)}function la(){return Kn.apply(null,arguments).parseZone()}function da(e){return e}ua.add=Rr,ua.calendar=Br,ua.clone=zr,ua.diff=Qr,ua.endOf=yi,ua.format=ti,ua.from=ni,ua.fromNow=ri,ua.to=ii,ua.toNow=ai,ua.get=pe,ua.invalidAt=Si,ua.isAfter=Hr,ua.isBefore=Gr,ua.isBetween=Wr,ua.isSame=Yr,ua.isSameOrAfter=Zr,ua.isSameOrBefore=Kr,ua.isValid=Ei,ua.lang=si,ua.locale=oi,ua.localeData=ui,ua.max=$n,ua.min=Qn,ua.parsingFlags=Ii,ua.set=ve,ua.startOf=mi,ua.subtract=Pr,ua.toArray=bi,ua.toObject=wi,ua.toDate=xi,ua.toISOString=Xr,ua.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ua[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ua.toJSON=_i,ua.toString=Jr,ua.unix=ki,ua.valueOf=gi,ua.creationData=Ni,ua.eraName=Di,ua.eraNarrow=Ai,ua.eraAbbr=Oi,ua.eraYear=Ri,ua.year=mt,ua.isLeapYear=yt,ua.weekYear=Hi,ua.isoWeekYear=Gi,ua.quarter=ua.quarters=Ji,ua.month=lt,ua.daysInMonth=dt,ua.week=ua.weeks=Tt,ua.isoWeek=ua.isoWeeks=Ct,ua.weeksInYear=Zi,ua.weeksInWeekYear=Ki,ua.isoWeeksInYear=Wi,ua.isoWeeksInISOWeekYear=Yi,ua.date=Xi,ua.day=ua.days=Ht,ua.weekday=Gt,ua.isoWeekday=Wt,ua.dayOfYear=ea,ua.hour=ua.hours=rn,ua.minute=ua.minutes=ta,ua.second=ua.seconds=ia,ua.millisecond=ua.milliseconds=ra,ua.utcOffset=vr,ua.utc=yr,ua.local=gr,ua.parseZone=kr,ua.hasAlignedHourOffset=xr,ua.isDST=br,ua.isLocal=_r,ua.isUtcOffset=Er,ua.isUtc=Ir,ua.isUTC=Ir,ua.zoneAbbr=oa,ua.zoneName=sa,ua.dates=I("dates accessor is deprecated. Use date instead.",Xi),ua.months=I("months accessor is deprecated. Use month instead",lt),ua.years=I("years accessor is deprecated. Use year instead",mt),ua.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),ua.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var fa=A.prototype;function ha(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ha(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ha(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0,s=[];if(null!=n)return ha(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=ha(t,(i+o)%7,r,"day");return s}function ma(e,t){return pa(e,t,"months")}function ya(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function ka(e,t,n){return va(e,t,n,"weekdaysShort")}function xa(e,t,n){return va(e,t,n,"weekdaysMin")}fa.calendar=R,fa.longDateFormat=W,fa.invalidDate=Z,fa.ordinal=$,fa.preparse=da,fa.postformat=da,fa.relativeTime=X,fa.pastFuture=ee,fa.set=j,fa.eras=Ti,fa.erasParse=Ci,fa.erasConvertYear=ji,fa.erasAbbrRegex=Mi,fa.erasNameRegex=Pi,fa.erasNarrowRegex=Li,fa.months=at,fa.monthsShort=ot,fa.monthsParse=ut,fa.monthsRegex=ht,fa.monthsShortRegex=ft,fa.week=Et,fa.firstDayOfYear=Nt,fa.firstDayOfWeek=St,fa.weekdays=Vt,fa.weekdaysMin=qt,fa.weekdaysShort=Ut,fa.weekdaysParse=zt,fa.weekdaysRegex=Yt,fa.weekdaysShortRegex=Zt,fa.weekdaysMinRegex=Kt,fa.isPM=tn,fa.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=I("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=I("moment.langData is deprecated. Use moment.localeData instead.",gn);var ba=Math.abs;function wa(){var e=this._data;return this._milliseconds=ba(this._milliseconds),this._days=ba(this._days),this._months=ba(this._months),e.milliseconds=ba(e.milliseconds),e.seconds=ba(e.seconds),e.minutes=ba(e.minutes),e.hours=ba(e.hours),e.months=ba(e.months),e.years=ba(e.years),this}function _a(e,t,n,r){var i=Tr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ea(e,t){return _a(this,e,t,1)}function Ia(e,t){return _a(this,e,t,-1)}function Sa(e){return e<0?Math.floor(e):Math.ceil(e)}function Na(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Sa(Ca(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=ce(a/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,o+=ce(n/24),s+=i=ce(Ta(o)),o-=Sa(Ca(i)),r=ce(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Ta(e){return 4800*e/146097}function Ca(e){return 146097*e/4800}function ja(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ta(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ca(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Da(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Aa(e){return function(){return this.as(e)}}var Oa=Aa("ms"),Ra=Aa("s"),Pa=Aa("m"),Ma=Aa("h"),La=Aa("d"),Fa=Aa("w"),Va=Aa("M"),Ua=Aa("Q"),qa=Aa("y");function Ba(){return Tr(this)}function za(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Ha(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ga=Ha("milliseconds"),Wa=Ha("seconds"),Ya=Ha("minutes"),Za=Ha("hours"),Ka=Ha("days"),Qa=Ha("months"),$a=Ha("years");function Ja(){return ce(this.days()/7)}var Xa=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Tr(e).abs(),a=Xa(i.as("s")),o=Xa(i.as("m")),s=Xa(i.as("h")),u=Xa(i.as("d")),c=Xa(i.as("M")),l=Xa(i.as("w")),d=Xa(i.as("y")),f=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),(f=f||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,f[3]=+e>0,f[4]=r,to.apply(null,f)}function ro(e){return void 0===e?Xa:"function"===typeof e&&(Xa=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function uo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=oo(this._milliseconds)/1e3,c=oo(this._days),l=oo(this._months),d=this.asSeconds();return d?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",a=so(this._months)!==so(d)?"-":"",o=so(this._days)!==so(d)?"-":"",s=so(this._milliseconds)!==so(d)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=wa,co.add=Ea,co.subtract=Ia,co.as=ja,co.asMilliseconds=Oa,co.asSeconds=Ra,co.asMinutes=Pa,co.asHours=Ma,co.asDays=La,co.asWeeks=Fa,co.asMonths=Va,co.asQuarters=Ua,co.asYears=qa,co.valueOf=Da,co._bubble=Na,co.clone=Ba,co.get=za,co.milliseconds=Ga,co.seconds=Wa,co.minutes=Ya,co.hours=Za,co.days=Ka,co.weeks=Ja,co.months=Qa,co.years=$a,co.humanize=ao,co.toISOString=uo,co.toString=uo,co.toJSON=uo,co.locale=oi,co.localeData=ui,co.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",uo),co.lang=si,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Re("x",Ce),Re("X",Ae),Ve("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ve("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",i(Kn),r.fn=ua,r.min=Xn,r.max=er,r.now=tr,r.utc=p,r.unix=ca,r.months=ma,r.isDate=d,r.locale=vn,r.invalid=g,r.duration=Tr,r.isMoment=_,r.weekdays=ga,r.parseZone=la,r.localeData=gn,r.isDuration=sr,r.monthsShort=ya,r.weekdaysMin=xa,r.defineLocale=mn,r.updateLocale=yn,r.locales=kn,r.weekdaysShort=ka,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=qr,r.prototype=ua,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var d=0;d<s.length;d++)r.call(o,s[d])&&(u[s[d]]=o[s[d]])}}return u}},151:function(e,t,n){var r=n(571);e.exports=h,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],f=n[1],h=n.index;if(s+=e.slice(o,h),o=h+d.length,f)s+=f[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],x=n[7];s&&(r.push(s),s="");var b=null!=v&&null!=p&&p!==v,w="+"===k||"*"===k,_="?"===k||"*"===k,E=n[2]||l,I=y||g;r.push({name:m||a++,prefix:v||"",delimiter:E,optional:_,repeat:w,partial:b,asterisk:!!x,pattern:I?c(I):x?".*":"[^"+u(E)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var d,f=s[l.name];if(null==f){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(d=u(f[h]),!n[c].test(d))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===h?l.prefix:l.delimiter)+d}}else{if(d=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(d))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+d+'"');a+=l.prefix+d}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var f=u(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+f+h+")*"),o+=h=c.optional?c.partial?f+"("+h+")?":"(?:"+f+"("+h+"))?":f+"("+h+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,d(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return f(a(e,n),t,n)}(e,t,n)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(585);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,_=60106,E=60107,I=60108,S=60114,N=60109,T=60110,C=60112,j=60113,D=60120,A=60115,O=60116,R=60121,P=60128,M=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var V=Symbol.for;w=V("react.element"),_=V("react.portal"),E=V("react.fragment"),I=V("react.strict_mode"),S=V("react.profiler"),N=V("react.provider"),T=V("react.context"),C=V("react.forward_ref"),j=V("react.suspense"),D=V("react.suspense_list"),A=V("react.memo"),O=V("react.lazy"),R=V("react.block"),V("react.scope"),P=V("react.opaque.id"),M=V("react.debug_trace_mode"),L=V("react.offscreen"),F=V("react.legacy_hidden")}var U,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function G(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function Y(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case S:return"Profiler";case I:return"StrictMode";case j:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return Y(e.type);case R:return Y(e._render);case O:t=e._payload,e=e._init;try{return Y(e(t))}catch(n){}}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ce(e,t){var n=Z(t.value),r=Z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Te=null,Ce=null;function je(e){if(e=ri(e)){if("function"!==typeof Ne)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ne(e.stateNode,e.type,t))}}function De(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function Ae(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var Me=Oe,Le=!1,Fe=!1;function Ve(){null===Te&&null===Ce||(Pe(),Ae())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(d)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){qe=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,Ge=null,We=!1,Ye=null,Ze={onError:function(e){He=!0,Ge=e}};function Ke(e,t,n,r,i,a,o,s,u){He=!1,Ge=null,ze.apply(Ze,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(o(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,dt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function xt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),dt.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xt)))}function wt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},St={};function Nt(e){if(It[e])return It[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}d&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Tt=Nt("animationend"),Ct=Nt("animationiteration"),jt=Nt("animationstart"),Dt=Nt("transitionend"),At=new Map,Ot=new Map,Rt=["abort","abort",Tt,"animationEnd",Ct,"animationIteration",jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),At.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Lt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Lt(u),i=Mt):0!==(s&=a)&&(r=Lt(s),i=Mt)}else 0!==(a=n&~o)?(r=Lt(a),i=Mt):0!==s&&(r=Lt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Ut(10,t):e;case 10:return 0===(e=qt(192&~t))?Ut(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Wt|0)|0},Gt=Math.log,Wt=Math.LN2;var Yt=a.unstable_UserBlockingPriority,Zt=a.unstable_runWithPriority,Kt=!0;function Qt(e,t,n,r){Le||Pe();var i=Jt,a=Le;Le=!0;try{Re(i,e,t,n,r)}finally{(Le=a)||Ve()}}function $t(e,t,n,r){Zt(Yt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Xt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dt.set(a,mt(dt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Pr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Qe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,ln=e.screenY-dn.screenY):ln=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),xn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=un(bn),_n=un(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return Nn}var Cn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=un(Cn),Dn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=un(Rn),Mn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var Vn=d&&"TextEvent"in window&&!Fn,Un=d&&(!Ln||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Zn(e,t,n,r){De(r),0<(t=Lr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function $n(e){Cr(e,0)}function Jn(e){if($(ii(e)))return e}function Xn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",ar),Qn=Kn=null)}function ar(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];if(Zn(t,Qn,e,Se(e)),e=$n,Le)e(t);else{Le=!0;try{Oe(e,t)}finally{Le=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(ir(),Qn=n,(Kn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=d&&"documentMode"in document&&11>=document.documentMode,kr=null,xr=null,br=null,wr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=Lr(xr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Rt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Er.length;Ir++)Ot.set(Er[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ke.apply(this,arguments),He){if(!He)throw Error(o(198));var l=Ge;He=!1,Ge=null,We||(We=!0,Ye=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}}}if(We)throw e=Ye,We=!1,Ye=null,e}function jr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Dr]||(e[Dr]=!0,s.forEach((function(t){Nr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Nr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Rr(a,e,i,t),o.add(s))}function Rr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=$t;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ve()}}((function(){var r=a,i=Se(n),o=[];e:{var s=At.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=jn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Tt:case Ct:case jt:u=xn;break;case Dt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Dn}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Ue(p,f))&&l.push(Mr(p,v,h)))),d)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(d=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Dn,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:ii(u),h=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=d,s.relatedTarget=h,v=null,ni(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=h,l.relatedTarget=d,v=l),d=v,u&&c)e:{for(f=c,p=0,h=l=u;h;h=Fr(h))p++;for(h=0,v=f;v;v=Fr(v))h++;for(;0<p-h;)l=Fr(l),p--;for(;0<h-p;)f=Fr(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Fr(l),f=Fr(f)}l=null}else l=null;null!==u&&Vr(o,s,u,l,!1),null!==c&&null!==d&&Vr(o,d,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Yn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Zn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Yn(y)||"true"===y.contentEditable)&&(kr=y,xr=r,br=null);break;case"focusout":br=xr=kr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Gn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Gn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Gn=!0)),0<(y=Lr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Ln&&zn(e,t)?(e=rn(),nn=tn=en=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var qr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Yr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var $r=Math.random().toString(36).slice(2),Jr="__reactFiber$"+$r,Xr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Jr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Xr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function di(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},hi=ci(fi),pi=ci(!1),vi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(hi)}function ki(e,t,n){if(hi.current!==fi)throw Error(o(168));di(hi,t),di(pi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,Y(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=hi.current,di(hi,e),di(pi,pi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),di(hi,e)):li(pi),di(pi,n)}var _i=null,Ei=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ni=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ci=a.unstable_requestPaint,ji=a.unstable_now,Di=a.unstable_getCurrentPriorityLevel,Ai=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,Pi=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Li={},Fi=void 0!==Ci?Ci:function(){},Vi=null,Ui=null,qi=!1,Bi=ji(),zi=1e4>Bi?ji:function(){return ji()-Bi};function Hi(){switch(Di()){case Ai:return 99;case Oi:return 98;case Ri:return 97;case Pi:return 96;case Mi:return 95;default:throw Error(o(332))}}function Gi(e){switch(e){case 99:return Ai;case 98:return Oi;case 97:return Ri;case 96:return Pi;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Gi(e),Ii(e,t)}function Yi(e,t,n){return e=Gi(e),Si(e,t,n)}function Zi(){if(null!==Ui){var e=Ui;Ui=null,Ni(e)}Ki()}function Ki(){if(!qi&&null!==Vi){qi=!0;var e=0;try{var t=Vi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(n){throw null!==Vi&&(Vi=Vi.slice(e+1)),Si(Ai,Zi),n}finally{qi=!1}}}var Qi=b.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Xi=null,ea=null,ta=null;function na(){ta=ea=Xi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Xi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Xi)throw Error(o(308));ea=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function da(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=l:f.next=l,d.lastBaseUpdate=c)}}if(null!==o){for(f=a.baseState,s=0,d=l=c=null;;){u=o.lane;var h=o.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(h,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else h={eventTime:h,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(l=d=h,c=f):d=d.next=h,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===d&&(c=f),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=d,qs|=s,e.lanes=s,e.memoizedState=f}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=hu(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),da(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=hu(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),da(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=hu(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),da(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ka(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:hi.current,i.context=mi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Yu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Zu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Yu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=$u(t,e.mode,n)).return=e,t}if(wa(t)||B(t))return(t=Zu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===E?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(wa(n)||B(n))return null!==i?null:d(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||B(r))return d(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=h(i,d,s[v],u);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,d=m}if(v===s.length)return n(i,d),c;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],u))&&(o=a(d,o,v),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&d.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var d=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=h(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===d?l=k:d.sibling=k,d=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,c))&&(s=a(g,s,m),null===d?l=g:d.sibling=g,d=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===d?l=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case w:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Zu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Yu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$u(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Qu(a,e.mode,u)).return=e,e=r),s(e);if(wa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Y(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Na=Ia(!1),Ta={},Ca=ci(Ta),ja=ci(Ta),Da=ci(Ta);function Aa(e){if(e===Ta)throw Error(o(174));return e}function Oa(e,t){switch(di(Da,t),di(ja,e),di(Ca,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ca),di(Ca,t)}function Ra(){li(Ca),li(ja),li(Da)}function Pa(e){Aa(Da.current);var t=Aa(Ca.current),n=pe(t,e.type);t!==n&&(di(ja,e),di(Ca,n))}function Ma(e){ja.current===e&&(li(Ca),li(ja))}var La=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=null,Ua=null,qa=!1;function Ba(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(qa){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Zr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(Va=e);Ba(Va,n)}Va=e,Ua=Zr(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,Va=e}}function Ga(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Va=e}function Wa(e){if(e!==Va)return!1;if(!qa)return Ga(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Ua;t;)Ba(e,t),t=Zr(t.nextSibling);if(Ga(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Va?Zr(e.stateNode.nextSibling):null;return!0}function Ya(){Ua=Va=null,qa=!1}var Za=[];function Ka(){for(var e=0;e<Za.length;e++)Za[e]._workInProgressVersionPrimary=null;Za.length=0}var Qa=b.ReactCurrentDispatcher,$a=b.ReactCurrentBatchConfig,Ja=0,Xa=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=null===e||null===e.memoizedState?Oo:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Qa.current=Po,e=n(r,i)}while(ro)}if(Qa.current=Ao,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Xa=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Xa.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Xa.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Xa.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=d,a=r):u=u.next=d,Xa.lanes|=l,qs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Za.push(t))),e)return n(t._source);throw Za.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Qa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],d=c[0];c=to;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,v=f.source;f=f.subscribe;var m=Xa;return e.memoizedState={refs:h,source:t,subscribe:r},u.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(l(e),e=hu(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hu(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:d}).dispatch=l=Do.bind(null,Xa,e),c.queue=e,c.baseQueue=null,d=ho(i,t,n),c.memoizedState=c.baseState=d),d}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Do.bind(null,Xa,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function xo(e,t,n,r){var i=so();Xa.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Xa.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function wo(e,t){return xo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function Eo(e,t){return bo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)}function No(){}function To(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jo(e,t){var n=Hi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Do(e,t,n){var r=fu(),i=hu(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Xa||null!==o&&o===Xa)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ao={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Do.bind(null,Xa,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:No,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return wo((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=jo.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Xa.mode)&&(Xa.flags|=516,yo(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:To,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Co,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:No,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:To,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Co,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:No,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Lo=!1;function Fo(e,t,n,r){t.child=null===e?Na(t,null,n,r):Sa(t,e.child,n,r)}function Vo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Gu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return Ho(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wu(t,e),null;t.memoizedState={baseLanes:0},wu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,wu(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:hi.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Go(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:hi.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&xa(t,o,r,c),sa=!1;var f=t.memoizedState;o.state=f,ha(t,r,o,i),u=t.memoizedState,s!==r||f!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,f,u,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:$i(t.type,s),o.props=c,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:hi.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&xa(t,o,r,u),sa=!1,f=t.memoizedState,o.state=f,ha(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||pi.current||sa?("function"===typeof h&&(ma(t,n,h,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,f,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Yo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Zo,Ko,Qo,$o={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),di(La,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Xo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ku(t,i,0,null),n=Zu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Zu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(hi),Ka(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Aa(Da.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Aa(Ca.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Xr]=s,n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)jr(Sr[e],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":ee(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":ue(r,s),jr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&jr("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Zo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":jr("cancel",e),jr("close",e),a=r;break;case"iframe":case"object":case"embed":jr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)jr(Sr[a],e);a=r;break;case"source":jr("error",e),a=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),a=r;break;case"details":jr("toggle",e),a=r;break;case"input":ee(e,r),a=X(e,r),jr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),jr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ye(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"===typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&jr("scroll",e):null!=d&&x(e,s,d,c))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Aa(Da.current),Aa(Ca.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Os||0===(134217727&qs)&&0===(134217727&Bs)||gu(Os,Ps))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(La),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=La.current,di(La,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(hi),Ka(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(La),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Aa(Ca.current);var o,s=null;switch(n){case"input":a=X(e,a),r=X(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(d in Ee(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var c=a[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(c=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(null!=l||null!=c))if("style"===d)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&jr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===P?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,$s=r),ls(0,t)},n}function hs(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Yr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Lu(t,n);else{r=t;try{i()}catch(a){Uu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Uu(t,a)}break;case 5:vs(t);break;case 4:Is(e,t)}}function xs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Es(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):x(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Gs=zi(),gs(t.child,!0)),void Ns(t);case 19:return void Ns(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ns(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,js=b.ReactCurrentDispatcher,Ds=b.ReactCurrentOwner,As=0,Os=null,Rs=null,Ps=0,Ms=0,Ls=ci(0),Fs=0,Vs=null,Us=0,qs=0,Bs=0,zs=0,Hs=null,Gs=0,Ws=1/0;function Ys(){Ws=zi()+500}var Zs,Ks=null,Qs=!1,$s=null,Js=null,Xs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,du=!1;function fu(){return 0!==(48&As)?zi():-1!==su?su:su=zi()}function hu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Us),0!==Qi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&As)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Os&&(Bs|=t,4===Fs&&gu(e,Ps));var r=Hi();1===t?0!==(8&As)&&0===(48&As)?ku(e):(mu(e,n),0===As&&(Ys(),Zi())):(0===(4&As)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var d=Mt;a[u]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Os?Ps:0),t=Mt,0===r)null!==n&&(n!==Li&&Ni(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ni(n)}15===t?(n=ku.bind(null,e),null===Vi?(Vi=[n],Ui=Si(Ai,Ki)):Vi.push(n),n=Li):14===t?n=Yi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Yi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(o(327));var t=e.callbackNode;if(Pu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?Ps:0);if(0===n)return null;var r=n,i=As;As|=16;var a=Su();for(Os===e&&Ps===r||(Ys(),Eu(e,r));;)try{Cu();break}catch(u){Iu(e,u)}if(na(),js.current=a,As=i,null!==Rs?r=0:(Os=null,Ps=0,r=Fs),0!==(Us&Bs))Eu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(n=Vt(e))&&(r=Nu(e,n))),1===r)throw t=Vs,Eu(e,0),gu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Au(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Gs+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gr(Au.bind(null,e),r);break}Au(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Gr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~zs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&As))throw Error(o(327));if(Pu(),e===Os&&0!==(e.expiredLanes&Ps)){var t=Ps,n=Nu(e,t);0!==(Us&Bs)&&(n=Nu(e,t=Ft(e,t)))}else n=Nu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Yr(e.containerInfo)),0!==(t=Vt(e))&&(n=Nu(e,t))),1===n)throw n=Vs,Eu(e,0),gu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),mu(e,zi()),null}function xu(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Ys(),Zi())}}function bu(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Ys(),Zi())}}function wu(e,t){di(Ls,Ms),Ms|=t,Us|=t}function _u(){Ms=Ls.current,li(Ls)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(hi),Ka();break;case 5:Ma(r);break;case 4:Ra();break;case 13:case 19:li(La);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,Rs=Wu(e.current,null),Ps=Ms=Us=t,Fs=0,Vs=null,zs=Bs=qs=0}function Iu(e,t){for(;;){var n=Rs;try{if(na(),Qa.current=Ao,no){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Xa=null,ro=!1,Ds.current=null,null===n||null===n.return){Fs=1,Vs=t,Rs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&La.current),f=o;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=f.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!d)}}if(h){var m=f.updateQueue;if(null===m){var y=new Set;y.add(c),f.updateQueue=y}else m.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,da(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new ds,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var x=qu.bind(null,a,c,s);c.then(x,x)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((Y(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,fa(f,fs(0,a,t));break e;case 1:a=u;var b=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof b.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Js||!Js.has(w)))){f.flags|=4096,t&=-t,f.lanes|=t,fa(f,hs(f,a,t));break e}}f=f.return}while(null!==f)}Du(n)}catch(_){t=_,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Su(){var e=js.current;return js.current=Ao,null===e?Ao:e}function Nu(e,t){var n=As;As|=16;var r=Su();for(Os===e&&Ps===t||Eu(e,t);;)try{Tu();break}catch(i){Iu(e,i)}if(na(),As=n,js.current=r,null!==Rs)throw Error(o(261));return Os=null,Ps=0,Fs}function Tu(){for(;null!==Rs;)ju(Rs)}function Cu(){for(;null!==Rs&&!Ti();)ju(Rs)}function ju(e){var t=Zs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Du(e):Rs=t,Ds.current=null}function Du(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Au(e){var t=Hi();return Wi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Pu()}while(null!==eu);if(0!==(48&As))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Rs=Os=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=As,As|=32,Ds.current=null,qr=Kt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var d=0,f=-1,h=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(f=d+a),m!==c||0!==l&&3!==m.nodeType||(h=d+l),3===m.nodeType&&(d+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(f=d),y===c&&++v===l&&(h=d),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===f||-1===h?null:{start:f,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Kt=!1,lu=null,du=!1,Ks=r;do{try{Ru()}catch(S){if(null===Ks)throw Error(o(330));Uu(Ks,S),Ks=Ks.nextEffect}}while(null!==Ks);lu=null,Ks=r;do{try{for(s=e;null!==Ks;){var k=Ks.flags;if(16&k&&ge(Ks.stateNode,""),128&k){var x=Ks.alternate;if(null!==x){var b=x.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:ws(Ks),Ks.flags&=-3;break;case 6:ws(Ks),Ks.flags&=-3,Ss(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Ss(Ks.alternate,Ks);break;case 4:Ss(Ks.alternate,Ks);break;case 8:Is(s,u=Ks);var w=u.alternate;xs(u),null!==w&&xs(w)}Ks=Ks.nextEffect}}catch(S){if(null===Ks)throw Error(o(330));Uu(Ks,S),Ks=Ks.nextEffect}}while(null!==Ks);if(b=Br,x=mr(),k=b.focusedElem,s=b.selectionRange,x!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(x=s.start,void 0===(b=s.end)&&(b=x),"selectionStart"in k?(k.selectionStart=x,k.selectionEnd=Math.min(b,k.value.length)):(b=(x=k.ownerDocument||document)&&x.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!b.extend&&w>s&&(u=s,s=w,w=u),u=pr(k,w),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((x=x.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),w>s?(b.addRange(x),b.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),b.addRange(x))))),x=[];for(b=k;b=b.parentNode;)1===b.nodeType&&x.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<x.length;k++)(b=x[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Kt=!!qr,Br=qr=null,e.current=n,Ks=r;do{try{for(k=e;null!==Ks;){var _=Ks.flags;if(36&_&&ys(k,Ks.alternate,Ks),128&_){x=void 0;var E=Ks.ref;if(null!==E){var I=Ks.stateNode;Ks.tag,x=I,"function"===typeof E?E(x):E.current=x}}Ks=Ks.nextEffect}}catch(S){if(null===Ks)throw Error(o(330));Uu(Ks,S),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Fi(),As=i}else e.current=n;if(Xs)Xs=!1,eu=e,tu=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((_=Ks).sibling=null,_.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(mu(e,zi()),Qs)throw Qs=!1,e=$s,$s=null,e;return 0!==(8&As)||Zi(),null}function Ru(){for(;null!==Ks;){var e=Ks.alternate;du||null===lu||(0!==(8&Ks.flags)?et(Ks,lu)&&(du=!0):13===Ks.tag&&Ts(e,Ks)&&et(Ks,lu)&&(du=!0));var t=Ks.flags;0!==(256&t)&&ms(e,Ks),0===(512&t)||Xs||(Xs=!0,Yi(97,(function(){return Pu(),null}))),Ks=Ks.nextEffect}}function Pu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Xs||(Xs=!0,Yi(97,(function(){return Pu(),null})))}function Lu(e,t){ru.push(t,e),Xs||(Xs=!0,Yi(97,(function(){return Pu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(o(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Uu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Uu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Zi(),!0}function Vu(e,t,n){da(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Uu(e,t){if(3===e.tag)Vu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Vu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=hs(n,e=cs(t,e),1);if(da(n,i),i=fu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ps&n)===n&&(4===Fs||3===Fs&&(62914560&Ps)===Ps&&500>zi()-Gs?Eu(e,0):zs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Us),0===(t=qt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new zu(e,t,n,r)}function Gu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Gu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Zu(n.children,i,a,t);case M:s=8,i|=16;break;case I:s=8,i|=1;break;case S:return(e=Hu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case j:return(e=Hu(13,n,t,i)).type=j,e.elementType=j,e.lanes=a,e;case D:return(e=Hu(19,n,t,i)).elementType=D,e.lanes=a,e;case L:return Ku(n,i,a,t);case F:return(e=Hu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case T:s=9;break e;case C:s=11;break e;case A:s=14;break e;case O:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Zu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=L,e.lanes=n,e}function Qu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function $u(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=fu(),s=hu(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=xi(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),da(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Xu(e,t,null,n)}Zs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Yo(t),Ya();break;case 5:Pa(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(di(La,1&La.current),null!==(t=as(e,t,n))?t.sibling:null);di(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Gu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Go(null,t,i,e,n);break e;case 11:t=Vo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Go(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(Yo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Ya(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Zr(t.stateNode.containerInfo.firstChild),Va=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Za.push(a);for(n=Na(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ya();t=t.child}return t;case 5:return Pa(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Vo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(di(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,da(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Uo(e,t,i,a=$i(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=hu(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ne=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=xu,Re=function(e,t,n,r,i){var a=As;As|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(As=a)&&(Ys(),Zi())}},Pe=function(){0===(49&As)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Zi()}(),Pu())},Me=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Ys(),Zi())}};var uc={Events:[ri,ii,ai,De,Ae,Pu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{_i=dc.inject(lc),Ei=dc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{As=n,Zi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=xu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},67:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,d=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,b=x.port2;x.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=f((function(){e(t.unstable_now())}),n)},i=function(){h(y),y=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],N=[],T=1,C=null,j=3,D=!1,A=!1,O=!1;function R(e){for(var t=_(N);null!==t;){if(null===t.callback)E(N);else{if(!(t.startTime<=e))break;E(N),t.sortIndex=t.expirationTime,w(S,t)}t=_(N)}}function P(e){if(O=!1,R(e),!A)if(null!==_(S))A=!0,n(M);else{var t=_(N);null!==t&&r(P,t.startTime-e)}}function M(e,n){A=!1,O&&(O=!1,i()),D=!0;var a=j;try{for(R(n),C=_(S);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,j=C.priorityLevel;var s=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===_(S)&&E(S),R(n)}else E(S);C=_(S)}if(null!==C)var u=!0;else{var c=_(N);null!==c&&r(P,c.startTime-n),u=!1}return u}finally{C=null,j=a,D=!1}}var L=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||D||(A=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(j){case 1:case 2:case 3:var t=3;break;default:t=j}var n=j;j=t;try{return e()}finally{j=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=j;j=e;try{return t()}finally{j=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:T++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,w(N,e),null===_(S)&&e===_(N)&&(O?i():O=!0,r(P,o-s))):(e.sortIndex=u,w(S,e),A||D||(A=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}},585:function(e,t,n){"use strict";e.exports=n(67)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case a:case s:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return b(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||b(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===f},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===g||e.$$typeof===k||e.$$typeof===x||e.$$typeof===y)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,d=60120,f=60115,h=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),s=k("react.provider"),u=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),d=k("react.suspense_list"),f=k("react.memo"),h=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case d:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case f:case s:return e;default:return t}}case r:return t}}}},900:function(e,t,n){"use strict";n(459)},146:function(e,t,n){var r,i;"undefined"!=typeof self&&self,e.exports=(r=n(791),i=n(164),function(){"use strict";var e={655:function(e,t,n){n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return a},__rest:function(){return o},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return d},__createBinding:function(){return f},__exportStar:function(){return h},__values:function(){return p},__read:function(){return v},__spread:function(){return m},__spreadArrays:function(){return y},__spreadArray:function(){return g},__await:function(){return k},__asyncGenerator:function(){return x},__asyncDelegator:function(){return b},__asyncValues:function(){return w},__makeTemplateObject:function(){return _},__importStar:function(){return I},__importDefault:function(){return S},__classPrivateFieldGet:function(){return N},__classPrivateFieldSet:function(){return T}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function h(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}function g(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function x(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof k?Promise.resolve(n.value.v).then(u,c):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:k(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return E(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function T(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},156:function(e){e.exports=r},111:function(e){e.exports=i}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){var e=a;Object.defineProperty(e,"__esModule",{value:!0}),e.useReactToPrint=e.PrintContextConsumer=void 0;var t=n(655),r=n(156),i=n(111),o=Object.prototype.hasOwnProperty.call(r,"createContext"),s=Object.prototype.hasOwnProperty.call(r,"useMemo")&&Object.prototype.hasOwnProperty.call(r,"useCallback"),u=o?r.createContext({}):null;e.PrintContextConsumer=u?u.Consumer:function(){return null};var c={copyStyles:!0,pageStyle:"@page { size: auto;  margin: 0mm; } @media print { body { -webkit-print-color-adjust: exact; } }",removeAfterPrint:!1,suppressErrors:!1},l=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.startPrint=function(e){var t=n.props,r=t.onAfterPrint,i=t.onPrintError,a=t.print,o=t.documentTitle;setTimeout((function(){var t,s;if(e.contentWindow){if(e.contentWindow.focus(),a)a(e).then(n.handleRemoveIframe).catch((function(e){i?i("print",e):n.logMessages(["An error was thrown by the specified `print` function"])}));else if(e.contentWindow.print){var u=null!==(s=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==s?s:"",c=e.ownerDocument.title;o&&(e.ownerDocument.title=o,e.contentDocument&&(e.contentDocument.title=o)),e.contentWindow.print(),o&&(e.ownerDocument.title=c,e.contentDocument&&(e.contentDocument.title=u))}else n.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);r&&r(),n.handleRemoveIframe()}else n.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])}),500)},n.triggerPrint=function(e){var t=n.props,r=t.onBeforePrint,i=t.onPrintError;if(r){var a=r();a&&"function"==typeof a.then?a.then((function(){n.startPrint(e)})).catch((function(e){i&&i("onBeforePrint",e)})):n.startPrint(e)}else n.startPrint(e)},n.handleClick=function(){var e=n.props,t=e.onBeforeGetContent,r=e.onPrintError;if(t){var i=t();i&&"function"==typeof i.then?i.then(n.handlePrint).catch((function(e){r&&r("onBeforeGetContent",e)})):n.handlePrint()}else n.handlePrint()},n.handlePrint=function(){var e=n.props,r=e.bodyClass,a=e.content,o=e.copyStyles,s=e.fonts,u=e.pageStyle,c=e.nonce,l=a();if(void 0!==l)if(null!==l){var d=document.createElement("iframe");d.style.position="absolute",d.style.top="-1000px",d.style.left="-1000px",d.id="printWindow",d.srcdoc="<!DOCTYPE html>";var f=(0,i.findDOMNode)(l);if(f){var h=f.cloneNode(!0),p=h instanceof Text,v=document.querySelectorAll("link[rel='stylesheet']"),m=p?[]:h.querySelectorAll("img"),y=p?[]:h.querySelectorAll("video");n.linkTotal=v.length+m.length+y.length,n.linksLoaded=[],n.linksErrored=[],n.fontsLoaded=[],n.fontsErrored=[];var g=function(e,t){t?n.linksLoaded.push(e):(n.logMessages(['"react-to-print" was unable to load a linked node. It may be invalid. "react-to-print" will continue attempting to print the page. The linked node that errored was:',e]),n.linksErrored.push(e)),n.linksLoaded.length+n.linksErrored.length+n.fontsLoaded.length+n.fontsErrored.length===n.linkTotal&&n.triggerPrint(d)};d.onload=function(){var e,i,a,l;d.onload=null;var v=d.contentDocument||(null===(i=d.contentWindow)||void 0===i?void 0:i.document);if(v){v.body.appendChild(h),s&&((null===(a=d.contentDocument)||void 0===a?void 0:a.fonts)&&(null===(l=d.contentWindow)||void 0===l?void 0:l.FontFace)?s.forEach((function(e){var t=new FontFace(e.family,e.source);d.contentDocument.fonts.add(t),t.loaded.then((function(e){n.fontsLoaded.push(e)})).catch((function(e){n.fontsErrored.push(t),n.logMessages(['"react-to-print" was unable to load a font. "react-to-print" will continue attempting to print the page. The font that failed to load is:',t,"The error from loading the font is:",e])}))})):n.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API']));var k="function"==typeof u?u():u;if("string"!=typeof k)n.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof k,'". Styles from `pageStyle` will not be applied.')]);else{var x=v.createElement("style");c&&(x.setAttribute("nonce",c),v.head.setAttribute("nonce",c)),x.appendChild(v.createTextNode(k)),v.head.appendChild(x)}if(r&&(e=v.body.classList).add.apply(e,(0,t.__spreadArray)([],(0,t.__read)(r.split(" ")),!1)),!p){for(var b=p?[]:f.querySelectorAll("canvas"),w=v.querySelectorAll("canvas"),_=0;_<b.length;++_){var E=b[_],I=w[_].getContext("2d");I&&I.drawImage(E,0,0)}for(_=0;_<m.length;_++){var S=m[_],N=S.getAttribute("src");N?((C=new Image).onload=g.bind(null,S,!0),C.onerror=g.bind(null,S,!1),C.src=N):(n.logMessages(['"react-to-print" encountered an <img> tag with an empty "src" attribute. It will not attempt to pre-load it. The <img> is:',S],"warning"),g(S,!1))}for(_=0;_<y.length;_++){var T=y[_];T.preload="auto";var C,j=T.getAttribute("poster");j?((C=new Image).onload=g.bind(null,T,!0),C.onerror=g.bind(null,T,!1),C.src=j):T.readyState>=2?g(T,!0):(T.onloadeddata=g.bind(null,T,!0),T.onerror=g.bind(null,T,!1),T.onstalled=g.bind(null,T,!1))}var D="input",A=f.querySelectorAll(D),O=v.querySelectorAll(D);for(_=0;_<A.length;_++)O[_].value=A[_].value;var R="input[type=checkbox],input[type=radio]",P=f.querySelectorAll(R),M=v.querySelectorAll(R);for(_=0;_<P.length;_++)M[_].checked=P[_].checked;var L="select",F=f.querySelectorAll(L),V=v.querySelectorAll(L);for(_=0;_<F.length;_++)V[_].value=F[_].value}if(o)for(var U=document.querySelectorAll("style, link[rel='stylesheet']"),q=(_=0,U.length);_<q;++_){var B=U[_];if("style"===B.tagName.toLowerCase()){var z=v.createElement(B.tagName),H=B.sheet;if(H){var G="";try{for(var W=H.cssRules.length,Y=0;Y<W;++Y)"string"==typeof H.cssRules[Y].cssText&&(G+="".concat(H.cssRules[Y].cssText,"\r\n"))}catch(e){n.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",B],"warning")}z.setAttribute("id","react-to-print-".concat(_)),c&&z.setAttribute("nonce",c),z.appendChild(v.createTextNode(G)),v.head.appendChild(z)}}else if(B.getAttribute("href")){z=v.createElement(B.tagName),Y=0;for(var Z=B.attributes.length;Y<Z;++Y){var K=B.attributes[Y];K&&z.setAttribute(K.nodeName,K.nodeValue||"")}z.onload=g.bind(null,z,!0),z.onerror=g.bind(null,z,!1),c&&z.setAttribute("nonce",c),v.head.appendChild(z)}else n.logMessages(['"react-to-print" encountered a <link> tag with an empty "href" attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:',B],"warning"),g(B,!0)}}0!==n.linkTotal&&o||n.triggerPrint(d)},n.handleRemoveIframe(!0),document.body.appendChild(d)}else n.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else n.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else n.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},n.handleRemoveIframe=function(e){var t=n.props.removeAfterPrint;if(e||t){var r=document.getElementById("printWindow");r&&document.body.removeChild(r)}},n.logMessages=function(e,t){void 0===t&&(t="error"),n.props.suppressErrors||("error"===t?console.error(e):"warning"===t&&console.warn(e))},n}return(0,t.__extends)(n,e),n.prototype.render=function(){var e=this.props,t=e.children,n=e.trigger;if(n)return r.cloneElement(n(),{onClick:this.handleClick});if(!u)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var i={handlePrint:this.handleClick};return r.createElement(u.Provider,{value:i},t)},n.defaultProps=c,n}(r.Component);e.default=l,e.useReactToPrint=function(e){if(!s)return e.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var n=r.useMemo((function(){return new l((0,t.__assign)((0,t.__assign)({},c),e))}),[e]);return r.useCallback((function(){return n.handleClick()}),[n])}}(),a}())},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),l=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var x={current:null},b=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),N(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=N(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,n,l=r+S(s,c++),o);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var j={current:null};function D(){var e=j.current;if(null===e)throw Error(h(321));return e}var A={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!w.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},484:function(e,t,n){"use strict";var r=n(781).qC;t.Uo="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__},781:function(e,t,n){"use strict";n.d(t,{MT:function(){return c},UY:function(){return l},md:function(){return f},qC:function(){return d}});var r=n(413);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"===typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function u(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(i(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(i(1));return n(c)(e,t)}if("function"!==typeof e)throw new Error(i(2));var o=e,l=t,d=[],f=d,h=!1;function p(){f===d&&(f=d.slice())}function v(){if(h)throw new Error(i(3));return l}function m(e){if("function"!==typeof e)throw new Error(i(4));if(h)throw new Error(i(5));var t=!0;return p(),f.push(e),function(){if(t){if(h)throw new Error(i(6));t=!1,p();var n=f.indexOf(e);f.splice(n,1),d=null}}}function y(e){if(!u(e))throw new Error(i(7));if("undefined"===typeof e.type)throw new Error(i(8));if(h)throw new Error(i(9));try{h=!0,l=o(l,e)}finally{h=!1}for(var t=d=f,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error(i(10));o=e,y({type:s.REPLACE})}function k(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(i(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return y({type:s.INIT}),(r={dispatch:y,subscribe:m,getState:v,replaceReducer:g})[a]=k,r}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"===typeof e[a]&&(n[a]=e[a])}var o,u=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:s.INIT}))throw new Error(i(12));if("undefined"===typeof n(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw new Error(i(13))}))}(n)}catch(c){o=c}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,a={},s=0;s<u.length;s++){var c=u[s],l=n[c],d=e[c],f=l(d,t);if("undefined"===typeof f){t&&t.type;throw new Error(i(14))}a[c]=f,r=r||f!==d}return(r=r||u.length!==Object.keys(e).length)?a:e}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(i(15))},o={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map((function(e){return e(o)}));return a=d.apply(void 0,s)(n.dispatch),(0,r.Z)((0,r.Z)({},n),{},{dispatch:a})}}}},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(D){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var x=Object.getPrototypeOf,b=x&&x(x(C([])));b&&b!==n&&r.call(b,a)&&(k=b);var w=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:j}}function j(){return{value:t,done:!0}}return y.prototype=g,u(w,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},427:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.a8ded667db3275d5f74c.png"},942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".bfa5964d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="unitraf:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkunitraf=self.webpackChunkunitraf||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Bt},SDK_VERSION:function(){return qn},_DEFAULT_ENTRY_NAME:function(){return Tn},_addComponent:function(){return An},_addOrOverwriteComponent:function(){return On},_apps:function(){return jn},_clearComponents:function(){return Ln},_components:function(){return Dn},_getProvider:function(){return Pn},_registerComponent:function(){return Rn},_removeServiceInstance:function(){return Mn},deleteApp:function(){return Gn},getApp:function(){return zn},getApps:function(){return Hn},initializeApp:function(){return Bn},onLog:function(){return Zn},registerVersion:function(){return Yn},setLogLevel:function(){return Kn}});var t=n(791),r=n(164),i=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},a=n(413);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){return"/"===e.charAt(0)}function l(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var d=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&c(e),o=t&&c(t),s=a||o;if(e&&c(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,f=i.length;f>=0;f--){var h=i[f];"."===h?l(i,f):".."===h?(l(i,f),d++):d&&(l(i,f),d--)}if(!s)for(;d--;d)i.unshift("..");!s||""===i[0]||i[0]&&c(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},f="Invariant failed";function h(e,t){if(!e)throw new Error(f)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=u({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=d(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function x(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function w(e,t){t(window.confirm(e))}var _="popstate",E="hashchange";function I(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),b||h(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?w:s,l=i.keyLength,d=void 0===l?6:l,f=e.basename?y(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=m(a,f)),k(a,r,n)}function S(){return Math.random().toString(36).substr(2,d)}var N=x();function T(e){u(U,e),U.length=t.length,N.notifyListeners(U.location,U.action)}function C(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||A(v(e.state))}function j(){A(v(I()))}var D=!1;function A(e){if(D)D=!1,T();else{N.confirmTransitionTo(e,"POP",c,(function(t){t?T({action:"POP",location:e}):function(e){var t=U.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(D=!0,M(i))}(e)}))}}var O=v(I()),R=[O.key];function P(e){return f+g(e)}function M(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?(window.addEventListener(_,C),r&&window.addEventListener(E,j)):0===L&&(window.removeEventListener(_,C),r&&window.removeEventListener(E,j))}var V=!1;var U={length:t.length,action:"POP",location:O,createHref:P,push:function(e,r){var i="PUSH",a=k(e,r,S(),U.location);N.confirmTransitionTo(a,i,c,(function(e){if(e){var r=P(a),s=a.key,u=a.state;if(n)if(t.pushState({key:s,state:u},null,r),o)window.location.href=r;else{var c=R.indexOf(U.location.key),l=R.slice(0,c+1);l.push(a.key),R=l,T({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,S(),U.location);N.confirmTransitionTo(a,i,c,(function(e){if(e){var r=P(a),s=a.key,u=a.state;if(n)if(t.replaceState({key:s,state:u},null,r),o)window.location.replace(r);else{var c=R.indexOf(U.location.key);-1!==c&&(R[c]=a.key),T({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=N.setPrompt(e);return V||(F(1),V=!0),function(){return V&&(V=!1,F(-1)),t()}},listen:function(e){var t=N.appendListener(e);return F(1),function(){F(-1),t()}}};return U}var N="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function C(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function D(e){window.location.replace(C(window.location.href)+"#"+e)}function A(e){void 0===e&&{},b||h(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?w:r,a=n.hashType,o=void 0===a?"slash":a,s=e.basename?y(p(e.basename)):"",c=T[o],l=c.encodePath,d=c.decodePath;function f(){var e=d(j());return s&&m(e,s),k(e)}var v=x();function _(e){u(U,e),U.length=t.length,v.notifyListeners(U.location,U.action)}var E=!1,I=null;function S(){var e,t,n=j(),r=l(n);if(n!==r)D(r);else{var a=f(),o=U.location;if(!E&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(I===g(a))return;null,function(e){if(E)!1,_();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?_({action:t,location:e}):function(e){var t=U.location,n=P.lastIndexOf(g(t));-1===n&&0;var r=P.lastIndexOf(g(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(a)}}var A=j(),O=l(A);A!==O&&D(O);var R=f(),P=[g(R)];function M(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?window.addEventListener(N,S):0===L&&window.removeEventListener(N,S)}var V=!1;var U={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&C(window.location.href),n+"#"+l(s+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,U.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);if(j()!==i){t,function(e){window.location.hash=e}(i);var a=P.lastIndexOf(g(U.location)),o=P.slice(0,a+1);o.push(t),o,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,U.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);j()!==i&&(t,D(i));var a=P.indexOf(g(U.location));-1!==a&&(P[a]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return V||(F(1),!0),function(){return V&&(!1,F(-1)),t()}},listen:function(e){var t=v.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function O(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=x();function d(e){u(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function f(){return Math.random().toString(36).substr(2,c)}var h=O(o,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?f():e.key||f())})),v=g;function m(e){var t=O(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var y={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,f(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,f(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,d({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}var P=n(7),M=n.n(P),L=1073741823,F="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function V(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var U=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return F[e]=(F[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=V(t.props.value),t}s(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):L,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=M().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}s(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?L:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?L:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=M().object,i),{Provider:o,Consumer:u}},q=U,B=n(151),z=n.n(B);n(441);function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var G=function(e){var t=q();return t.displayName=e,t},W=G("Router-History"),Y=function(e){var t=q();return t.displayName=e,t},Z=Y("Router"),K=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}s(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(Z.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(W.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var Q={},$=0;function J(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Q[n]||(Q[n]={});if(r[e])return r[e];var i=[],a={regexp:z()(e,i,t),keys:i};return $<1e4&&(r[e]=a,$++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],d=u.slice(1),f=e===l;return a&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:o.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var X=function(e){function n(){return e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this;return t.createElement(Z.Consumer,null,(function(n){n||h(!1);var r=e.props.location||n.location,i=u({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?J(r.pathname,e.props):n.match}),a=e.props,o=a.children,s=a.component,c=a.render;return Array.isArray(o)&&0===o.length&&(o=null),t.createElement(Z.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:s?t.createElement(s,i):c?c(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function ee(e){return"/"===e.charAt(0)?e:"/"+e}function te(e,t){if(!e)return t;var n=ee(e);return 0!==t.pathname.indexOf(n)?t:u({},t,{pathname:t.pathname.substr(n.length)})}function ne(e){return"string"===typeof e?e:g(e)}function re(e){return function(){h(!1)}}function ie(){}t.Component;var ae=function(e){function n(){return e.apply(this,arguments)||this}return s(n,e),n.prototype.render=function(){var e=this;return t.createElement(Z.Consumer,null,(function(n){n||h(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?J(a.pathname,u({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);t.useContext;var oe=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=S(t.props),t}return s(n,e),n.prototype.render=function(){return t.createElement(K,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var se=function(e,t){return"function"===typeof e?e(t):e},ue=function(e,t){return"string"===typeof e?k(e,null,null,t):e},ce=function(e){return e},le=t.forwardRef;"undefined"===typeof le&&(le=ce);var de=le((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=H(e,["innerRef","navigate","onClick"]),s=o.target,c=u({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=ce!==le&&n||r,t.createElement("a",c)}));var fe=le((function(e,n){var r=e.component,i=void 0===r?de:r,a=e.replace,o=e.to,s=e.innerRef,c=H(e,["component","replace","to","innerRef"]);return t.createElement(Z.Consumer,null,(function(e){e||h(!1);var r=e.history,l=ue(se(o,e.location),e.location),d=l?r.createHref(l):"",f=u({},c,{href:d,navigate:function(){var t=se(o,e.location);(a?r.replace:r.push)(t)}});return ce!==le?f.ref=n||s:f.innerRef=s,t.createElement(i,f)}))})),he=function(e){return e},pe=t.forwardRef;"undefined"===typeof pe&&(pe=he);pe((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,c=e.className,l=e.exact,d=e.isActive,f=e.location,p=e.sensitive,v=e.strict,m=e.style,y=e.to,g=e.innerRef,k=H(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Z.Consumer,null,(function(e){e||h(!1);var r=f||e.location,a=ue(se(y,r),r),x=a.pathname,b=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?J(r.pathname,{path:b,exact:l,sensitive:p,strict:v}):null,_=!!(d?d(w,r):w),E=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,o):c,I=_?u({},m,{},s):m,S=u({"aria-current":_&&i||null,className:E,style:I,to:a},k);return he!==pe?S.ref=n||g:S.innerRef=g,t.createElement(fe,S)}))}));var ve=n(184),me=function(){return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsx)("h4",{children:"Dashboard"})})}),(0,ve.jsx)("div",{className:"card",children:"Dashboard"})]})};function ye(e){if(Array.isArray(e))return e}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){if(e){if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}function xe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function be(e,t){return ye(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||ke(e,t)||xe()}var we=n(426),_e=n.n(we),Ee={id:Date.now(),date:_e()().format("DD/MM/YYYY"),operateur:"admin",eta:"",etd:"",numero:"",reference:"",expediteur:"",destinataire:"",depart:"",arrivee:"",dimensions:{long:"",larg:"",haut:""},mode:"",document:"",description:"",origine:"",provenance:"",quantite:"",type:"",poids:"",volume:"",client:{},status:"Ouvert",intervention:[],debours:[],declaration:[],autres:[],secef:{},t1:[],minute:[]},Ie=["Ouvert","Exp\xe9di\xe9","Transit","Douane","Livr\xe9"],Se=["A\xe9rien","Routier","Maritime","Rail","Modal","Multi-Modal"],Ne=["B\xe9nin","Burkina Faso","Cote d'ivoire","Ghana","Togo","Autres"],Te=["Colis","Conteneur","Camion","Citerne","Carton","Paquet","Palette"],Ce=["Ouverture de dossier","Commission sur d\xe9bours (3%)","Commission sur d\xe9bours (5%)","Commission Transit","HAD"],je=["Assign\xe9/autres","Assurance locale cordon douanier","Certificat phytosanitaire","Copies","Divers*","Droits & taxes douane","Ecor douane/D\xe9potage","Enl\xe8vement direct","Escorte Douane ","Escorte Ville Douane ","Escorte s\xe9curit\xe9","Etablissement Exon\xe9ration","Formalit\xe9s Passage fronti\xe8re","Frais LTA**","Livraison/Manutention","Magasinage**","Passage magasin douane","Redevance scanner","Remise documentaire ","Taxe mairie","Taxes syndicat ","Travail extra l\xe9gal Douane (T.E.L)"],De=function(e){return _e()(e).format("DD/MM/YYYY")},Ae=function(e){var t=e.showPrint,n=e.children;return t?(0,ve.jsx)("div",{className:"printBackground",children:(0,ve.jsx)("div",{className:"printContainer",children:n})}):""},Oe=n(146),Re=n(427),Pe=t.forwardRef((function(e,t){var n=e.dossier,r=e.index,i=n.minute[r];console.log("dossier",n),console.log("minute",i);var a=(0,ve.jsxs)("div",{className:"minute_print",ref:t,children:[(0,ve.jsxs)("section",{className:"min_header",children:[(0,ve.jsxs)("div",{className:"title col-2",children:[(0,ve.jsx)("h3",{children:"MINUTE"}),(0,ve.jsxs)("fieldset",{className:"inline_field col-12",children:[(0,ve.jsx)("legend",{children:"N\xb0 Transit"}),(0,ve.jsx)("p",{children:n.numero?"370/".concat(n.numero,"/").concat(_e()(n.date).format("YYYY")):"-"})]})]}),(0,ve.jsx)("div",{className:"col-6",style:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:(0,ve.jsxs)("fieldset",{className:"inline_field col-12",children:[(0,ve.jsx)("legend",{children:"D\xe9clarant"}),(0,ve.jsx)("p",{children:" UNITRAF (NE85364037) "})]})}),(0,ve.jsx)("img",{src:Re,alt:"logo"})]}),(0,ve.jsxs)("section",{className:"min_body col-12",children:[(0,ve.jsxs)("div",{className:"",style:{display:"flex"},children:[(0,ve.jsxs)("fieldset",{className:"col-2 inline_field ",children:[(0,ve.jsx)("legend",{children:"Repertoire"}),(0,ve.jsx)("p",{children:i.repertoire?i.repertoire:"-"})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-3",children:[(0,ve.jsx)("legend",{children:"R\xe9f. T1"}),(0,ve.jsx)("p",{children:i.t1?i.t1:"-"})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"BL/LTA"}),(0,ve.jsxs)("p",{children:[" ",i.document?i.document:"-"]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Transport"}),(0,ve.jsxs)("p",{children:[" ",i.mode?i.mode:n.mode]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-3",children:[(0,ve.jsx)("legend",{children:"Moyen de Transp."}),(0,ve.jsx)("p",{children:i.camion?i.camion:n.camion})]})]}),(0,ve.jsxs)("div",{className:"",style:{display:"flex"},children:[(0,ve.jsxs)("fieldset",{className:"col-4 inline_field ",children:[(0,ve.jsx)("legend",{children:"Bureau de destination"}),(0,ve.jsx)("p",{children:i.burDestination?i.burDestination:"-"})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-4",children:[(0,ve.jsx)("legend",{children:"Bureau d'entr\xe9e"}),(0,ve.jsx)("p",{children:i.burEntree?i.burEntree:"-"})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Provenance"}),(0,ve.jsxs)("p",{children:[" ",i.provenance?i.provenance:n.provenance]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Origine"}),(0,ve.jsxs)("p",{children:[" ",i.origine?i.origine:n.origine]})]})]}),(0,ve.jsxs)("div",{className:"",style:{display:"flex"},children:[(0,ve.jsxs)("fieldset",{className:"inline_field col-6",children:[(0,ve.jsx)("legend",{children:"Importateur"}),(0,ve.jsxs)("p",{children:[" ",i.importateur?i.importateur:n.importateur]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-6",children:[(0,ve.jsx)("legend",{children:"Destinataire"}),(0,ve.jsxs)("p",{children:[" ",n.client?"".concat(n.client.nom," (").concat(n.client.nif,")"):i.destinataire]})]})]}),(0,ve.jsxs)("fieldset",{style:{display:"flex"},children:[(0,ve.jsx)("legend",{children:"Colis"}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Quantit\xe9"}),(0,ve.jsxs)("p",{children:[i.quantite?i.quantite:"-"," "]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-1",children:[(0,ve.jsx)("legend",{children:"Us"}),(0,ve.jsx)("p",{children:i.tarif.us?i.tarif.us:"U"})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Poids"}),(0,ve.jsxs)("p",{children:[" ",i.poids?i.poids:"-"]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Position"}),(0,ve.jsx)("p",{children:i.tarif.nts?i.tarif.nts:"-"})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-4",children:[(0,ve.jsx)("legend",{children:"D\xe9signation"}),(0,ve.jsxs)("p",{children:[" ",i.tarif.designation?i.tarif.designation:"-"]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-1",children:[(0,ve.jsx)("legend",{children:"Nature"}),(0,ve.jsxs)("p",{children:[" ",n.type?n.type:i.type]})]})]}),(0,ve.jsxs)("fieldset",{style:{display:"flex"},children:[(0,ve.jsx)("legend",{children:"Valeurs"}),(0,ve.jsxs)("fieldset",{className:"inline_field col-3",children:[(0,ve.jsx)("legend",{children:"Fob"}),(0,ve.jsxs)("p",{children:[" ",i.fob?i.fob:"-"]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Fret"}),(0,ve.jsxs)("p",{children:[" ",i.fret?i.fret:"-"]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Assurance"}),(0,ve.jsxs)("p",{children:[" ",i.assurance?i.assurance:"-"]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Autres"}),(0,ve.jsxs)("p",{children:[i.autres?i.autres:"-"," "]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-3",children:[(0,ve.jsx)("legend",{children:"Val. Douane"}),(0,ve.jsx)("p",{children:i.valeur?i.valeur:"-"})]})]}),(0,ve.jsxs)("div",{className:"",style:{display:"flex",justifyContent:"space-around"},children:[(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"R\xe9gime"}),(0,ve.jsxs)("p",{children:[" ",i.code?i.code:"-"]})]}),(0,ve.jsxs)("fieldset",{className:"col-4 inline_field ",children:[(0,ve.jsx)("legend",{children:"N\xb0 Exon\xe9ration"}),(0,ve.jsx)("p",{children:i.exo?i.exo:"-"})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-4",children:[(0,ve.jsx)("legend",{children:"N\xb0 License"}),(0,ve.jsx)("p",{children:i.license?i.license:n.license})]})]}),(0,ve.jsxs)("fieldset",{className:"col-12",style:{display:"flex",flexDirection:"column",padding:5},children:[(0,ve.jsx)("legend",{children:"Calcul des impositions"}),(0,ve.jsxs)("table",{children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{children:"Type"}),(0,ve.jsx)("th",{children:"Base d'imposition"}),(0,ve.jsx)("th",{children:"Taux"}),(0,ve.jsx)("th",{children:"Montant"})]})}),(0,ve.jsx)("tbody",{children:"3000"===i.code?i.tarif.sortie.map((function(e,t){return e.checked&&(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{className:"col-2",children:Object.keys(e)[0]}),(0,ve.jsx)("td",{className:"col-4",children:i.valeur}),(0,ve.jsx)("td",{className:"col-3",children:Object.values(e)[0]}),(0,ve.jsx)("td",{className:"col-3",children:e.montant})]},t)})):i.tarif.entree.map((function(e,t){return e.checked&&(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{className:"col-2",children:Object.keys(e)[0]}),(0,ve.jsx)("td",{className:"col-4",children:"TVA"===Object.keys(e)[0]?i.valeur+i.baseTva:"DA"===Object.keys(e)[0]?i.quantite:i.valeur}),(0,ve.jsx)("td",{className:"col-3",children:Object.values(e)[0]}),(0,ve.jsx)("td",{className:"col-3",children:e.montant})]},t)}))}),(0,ve.jsx)("tfoot",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{colSpan:3,children:"Total"}),(0,ve.jsx)("td",{children:i.droits})]})})]})]}),(0,ve.jsxs)("fieldset",{style:{display:"flex"},children:[(0,ve.jsx)("legend",{children:"Taxes"}),(0,ve.jsxs)("fieldset",{className:"inline_field col-3",children:[(0,ve.jsx)("legend",{children:"FVC"}),(0,ve.jsxs)("p",{children:[" ",i.chemise?i.chemise:"-"]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"RI"}),(0,ve.jsx)("p",{children:i.ri?i.ri:"-"})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Scanner"}),(0,ve.jsxs)("p",{children:[" ",i.scanner?i.scanner:"-"]})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-2",children:[(0,ve.jsx)("legend",{children:"Autres"}),(0,ve.jsx)("p",{children:"Autres "})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-3",children:[(0,ve.jsx)("legend",{children:"Taxes G."}),(0,ve.jsx)("p",{children:i.taxes?i.taxes:"-"})]})]}),(0,ve.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,ve.jsxs)("fieldset",{className:"inline_field col-3",children:[(0,ve.jsx)("legend",{children:"Droits & Taxes"}),(0,ve.jsx)("p",{children:i.droits?i.droits:"-"})]}),(0,ve.jsxs)("fieldset",{className:"inline_field col-3",children:[(0,ve.jsx)("legend",{children:"Total D\xe9cl."}),(0,ve.jsx)("p",{children:i.declaration?i.declaration:"-"})]})]}),(0,ve.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[(0,ve.jsxs)("fieldset",{className:"col-6",style:{display:"flex",flexDirection:"column",padding:5},children:[(0,ve.jsx)("legend",{children:"Documents joints"}),(0,ve.jsxs)("table",{children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{children:"#"}),(0,ve.jsx)("th",{children:"Type"}),(0,ve.jsx)("th",{children:"Ref\xe9rences"})]})}),(0,ve.jsx)("tbody",{children:i.documents.map((function(e,t){return e.checked&&(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{className:"col-1",children:"1"}),(0,ve.jsx)("td",{className:"col-4",children:e.type}),(0,ve.jsx)("td",{className:"col-7"})]},t)}))})]})]}),(0,ve.jsx)("fieldset",{className:"col-5",style:{display:"flex",flexDirection:"column",padding:5},children:(0,ve.jsx)("legend",{children:"Observations"})})]})]}),(0,ve.jsx)("section",{className:"footer",children:"footer"})]});return(0,ve.jsx)("div",{children:a})})),Me=Pe,Le="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",Fe="M21,17V8H7V17H21M21,3A2,2 0 0,1 23,5V17A2,2 0 0,1 21,19H7C5.89,19 5,18.1 5,17V5A2,2 0 0,1 7,3H8V1H10V3H18V1H20V3H21M3,21H17V23H3C1.89,23 1,22.1 1,21V9H3V21M19,15H15V11H19V15Z",Ve="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",Ue="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",qe="M2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12M10.5,12A1.5,1.5 0 0,0 12,13.5A1.5,1.5 0 0,0 13.5,12A1.5,1.5 0 0,0 12,10.5A1.5,1.5 0 0,0 10.5,12M10.5,17.5A1.5,1.5 0 0,0 12,19A1.5,1.5 0 0,0 13.5,17.5A1.5,1.5 0 0,0 12,16A1.5,1.5 0 0,0 10.5,17.5M10.5,6.5A1.5,1.5 0 0,0 12,8A1.5,1.5 0 0,0 13.5,6.5A1.5,1.5 0 0,0 12,5A1.5,1.5 0 0,0 10.5,6.5Z",Be="M12 18.5C12 19 12.07 19.5 12.18 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V13.04C21.39 12.65 20.72 12.36 20 12.18V8H4V18H12.03C12 18.17 12 18.33 12 18.5M23 18.5C23 21 21 23 18.5 23S14 21 14 18.5 16 14 18.5 14 23 16 23 18.5M20 21.08L15.92 17C15.65 17.42 15.5 17.94 15.5 18.5C15.5 20.16 16.84 21.5 18.5 21.5C19.06 21.5 19.58 21.35 20 21.08M21.5 18.5C21.5 16.84 20.16 15.5 18.5 15.5C17.94 15.5 17.42 15.65 17 15.92L21.08 20C21.35 19.58 21.5 19.06 21.5 18.5Z",ze="M4 18H12.13L11 19.13V20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V10.15C21.74 10.06 21.46 10 21.17 10C20.75 10 20.36 10.11 20 10.3V8H4V18M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96Z",He="M13 19C13 19.34 13.04 19.67 13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.89 4 4 4H10L12 6H20C21.1 6 22 6.89 22 8V13.81C21.39 13.46 20.72 13.22 20 13.09V8H4V18H13.09C13.04 18.33 13 18.66 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z",Ge="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",We="M20,14H4V10H20",Ye=t.createContext(null);var Ze=function(e){e()},Ke=function(){return Ze};var Qe={notify:function(){},get:function(){return[]}};function $e(e,t){var n,r=Qe;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ke(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Qe)},getListeners:function(){return r}};return o}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var Xe=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=$e(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);Je((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var s=r||Ye;return t.createElement(s.Provider,{value:a},i)};n(900);function et(){return(0,t.useContext)(Ye)}function tt(e){void 0===e&&(e=Ye);var n=e===Ye?et:function(){return(0,t.useContext)(e)};return function(){return n().store}}var nt=tt();function rt(e){void 0===e&&(e=Ye);var t=e===Ye?nt:tt(e);return function(){return t().dispatch}}var it=rt(),at=function(e,t){return e===t};function ot(e){void 0===e&&(e=Ye);var n=e===Ye?et:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=at);var i=n(),a=function(e,n,r,i){var a,o=(0,t.useReducer)((function(e){return e+1}),0)[1],s=(0,t.useMemo)((function(){return $e(r,i)}),[r,i]),u=(0,t.useRef)(),c=(0,t.useRef)(),l=(0,t.useRef)(),d=(0,t.useRef)(),f=r.getState();try{if(e!==c.current||f!==l.current||u.current){var h=e(f);a=void 0!==d.current&&n(h,d.current)?d.current:h}else a=d.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return Je((function(){c.current=e,l.current=f,d.current=a,u.current=void 0})),Je((function(){function e(){try{var e=r.getState();if(e===l.current)return;var t=c.current(e);if(n(t,d.current))return;d.current=t,l.current=e}catch(p){u.current=p}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(a),a}}var st,ut=ot();function ct(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ke(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function lt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){lt(a,r,i,o,s,"next",e)}function s(e){lt(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t,n){return t&&ft(e.prototype,t),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}st=r.unstable_batchedUpdates,Ze=st;var vt=n(757),mt=n.n(vt),yt=n(942);function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}function bt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function _t(e,t){if(t&&("object"===wt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gt(e)}function Et(e){var t=bt();return function(){var n,r=xt(e);if(t){var i=xt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _t(this,n)}}function It(e,t,n){return It=bt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},It.apply(null,arguments)}function St(e){var t="function"===typeof Map?new Map:void 0;return St=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return It(e,arguments,xt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},St(e)}var Nt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Tt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,d=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(f=64)),r.push(n[l],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Nt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var d=s<<6&192|u;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ct=function(e){return function(e){var t=Nt(e);return Tt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},jt=function(e){try{return Tt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Dt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&At(n)&&(e[n]=Dt(e[n],t[n]));return e}function At(e){return"__proto__"!==e}var Ot=function(){function e(){var t=this;pt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ht(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Rt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ct(JSON.stringify({alg:"none",type:"JWT"})),Ct(JSON.stringify(a)),""].join(".")}function Pt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function Lt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ft(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Vt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ut(){var e=Pt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function qt(){return"object"===typeof indexedDB}var Bt=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(gt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(gt(a),zt.prototype.create),a}return ht(n)}(St(Error)),zt=function(){function e(t,n,r){pt(this,e),this.service=t,this.serviceName=n,this.errors=r}return ht(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ht(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Bt(n,a,t);return o}}]),e}();function Ht(e,t){return e.replace(Gt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Gt=/\{\$([^}]+)}/g;function Wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Yt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Zt(s)&&Zt(u)){if(!Yt(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var d=l[c];if(!n.includes(d))return!1}return!0}function Zt(e){return null!==e&&"object"===typeof e}function Kt(e){for(var t=[],n=function(){var e=be(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Qt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=be(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function $t(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Jt(e,t){var n=new Xt(e,t);return n.subscribe.bind(n)}var Xt=function(){function e(t,n){var r=this;pt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ht(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ct(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=en),void 0===r.error&&(r.error=en),void 0===r.complete&&(r.complete=en);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function en(){}function tn(e){return e&&e._delegate?e._delegate:e}function nn(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var rn=function(){function e(t){pt(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return ht(e,[{key:"transaction",value:function(e,t){return new an(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new on(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),an=function(){function e(t){var n=this;pt(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return ht(e,[{key:"objectStore",value:function(e){return new on(this._transaction.objectStore(e))}}]),e}(),on=function(){function e(t){pt(this,e),this._store=t}return ht(e,[{key:"index",value:function(e){return new sn(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new sn(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return nn(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return nn(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return nn(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return nn(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),sn=function(){function e(t){pt(this,e),this._index=t}return ht(e,[{key:"get",value:function(e){return nn(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function un(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function cn(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||un(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ln=function(){function e(t,n,r){pt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ht(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),dn="[DEFAULT]",fn=function(){function e(t,n){pt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ht(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ot;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dn})}catch(u){}var t,n=ct(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=be(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=dt(vt.mark((function e(){var t;return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(cn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),cn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ct(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=be(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ct(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Z_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===dn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Z_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;return this.component?this.component.multipleInstances?e:dn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var hn,pn,vn=function(){function e(t){pt(this,e),this.name=t,this.providers=new Map}return ht(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new fn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),mn=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pn||(pn={}));var yn,gn,kn={debug:pn.DEBUG,verbose:pn.VERBOSE,info:pn.INFO,warn:pn.WARN,error:pn.ERROR,silent:pn.SILENT},xn=pn.INFO,bn=(hn={},(0,yt.Z)(hn,pn.DEBUG,"log"),(0,yt.Z)(hn,pn.VERBOSE,"log"),(0,yt.Z)(hn,pn.INFO,"info"),(0,yt.Z)(hn,pn.WARN,"warn"),(0,yt.Z)(hn,pn.ERROR,"error"),hn),wn=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=bn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},_n=function(){function e(t){pt(this,e),this.name=t,this._logLevel=xn,this._logHandler=wn,this._userLogHandler=null,mn.push(this)}return ht(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in pn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?kn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pn.DEBUG].concat(t)),this._logHandler.apply(this,[this,pn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,pn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pn.INFO].concat(t)),this._logHandler.apply(this,[this,pn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pn.WARN].concat(t)),this._logHandler.apply(this,[this,pn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,pn.ERROR].concat(t)),this._logHandler.apply(this,[this,pn.ERROR].concat(t))}}]),e}();var En=function(){function e(t){pt(this,e),this.container=t}return ht(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var In="@firebase/app",Sn="0.7.20",Nn=new _n("@firebase/app"),Tn="[DEFAULT]",Cn=(yn={},(0,yt.Z)(yn,In,"fire-core"),(0,yt.Z)(yn,"@firebase/app-compat","fire-core-compat"),(0,yt.Z)(yn,"@firebase/analytics","fire-analytics"),(0,yt.Z)(yn,"@firebase/analytics-compat","fire-analytics-compat"),(0,yt.Z)(yn,"@firebase/app-check","fire-app-check"),(0,yt.Z)(yn,"@firebase/app-check-compat","fire-app-check-compat"),(0,yt.Z)(yn,"@firebase/auth","fire-auth"),(0,yt.Z)(yn,"@firebase/auth-compat","fire-auth-compat"),(0,yt.Z)(yn,"@firebase/database","fire-rtdb"),(0,yt.Z)(yn,"@firebase/database-compat","fire-rtdb-compat"),(0,yt.Z)(yn,"@firebase/functions","fire-fn"),(0,yt.Z)(yn,"@firebase/functions-compat","fire-fn-compat"),(0,yt.Z)(yn,"@firebase/installations","fire-iid"),(0,yt.Z)(yn,"@firebase/installations-compat","fire-iid-compat"),(0,yt.Z)(yn,"@firebase/messaging","fire-fcm"),(0,yt.Z)(yn,"@firebase/messaging-compat","fire-fcm-compat"),(0,yt.Z)(yn,"@firebase/performance","fire-perf"),(0,yt.Z)(yn,"@firebase/performance-compat","fire-perf-compat"),(0,yt.Z)(yn,"@firebase/remote-config","fire-rc"),(0,yt.Z)(yn,"@firebase/remote-config-compat","fire-rc-compat"),(0,yt.Z)(yn,"@firebase/storage","fire-gcs"),(0,yt.Z)(yn,"@firebase/storage-compat","fire-gcs-compat"),(0,yt.Z)(yn,"@firebase/firestore","fire-fst"),(0,yt.Z)(yn,"@firebase/firestore-compat","fire-fst-compat"),(0,yt.Z)(yn,"fire-js","fire-js"),(0,yt.Z)(yn,"firebase","fire-js-all"),yn),jn=new Map,Dn=new Map;function An(e,t){try{e.container.addComponent(t)}catch(n){Nn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function On(e,t){e.container.addOrOverwriteComponent(t)}function Rn(e){var t=e.name;if(Dn.has(t))return Nn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Dn.set(t,e);var n,r=ct(jn.values());try{for(r.s();!(n=r.n()).done;){An(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Pn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Mn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tn;Pn(e,t).clearInstance(n)}function Ln(){Dn.clear()}var Fn=(gn={},(0,yt.Z)(gn,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,yt.Z)(gn,"bad-app-name","Illegal App name: '{$appName}"),(0,yt.Z)(gn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,yt.Z)(gn,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,yt.Z)(gn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,yt.Z)(gn,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,yt.Z)(gn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,yt.Z)(gn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,yt.Z)(gn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,yt.Z)(gn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),gn),Vn=new zt("app","Firebase",Fn),Un=function(){function e(t,n,r){var i=this;pt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",(function(){return i}),"PUBLIC"))}return ht(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}]),e}(),qn="9.6.10";function Bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vn.create("bad-app-name",{appName:String(i)});var a=jn.get(i);if(a){if(Yt(e,a.options)&&Yt(r,a.config))return a;throw Vn.create("duplicate-app",{appName:i})}var o,s=new vn(i),u=ct(Dn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(d){u.e(d)}finally{u.f()}var l=new Un(e,r,s);return jn.set(i,l),l}function zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=jn.get(e);if(!t)throw Vn.create("no-app",{appName:e});return t}function Hn(){return Array.from(jn.values())}function Gn(e){return Wn.apply(this,arguments)}function Wn(){return(Wn=dt(vt.mark((function e(t){var n;return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!jn.has(n)){e.next=6;break}return jn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e,t,n){var r,i=null!==(r=Cn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Nn.warn(s.join(" "))}Rn(new ln("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Zn(e,t){if(null!==e&&"function"!==typeof e)throw Vn.create("invalid-log-argument");!function(e,t){var n,r=ct(mn);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=kn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:pn[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Kn(e){var t;t=e,mn.forEach((function(e){e.setLogLevel(t)}))}var Qn="firebase-heartbeat-store",$n=null;function Jn(){var e,t,n;return $n||($n=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Qn)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new rn(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new rn(a.result),e.oldVersion,e.newVersion,new an(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Vn.create("storage-open",{originalErrorMessage:e.message})}))),$n}function Xn(e){return er.apply(this,arguments)}function er(){return er=dt(vt.mark((function e(t){var n;return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jn();case 3:return n=e.sent,e.abrupt("return",n.transaction(Qn).objectStore(Qn).get(rr(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Vn.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),er.apply(this,arguments)}function tr(e,t){return nr.apply(this,arguments)}function nr(){return nr=dt(vt.mark((function e(t,n){var r,i,a;return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jn();case 3:return r=e.sent,i=r.transaction(Qn,"readwrite"),a=i.objectStore(Qn),e.next=8,a.put(n,rr(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Vn.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),nr.apply(this,arguments)}function rr(e){return"".concat(e.name,"!").concat(e.options.appId)}var ir=function(){function e(t){var n=this;pt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new cr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ht(e,[{key:"triggerHeartbeat",value:function(){var e=dt(vt.mark((function e(){var t,n,r;return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ar(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=dt(vt.mark((function e(){var t,n,r,i,a;return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ar(),n=or(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ct(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ar(){return(new Date).toISOString().substring(0,10)}function or(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ct(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),lr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),lr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var sr,ur,cr=function(){function e(t){pt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ht(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=dt(vt.mark((function e(){return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=dt(vt.mark((function e(){var t;return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Xn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=dt(vt.mark((function e(t){var n,r;return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",tr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=dt(vt.mark((function e(t){var n,r;return vt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",tr(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(cn(r.heartbeats),cn(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function lr(e){return Ct(JSON.stringify({version:2,heartbeats:e})).length}sr="",Rn(new ln("platform-logger",(function(e){return new En(e)}),"PRIVATE")),Rn(new ln("heartbeat",(function(e){return new ir(e)}),"PRIVATE")),Yn(In,Sn,sr),Yn(In,Sn,"esm2017"),Yn("fire-js","");var dr=function(){function e(t,n){var r=this;pt(this,e),this._delegate=t,this.firebase=n,An(t,new ln("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ht(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Gn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){An(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){On(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),fr=(ur={},(0,yt.Z)(ur,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,yt.Z)(ur,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ur),hr=new zt("app-compat","Firebase",fr);var pr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Bn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Wt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Yn,setLogLevel:Kn,onLog:Zn,apps:null,SDK_VERSION:qn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Rn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw hr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Dt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Wt(n,e=e||Tn))throw hr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(dr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Dt(n,e)},createSubscribe:Jt,ErrorFactory:zt,deepExtend:Dt}),n}(),vr=new _n("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){vr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var mr=self.firebase.SDK_VERSION;mr&&mr.indexOf("LITE")>=0&&vr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var yr=pr;!function(e){Yn("@firebase/app-compat","0.1.21",e)}();function gr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xt(e)););return e}function kr(){return kr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=gr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},kr.apply(this,arguments)}yr.registerVersion("firebase","9.6.10","app-compat");function xr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var br;Object.create;var wr="facebook.com",_r="github.com",Er="google.com",Ir="password",Sr="twitter.com",Nr="EMAIL_SIGNIN",Tr="PASSWORD_RESET",Cr="RECOVER_EMAIL",jr="REVERT_SECOND_FACTOR_ADDITION",Dr="VERIFY_AND_CHANGE_EMAIL",Ar="VERIFY_EMAIL";function Or(){return(0,yt.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Rr=function(){var e;return e={},(0,yt.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,yt.Z)(e,"argument-error",""),(0,yt.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,yt.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,yt.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,yt.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,yt.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,yt.Z)(e,"cors-unsupported","This browser is not supported."),(0,yt.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,yt.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,yt.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,yt.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,yt.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,yt.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,yt.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,yt.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,yt.Z)(e,"expired-action-code","The action code has expired."),(0,yt.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,yt.Z)(e,"internal-error","An internal AuthError has occurred."),(0,yt.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,yt.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,yt.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,yt.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,yt.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,yt.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,yt.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,yt.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,yt.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,yt.Z)(e,"invalid-email","The email address is badly formatted."),(0,yt.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,yt.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,yt.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,yt.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,yt.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,yt.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,yt.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,yt.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,yt.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,yt.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,yt.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,yt.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,yt.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,yt.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,yt.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,yt.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,yt.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,yt.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,yt.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,yt.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,yt.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,yt.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,yt.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,yt.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,yt.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,yt.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,yt.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,yt.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,yt.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,yt.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,yt.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,yt.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,yt.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,yt.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,yt.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,yt.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,yt.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,yt.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,yt.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,yt.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,yt.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,yt.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,yt.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,yt.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,yt.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,yt.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,yt.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,yt.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,yt.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,yt.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,yt.Z)(e,"timeout","The operation has timed out."),(0,yt.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,yt.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,yt.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,yt.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,yt.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,yt.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,yt.Z)(e,"unverified-email","The operation requires a verified email."),(0,yt.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,yt.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,yt.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,yt.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,yt.Z)(e,"user-signed-out",""),(0,yt.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,yt.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,yt.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Pr=Or,Mr=new zt("auth","Firebase",Or()),Lr=new _n("@firebase/auth");function Fr(e){if(Lr.logLevel<=pn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Lr.error.apply(Lr,["Auth (".concat(qn,"): ").concat(e)].concat(n))}}function Vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw zr.apply(void 0,[e].concat(n))}function Ur(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zr.apply(void 0,[e].concat(n))}function qr(e,t,n){var r=Object.assign(Object.assign({},Pr()),(0,yt.Z)({},t,n));return new zt("auth","Firebase",r).create(t,{appName:e.name})}function Br(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vr(e,"argument-error"),qr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function zr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=cn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(cn(o)))}return Mr.create.apply(Mr,[e].concat(n))}function Hr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw zr.apply(void 0,[t].concat(r))}}function Gr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Fr(t),new Error(t)}function Wr(e,t){e||Gr(t)}var Yr=new Map;function Zr(e){Wr(e instanceof Function,"Expected a class definition");var t=Yr.get(e);return t?(Wr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yr.set(e,t),t)}function Kr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Qr(){return"http:"===$r()||"https:"===$r()}function $r(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Jr=function(){function e(t,n){pt(this,e),this.shortDelay=t,this.longDelay=n,Wr(n>t,"Short delay should be less than long delay!"),this.isMobile=Mt()||Vt()}return ht(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Qr()||Ft()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Xr(e,t){Wr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ei=function(){function e(){pt(this,e)}return ht(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ti=(br={},(0,yt.Z)(br,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,yt.Z)(br,"MISSING_CUSTOM_TOKEN","internal-error"),(0,yt.Z)(br,"INVALID_IDENTIFIER","invalid-email"),(0,yt.Z)(br,"MISSING_CONTINUE_URI","internal-error"),(0,yt.Z)(br,"INVALID_PASSWORD","wrong-password"),(0,yt.Z)(br,"MISSING_PASSWORD","internal-error"),(0,yt.Z)(br,"EMAIL_EXISTS","email-already-in-use"),(0,yt.Z)(br,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,yt.Z)(br,"INVALID_IDP_RESPONSE","invalid-credential"),(0,yt.Z)(br,"INVALID_PENDING_TOKEN","invalid-credential"),(0,yt.Z)(br,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,yt.Z)(br,"MISSING_REQ_TYPE","internal-error"),(0,yt.Z)(br,"EMAIL_NOT_FOUND","user-not-found"),(0,yt.Z)(br,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,yt.Z)(br,"EXPIRED_OOB_CODE","expired-action-code"),(0,yt.Z)(br,"INVALID_OOB_CODE","invalid-action-code"),(0,yt.Z)(br,"MISSING_OOB_CODE","internal-error"),(0,yt.Z)(br,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,yt.Z)(br,"INVALID_ID_TOKEN","invalid-user-token"),(0,yt.Z)(br,"TOKEN_EXPIRED","user-token-expired"),(0,yt.Z)(br,"USER_NOT_FOUND","user-token-expired"),(0,yt.Z)(br,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,yt.Z)(br,"INVALID_CODE","invalid-verification-code"),(0,yt.Z)(br,"INVALID_SESSION_INFO","invalid-verification-id"),(0,yt.Z)(br,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,yt.Z)(br,"MISSING_SESSION_INFO","missing-verification-id"),(0,yt.Z)(br,"SESSION_EXPIRED","code-expired"),(0,yt.Z)(br,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,yt.Z)(br,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,yt.Z)(br,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,yt.Z)(br,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,yt.Z)(br,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,yt.Z)(br,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,yt.Z)(br,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,yt.Z)(br,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,yt.Z)(br,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,yt.Z)(br,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,yt.Z)(br,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),br),ni=new Jr(3e4,6e4);function ri(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ii(e,t,n,r){return ai.apply(this,arguments)}function ai(){return ai=dt(mt().mark((function e(t,n,r,i){var a,o=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",oi(t,a,dt(mt().mark((function e(){var a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Kt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ei.fetch()(li(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e,t,n){return si.apply(this,arguments)}function si(){return(si=dt(mt().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f,h;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ti),n),e.prev=2,a=new di(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw fi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=be(c,2),d=l[0],f=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw fi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=25;break}throw fi(t,"email-already-in-use",s);case 25:if(h=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=30;break}throw qr(t,h,f);case 30:Vr(t,h);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Bt)){e.next=37;break}throw e.t0;case 37:Vr(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function ui(e,t,n,r){return ci.apply(this,arguments)}function ci(){return ci=dt(mt().mark((function e(t,n,r,i){var a,o,s=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,ii(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Vr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Xr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var di=function(){function e(t){var n=this;pt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ur(n.auth,"network-request-failed"))}),ni.get())}))}return ht(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function fi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ur(e,t,r);return i.customData._tokenResponse=n,i}function hi(e,t){return pi.apply(this,arguments)}function pi(){return(pi=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vi(e,t){return mi.apply(this,arguments)}function mi(){return(mi=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e,t){return gi.apply(this,arguments)}function gi(){return(gi=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ki(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function xi(){return xi=dt(mt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=tn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Hr((a=wi(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ki(bi(a.auth_time)),issuedAtTime:ki(bi(a.iat)),expirationTime:ki(bi(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}function bi(e){return 1e3*Number(e)}function wi(e){var t=be(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Fr("JWT malformed, contained fewer than 3 sections"),null;try{var a=jt(r);return a?JSON.parse(a):(Fr("Failed to decode base64 JWT payload"),null)}catch(o){return Fr("Caught error parsing JWT payload as JSON",o),null}}function _i(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=dt(mt().mark((function e(t,n){var r=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Bt&&Ii(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ei.apply(this,arguments)}function Ii(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Si=function(){function e(t){pt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ht(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(dt(mt().mark((function t(){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ni=function(){function e(t,n){pt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ht(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ti(e){return Ci.apply(this,arguments)}function Ci(){return Ci=dt(mt().mark((function e(t){var n,r,i,a,o,s,u,c,l,d,f;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,_i(t,yi(r,{idToken:i}));case 6:Hr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ai(o.providerUserInfo):[],u=Di(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),d=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ni(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function ji(){return(ji=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tn(t),e.next=3,Ti(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(cn(n),cn(t))}function Ai(e){return e.map((function(e){var t=e.providerId,n=xr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Oi(e,t){return Ri.apply(this,arguments)}function Ri(){return(Ri=dt(mt().mark((function e(t,n){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t,{},dt(mt().mark((function e(){var r,i,a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=li(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ei.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pi=function(){function e(){pt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ht(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Hr(e.idToken,"internal-error"),Hr("undefined"!==typeof e.idToken,"internal-error"),Hr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=wi(e);return Hr(t,"internal-error"),Hr("undefined"!==typeof t.exp,"internal-error"),Hr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=dt(mt().mark((function e(t){var n,r=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Hr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=dt(mt().mark((function e(t,n){var r,i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Gr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Hr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Hr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Hr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Mi(e,t){Hr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Li=function(){function e(t){pt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=xr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?cn(a.providerData):[],this.metadata=new Ni(a.createdAt||void 0,a.lastLoginAt||void 0)}return ht(e,[{key:"getIdToken",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_i(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Hr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return xi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ji.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Hr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Hr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=dt(mt().mark((function e(t){var n,r,i=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ti(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,_i(this,hi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,x=n.emailVerified,b=n.isAnonymous,w=n.providerData,_=n.stsTokenManager;Hr(k&&_,t,"internal-error");var E=Pi.fromJSON(this.name,_);Hr("string"===typeof k,t,"internal-error"),Mi(d,t.name),Mi(f,t.name),Hr("boolean"===typeof x,t,"internal-error"),Hr("boolean"===typeof b,t,"internal-error"),Mi(h,t.name),Mi(p,t.name),Mi(v,t.name),Mi(m,t.name),Mi(y,t.name),Mi(g,t.name);var I=new e({uid:k,auth:t,email:f,emailVerified:x,displayName:d,isAnonymous:b,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(I.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=dt(mt().mark((function t(n,r){var i,a,o,s=arguments;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Pi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ti(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Fi=function(){function e(){pt(this,e),this.type="NONE",this.storage={}}return ht(e,[{key:"_isAvailable",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Fi.type="NONE";var Vi=Fi;function Ui(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var qi=function(){function e(t,n,r){pt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ui(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ui("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ht(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Li._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=dt(mt().mark((function t(n,r){var i,a,o,s,u,c,l,d,f,h,p,v=arguments;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Zr(Vi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Zr(Vi),s=Ui(i,n.config.apiKey,n.name),u=null,c=ct(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return d=l.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return h=Li._fromJSON(n,f),d!==o&&(u=h),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Bi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Wi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zi(t))return"Blackberry";if(Ki(t))return"Webos";if(Hi(t))return"Safari";if((t.includes("chrome/")||Gi(t))&&!t.includes("edge/"))return"Chrome";if(Yi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/firefox\//i.test(e)}function Hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/crios\//i.test(e)}function Wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/iemobile/i.test(e)}function Yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/android/i.test(e)}function Zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/blackberry/i.test(e)}function Ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/webos/i.test(e)}function Qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/iphone|ipad|ipod/i.test(e)}function $i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return Qi(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ji(){return Ut()&&10===document.documentMode}function Xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return Qi(e)||Yi(e)||Ki(e)||Zi(e)||/windows phone/i.test(e)||Wi(e)}function ea(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Bi(Pt());break;case"Worker":t="".concat(Bi(Pt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(qn,"/").concat(r)}var ta=function(){function e(t,n,r){pt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ra(this),this.idTokenSubscription=new ra(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ht(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(dt(mt().mark((function r(){var i,a;return mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,qi.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=dt(mt().mark((function e(t){var n,r,i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Hr(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ti(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?tn(t):null)&&Hr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=dt(mt().mark((function e(t){var n=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Hr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(dt(mt().mark((function n(){return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Zr(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new zt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=dt(mt().mark((function e(t,n){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Hr(n=t&&Zr(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,qi.create(this,[Zr(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=dt(mt().mark((function e(t){var n=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Hr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Hr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ea(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=dt(mt().mark((function e(){var t,n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,yt.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function na(e){return tn(e)}var ra=function(){function e(t){var n=this;pt(this,e),this.auth=t,this.observer=null,this.addObserver=Jt((function(e){return n.observer=e}))}return ht(e,[{key:"next",get:function(){return Hr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ia(e,t,n){var r=na(e);Hr(r._canInitEmulator,r,"emulator-config-failed"),Hr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=aa(t),o=function(e){var t=aa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:oa(r.substr(a.length+1))}}var o=be(r.split(":"),2);return{host:o[0],port:oa(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function aa(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function oa(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var sa=function(){function e(t,n){pt(this,e),this.providerId=t,this.signInMethod=n}return ht(e,[{key:"toJSON",value:function(){return Gr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Gr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Gr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Gr("not implemented")}}]),e}();function ua(e,t){return ca.apply(this,arguments)}function ca(){return(ca=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:resetPassword",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function la(e,t){return da.apply(this,arguments)}function da(){return(da=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return(ha=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:update",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,t){return va.apply(this,arguments)}function va(){return(va=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithPassword",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return ya.apply(this,arguments)}function ya(){return(ya=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:sendOobCode",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e,t){return ka.apply(this,arguments)}function ka(){return(ka=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xa(e,t){return ba.apply(this,arguments)}function ba(){return(ba=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wa(e,t){return _a.apply(this,arguments)}function _a(){return(_a=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e,t){return Ia.apply(this,arguments)}function Ia(){return(Ia=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sa(e,t){return Na.apply(this,arguments)}function Na(){return(Na=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e,t){return Ca.apply(this,arguments)}function Ca(){return(Ca=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ja=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return pt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ht(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",pa(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Sa(t,{email:this._email,oobCode:this._password}));case 5:Vr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",la(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ta(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Vr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(sa);function Da(e,t){return Aa.apply(this,arguments)}function Aa(){return(Aa=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithIdp",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oa=function(e){kt(n,e);var t=Et(n);function n(){var e;return pt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ht(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Da(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Da(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Da(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=xr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(sa);function Ra(e,t){return Pa.apply(this,arguments)}function Pa(){return(Pa=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:sendVerificationCode",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ma(){return(Ma=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithPhoneNumber",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(){return(La=dt(mt().mark((function e(t,n){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(t,"POST","/v1/accounts:signInWithPhoneNumber",ri(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw fi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fa=(0,yt.Z)({},"USER_NOT_FOUND","user-not-found");function Va(){return(Va=dt(mt().mark((function e(t,n){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithPhoneNumber",ri(t,r),Fa));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ua=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ht(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ma.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return La.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Va.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(sa);var qa=function(){function e(t){var n,r,i,a,o,s;pt(this,e);var u=Qt($t(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Hr(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ht(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Qt($t(e)).link,n=t?Qt($t(t)).deep_link_id:null,r=Qt($t(e)).deep_link_id;return(r?Qt($t(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Z_){return null}}}]),e}();var Ba=function(){function e(){pt(this,e),this.providerId=e.PROVIDER_ID}return ht(e,null,[{key:"credential",value:function(e,t){return ja._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=qa.parseLink(t);return Hr(n,"argument-error"),ja._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ba.PROVIDER_ID="password",Ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var za=function(){function e(t){pt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ht(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ha=function(e){kt(n,e);var t=Et(n);function n(){var e;return pt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ht(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return cn(this.scopes)}}]),n}(za),Ga=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.apply(this,arguments)}return ht(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Hr(e.idToken||e.accessToken,"argument-error"),Oa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Hr("providerId"in t&&"signInMethod"in t,"argument-error"),Oa._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Ha),Wa=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.call(this,"facebook.com")}return ht(n,null,[{key:"credential",value:function(e){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Z_){return null}}}]),n}(Ha);Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wa.PROVIDER_ID="facebook.com";var Ya=function(e){kt(n,e);var t=Et(n);function n(){var e;return pt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ht(n,null,[{key:"credential",value:function(e,t){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Z_){return null}}}]),n}(Ha);Ya.GOOGLE_SIGN_IN_METHOD="google.com",Ya.PROVIDER_ID="google.com";var Za=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.call(this,"github.com")}return ht(n,null,[{key:"credential",value:function(e){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Z_){return null}}}]),n}(Ha);Za.GITHUB_SIGN_IN_METHOD="github.com",Za.PROVIDER_ID="github.com";var Ka=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ht(n,[{key:"_getIdTokenResponse",value:function(e){return Da(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Da(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Da(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(sa),Qa=function(e){kt(n,e);var t=Et(n);function n(e){return pt(this,n),Hr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ht(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ka.fromJSON(e);return Hr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ka._create(r,n)}catch(i){return null}}}]),n}(za),$a=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.call(this,"twitter.com")}return ht(n,null,[{key:"credential",value:function(e,t){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Z_){return null}}}]),n}(Ha);function Ja(e,t){return Xa.apply(this,arguments)}function Xa(){return(Xa=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signUp",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}$a.TWITTER_SIGN_IN_METHOD="twitter.com",$a.PROVIDER_ID="twitter.com";var eo=function(){function e(t){pt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ht(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=dt(mt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Li._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=to(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=dt(mt().mark((function t(n,r,i){var a;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=to(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function to(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function no(){return no=dt(mt().mark((function e(t){var n,r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=na(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new eo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ja(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,eo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}var ro=function(e){kt(n,e);var t=Et(n);function n(e,r,i,a){var o,s;return pt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(gt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ht(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Bt);function io(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ro._fromErrorAndOperation(e,n,t,r);throw n}))}function ao(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function oo(e,t){return so.apply(this,arguments)}function so(){return so=dt(mt().mark((function e(t,n){var r,i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tn(t),e.next=3,lo(!0,r,n);case 3:return e.t0=vi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ao(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}function uo(e,t){return co.apply(this,arguments)}function co(){return co=dt(mt().mark((function e(t,n){var r,i,a=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=_i,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",eo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}function lo(e,t,n){return fo.apply(this,arguments)}function fo(){return(fo=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(n);case 2:i=ao(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Hr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return po=dt(mt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,_i(t,io(i,a,n,t),r);case 6:return Hr((o=e.sent).idToken,i,"internal-error"),Hr(s=wi(o.idToken),i,"internal-error"),u=s.sub,Hr(t.uid===u,i,"user-mismatch"),e.abrupt("return",eo._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Vr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),po.apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return mo=dt(mt().mark((function e(t,n){var r,i,a,o,s=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,io(t,i,n);case 4:return a=e.sent,e.next=7,eo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return(go=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vo(na(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t){return xo.apply(this,arguments)}function xo(){return(xo=dt(mt().mark((function e(t,n){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tn(t),e.next=3,lo(!1,r,n.providerId);case 3:return e.abrupt("return",uo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(e,t){return wo.apply(this,arguments)}function wo(){return(wo=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ho(tn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ui(t,"POST","/v1/accounts:signInWithCustomToken",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(){return(Io=dt(mt().mark((function e(t,n){var r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=na(t),e.next=3,_o(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,eo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var So=function(){function e(t,n){pt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ht(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?No._fromServerResponse(e,t):Vr(e,"internal-error")}}]),e}(),No=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ht(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(So);function To(e,t,n){var r;Hr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Hr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Hr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Hr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Co(){return(Co=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),a={requestType:"PASSWORD_RESET",email:n},r&&To(i,a,r),e.next=5,xa(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jo(){return(jo=dt(mt().mark((function e(t,n,r){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua(tn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Do(){return(Do=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(tn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(e,t){return Oo.apply(this,arguments)}function Oo(){return(Oo=dt(mt().mark((function e(t,n){var r,i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tn(t),e.next=3,ua(r,{oobCode:n});case 3:i=e.sent,Hr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Hr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Hr(i.mfaInfo,r,"internal-error");case 13:Hr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=So._fromServerResponse(na(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(){return Ro=dt(mt().mark((function e(t,n){var r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(tn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Po(e,t,n){return Mo.apply(this,arguments)}function Mo(){return(Mo=dt(mt().mark((function e(t,n,r){var i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=na(t),e.next=3,Ja(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,eo._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lo(){return(Lo=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),a={requestType:"EMAIL_SIGNIN",email:n},Hr(r.handleCodeInApp,i,"argument-error"),r&&To(i,a,r),e.next=6,wa(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fo(){return(Fo=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),Hr((a=Ba.credentialWithLink(n,r||Kr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",yo(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vo(e,t){return Uo.apply(this,arguments)}function Uo(){return(Uo=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:createAuthUri",ri(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(){return(qo=dt(mt().mark((function e(t,n){var r,i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qr()?Kr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Vo(tn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bo(){return(Bo=dt(mt().mark((function e(t,n){var r,i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&To(r.auth,a,n),e.next=8,ga(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(){return(zo=dt(mt().mark((function e(t,n,r){var i,a,o,s;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&To(i.auth,o,r),e.next=8,Ea(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(e,t){return Go.apply(this,arguments)}function Go(){return(Go=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(){return(Wo=dt(mt().mark((function e(t,n){var r,i,a,o,s,u,c;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=tn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,_i(a,Ho(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yo(e,t,n){return Zo.apply(this,arguments)}function Zo(){return(Zo=dt(mt().mark((function e(t,n,r){var i,a,o,s;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,_i(t,la(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ko=ht((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Qo=function(e){kt(n,e);var t=Et(n);function n(e,r,i,a){var o;return pt(this,n),(o=t.call(this,e,r,i)).username=a,o}return ht(n)}(Ko),$o=function(e){kt(n,e);var t=Et(n);function n(e,r){return pt(this,n),t.call(this,e,"facebook.com",r)}return ht(n)}(Ko),Jo=function(e){kt(n,e);var t=Et(n);function n(e,r){return pt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ht(n)}(Qo),Xo=function(e){kt(n,e);var t=Et(n);function n(e,r){return pt(this,n),t.call(this,e,"google.com",r)}return ht(n)}(Ko),es=function(e){kt(n,e);var t=Et(n);function n(e,r,i){return pt(this,n),t.call(this,e,"twitter.com",r,i)}return ht(n)}(Qo);function ts(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=wi(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ko(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new $o(a,i);case"github.com":return new Jo(a,i);case"google.com":return new Xo(a,i);case"twitter.com":return new es(a,i,e.screenName||null);case"custom":case"anonymous":return new Ko(a,null);default:return new Ko(a,r,i)}}(n)}var ns=function(){function e(t,n){pt(this,e),this.type=t,this.credential=n}return ht(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,yt.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),rs=function(){function e(t,n,r){pt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ht(e,[{key:"resolveSignIn",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=na(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return So._fromServerResponse(r,e)}));Hr(i.mfaPendingCredential,r,"internal-error");var o=ns._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=dt(mt().mark((function e(t){var a,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,eo._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Hr(n.user,r,"internal-error"),e.abrupt("return",eo._forOperation(n.user,n.operationType,s));case 17:Vr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function is(e,t){return ii(e,"POST","/v2/accounts/mfaEnrollment:start",ri(e,t))}var as=function(){function e(t){var n=this;pt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return So._fromServerResponse(t.auth,e)})))}))}return ht(e,[{key:"getSession",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ns,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=dt(mt().mark((function e(t,n){var r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,_i(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=dt(mt().mark((function e(t){var n,r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,_i(this.user,ii(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ri(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),os=new WeakMap;var ss="__sak",us=function(){function e(t,n){pt(this,e),this.storageRetriever=t,this.type=n}return ht(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ss,"1"),this.storage.removeItem(ss),Promise.resolve(!0)):Promise.resolve(!1)}catch(Z_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var cs=function(e){kt(n,e);var t=Et(n);function n(){var e;return pt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Pt();return Hi(e)||Qi(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Xi(),e._shouldAllowMigration=!0,e}return ht(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ji()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=dt(mt().mark((function e(t,r){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(xt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=dt(mt().mark((function e(t){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(xt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(xt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(us);cs.type="LOCAL";var ls=cs,ds=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ht(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(us);ds.type="SESSION";var fs=ds;function hs(e){return Promise.all(e.map(function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ps=function(){function e(t){pt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ht(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=dt(mt().mark((function e(t){var n,r,i,a,o,s,u,c;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,hs(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ps.receivers=[];var ms=function(){function e(t){pt(this,e),this.target=t,this.handlers=new Set}return ht(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=dt(mt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=vs("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ys(){return window}function gs(){return"undefined"!==typeof ys().WorkerGlobalScope&&"function"===typeof ys().importScripts}function ks(){return xs.apply(this,arguments)}function xs(){return(xs=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function bs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ws="firebaseLocalStorageDb",_s="firebaseLocalStorage",Es="fbase_key",Is=function(){function e(t){pt(this,e),this.request=t}return ht(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ss(e,t){return e.transaction([_s],t?"readwrite":"readonly").objectStore(_s)}function Ns(){var e=indexedDB.deleteDatabase(ws);return new Is(e).toPromise()}function Ts(){var e=indexedDB.open(ws,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_s,{keyPath:Es})}catch(r){n(r)}})),e.addEventListener("success",dt(mt().mark((function n(){var r;return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(_s)){n.next=12;break}return r.close(),n.next=5,Ns();case 5:return n.t0=t,n.next=8,Ts();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Cs(e,t,n){return js.apply(this,arguments)}function js(){return js=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ss(t,!0).put((i={},(0,yt.Z)(i,Es,n),(0,yt.Z)(i,"value",r),i)),e.abrupt("return",new Is(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Ds(e,t){return As.apply(this,arguments)}function As(){return As=dt(mt().mark((function e(t,n){var r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(t,!1).get(n),e.next=3,new Is(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Os(e,t){var n=Ss(e,!0).delete(t);return new Is(n).toPromise()}var Rs=function(){function e(){pt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ht(e,[{key:"_openDb",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ts();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=dt(mt().mark((function e(){var t=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ps._getInstance(gs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=dt(mt().mark((function e(n,r){var i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=dt(mt().mark((function e(){var t,n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ks();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ms(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&bs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ts();case 5:return t=e.sent,e.next=8,Cs(t,ss,"1");case 8:return e.next=10,Os(t,ss);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=dt(mt().mark((function e(t,n){var r=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Cs(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ds(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=dt(mt().mark((function e(t){var n=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Os(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=dt(mt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,d;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ss(e,!1).getAll();return new Is(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ct(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)d=l[c],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(dt(mt().mark((function t(){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Rs.type="LOCAL";var Ps=Rs;function Ms(e,t){return ii(e,"POST","/v2/accounts/mfaSignIn:start",ri(e,t))}function Ls(e){return Fs.apply(this,arguments)}function Fs(){return(Fs=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ur("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Us(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var qs=1e12,Bs=function(){function e(t){pt(this,e),this.auth=t,this.counter=qs,this._widgets=new Map}return ht(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new zs(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||qs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||qs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||qs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zs=function(){function e(t,n,r){var i=this;pt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Hr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ht(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Hs=Us("rcb"),Gs=new Jr(3e4,6e4),Ws="https://www.google.com/recaptcha/api.js?",Ys=function(){function e(){pt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ys().grecaptcha}return ht(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Hr(Zs(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ys().grecaptcha):new Promise((function(r,i){var a=ys().setTimeout((function(){i(Ur(e,"network-request-failed"))}),Gs.get());ys()[Hs]=function(){ys().clearTimeout(a),delete ys()[Hs];var o=ys().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ur(e,"internal-error"))},Vs("".concat(Ws,"?").concat(Kt({onload:Hs,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ur(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!ys().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Zs(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ks=function(){function e(){pt(this,e)}return ht(e,[{key:"load",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Bs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Qs="recaptcha",$s={theme:"light",type:"image"},Js=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},$s),r=arguments.length>2?arguments[2]:void 0;pt(this,e),this.parameters=n,this.type=Qs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=na(r),this.isInvisible="invisible"===this.parameters.size,Hr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Hr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ks:new Ys,this.validateStartingState()}return ht(e,[{key:"verify",value:function(){var e=dt(mt().mark((function e(){var t,n,r,i=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Hr(!this.parameters.sitekey,this.auth,"argument-error"),Hr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Hr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ys()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Hr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=dt(mt().mark((function e(){var t,n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hr(Qr()&&!gs(),this.auth,"internal-error"),e.next=3,Xs();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ls(this.auth);case 8:Hr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Hr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Xs(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var eu=function(){function e(t,n){pt(this,e),this.verificationId=t,this.onConfirmation=n}return ht(e,[{key:"confirm",value:function(e){var t=Ua._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function tu(){return(tu=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=na(t),e.next=3,au(i,n,tn(r));case 3:return a=e.sent,e.abrupt("return",new eu(a,(function(e){return yo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(e,t,n){return ru.apply(this,arguments)}function ru(){return(ru=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),e.next=3,lo(!1,i,"phone");case 3:return e.next=5,au(i.auth,n,tn(r));case 5:return a=e.sent,e.abrupt("return",new eu(a,(function(e){return ko(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(){return(iu=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tn(t),e.next=3,au(i.auth,n,tn(r));case 3:return a=e.sent,e.abrupt("return",new eu(a,(function(e){return bo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function au(e,t,n){return ou.apply(this,arguments)}function ou(){return ou=dt(mt().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Hr("string"===typeof a,t,"argument-error"),Hr(r.type===Qs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Hr("enroll"===s.type,t,"internal-error"),e.next=13,is(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Hr("signin"===s.type,t,"internal-error"),Hr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ms(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ra(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return d=e.sent,f=d.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ou.apply(this,arguments)}function su(){return(su=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(tn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uu=function(){function e(t){pt(this,e),this.providerId=e.PROVIDER_ID,this.auth=na(t)}return ht(e,[{key:"verifyPhoneNumber",value:function(e,t){return au(this.auth,e,tn(t))}}],[{key:"credential",value:function(e,t){return Ua._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ua._fromTokenResponse(n,r):null}}]),e}();function cu(e,t){return t?Zr(t):(Hr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}uu.PROVIDER_ID="phone",uu.PHONE_SIGN_IN_METHOD="phone";var lu=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ht(n,[{key:"_getIdTokenResponse",value:function(e){return Da(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Da(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Da(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(sa);function du(e){return vo(e.auth,new lu(e),e.bypassAuthState)}function fu(e){var t=e.auth,n=e.user;return Hr(n,t,"internal-error"),ho(n,new lu(e),e.bypassAuthState)}function hu(e){return pu.apply(this,arguments)}function pu(){return(pu=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Hr(r=t.user,n,"internal-error"),e.abrupt("return",uo(r,new lu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];pt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ht(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=dt(mt().mark((function t(n,r){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=dt(mt().mark((function e(t){var n,r,i,a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return du;case"linkViaPopup":case"linkViaRedirect":return hu;case"reauthViaPopup":case"reauthViaRedirect":return fu;default:Vr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),mu=new Jr(2e3,1e4);function yu(e,t,n){return gu.apply(this,arguments)}function gu(){return(gu=dt(mt().mark((function e(t,n,r){var i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=na(t),Br(t,n,za),a=cu(i,r),o=new wu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(){return(ku=dt(mt().mark((function e(t,n,r){var i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Br((i=tn(t)).auth,n,za),a=cu(i.auth,r),o=new wu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e,t,n){return bu.apply(this,arguments)}function bu(){return(bu=dt(mt().mark((function e(t,n,r){var i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Br((i=tn(t)).auth,n,za),a=cu(i.auth,r),o=new wu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wu=function(e){kt(n,e);var t=Et(n);function n(e,r,i,a,o){var s;return pt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=gt(s),s}return ht(n,[{key:"executeNotNull",value:function(){var e=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Hr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=dt(mt().mark((function e(){var t,n=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wr(1===this.filter.length,"Popup operations only handle one event"),t=vs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ur(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ur(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ur(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,mu.get())}()}}]),n}(vu);wu.currentPopupAction=null;var _u=new Map,Eu=function(e){kt(n,e);var t=Et(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return pt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ht(n,[{key:"execute",value:function(){var e=dt(mt().mark((function e(){var t,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_u.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Iu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,kr(xt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:_u.set(this.auth._key(),t);case 21:return this.bypassAuthState||_u.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=dt(mt().mark((function e(t){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",kr(xt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",kr(xt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(vu);function Iu(e,t){return Su.apply(this,arguments)}function Su(){return Su=dt(mt().mark((function e(t,n){var r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ju(n),i=Cu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Su.apply(this,arguments)}function Nu(e,t){return Tu.apply(this,arguments)}function Tu(){return(Tu=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cu(t)._set(ju(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(e){return Zr(e._redirectPersistence)}function ju(e){return Ui("pendingRedirect",e.config.apiKey,e.name)}function Du(e,t,n){return function(e,t,n){return Au.apply(this,arguments)}(e,t,n)}function Au(){return(Au=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=na(t),Br(t,n,za),a=cu(i,r),e.next=5,Nu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e,t,n){return function(e,t,n){return Ru.apply(this,arguments)}(e,t,n)}function Ru(){return(Ru=dt(mt().mark((function e(t,n,r){var i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Br((i=tn(t)).auth,n,za),a=cu(i.auth,r),e.next=5,Nu(a,i.auth);case 5:return e.next=7,qu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t,n){return function(e,t,n){return Mu.apply(this,arguments)}(e,t,n)}function Mu(){return(Mu=dt(mt().mark((function e(t,n,r){var i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Br((i=tn(t)).auth,n,za),a=cu(i.auth,r),e.next=5,lo(!1,i,n.providerId);case 5:return e.next=7,Nu(a,i.auth);case 7:return e.next=9,qu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t){return Fu.apply(this,arguments)}function Fu(){return(Fu=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(t)._initializationPromise;case 2:return e.abrupt("return",Vu(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=dt(mt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=na(t),a=cu(i,n),o=new Eu(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function qu(e){return Bu.apply(this,arguments)}function Bu(){return(Bu=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zu=function(){function e(t){pt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ht(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Gu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Hu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Hu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Gu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Wu(e){return Yu.apply(this,arguments)}function Yu(){return Yu=dt(mt().mark((function e(t){var n,r=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ii(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}var Zu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ku=/^https?/;function Qu(){return(Qu=dt(mt().mark((function e(t){var n,r,i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wu(t);case 4:n=e.sent,r=n.authorizedDomains,i=ct(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!$u(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Vr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function $u(e){var t=Kr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ku.test(r))return!1;if(Zu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ju=new Jr(3e4,6e4);function Xu(){var e=ys().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=cn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ec=null;function tc(e){return ec=ec||function(e){return new Promise((function(t,n){var r,i,a;function o(){Xu(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Xu(),n(Ur(e,"network-request-failed"))},timeout:Ju.get()})}if(null===(i=null===(r=ys().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ys().gapi)||void 0===a?void 0:a.load)){var s=Us("iframefcb");return ys()[s]=function(){gapi.load?o():n(Ur(e,"network-request-failed"))},Vs("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ec=null,e}))}(e),ec}var nc=new Jr(5e3,15e3),rc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ic=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ac(e){var t=e.config;Hr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Xr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:qn},i=ic.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Kt(r).slice(1))}function oc(e){return sc.apply(this,arguments)}function sc(){return sc=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(t);case 2:return n=e.sent,Hr(r=ys().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ac(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rc,dontclear:!0},(function(e){return new Promise(function(){var n=dt(mt().mark((function n(r,i){var a,o,s;return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){ys().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ur(t,"network-request-failed"),o=ys().setTimeout((function(){i(a)}),nc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}var uc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cc="_blank",lc="http://localhost",dc=function(){function e(t){pt(this,e),this.window=t,this.associatedEvent=null}return ht(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function fc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},uc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Pt().toLowerCase();n&&(s=Gi(c)?cc:n),zi(c)&&(t=t||lc,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=be(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if($i(c)&&"_self"!==s)return hc(t||"",s),new dc(null);var d=window.open(t||"",s,l);Hr(d,e,"popup-blocked");try{d.focus()}catch(f){}return new dc(d)}function hc(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var pc="__/auth/handler",vc="emulator/auth/handler";function mc(e,t,n,r,i,a){Hr(e.config.authDomain,e,"auth-domain-config-required"),Hr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qn,eventId:i};if(t instanceof za){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=be(u[s],2),l=c[0],d=c[1];o[l]=d}}if(t instanceof Ha){var f=t.getScopes().filter((function(e){return""!==e}));f.length>0&&(o.scopes=f.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var h=o,p=0,v=Object.keys(h);p<v.length;p++){var m=v[p];void 0===h[m]&&delete h[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(pc);return Xr(t,vc)}(e),"?").concat(Kt(h).slice(1))}var yc="webStorageSupport",gc=function(){function e(){pt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fs,this._completeRedirectFn=Vu}return ht(e,[{key:"_openPopup",value:function(){var e=dt(mt().mark((function e(t,n,r,i){var a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=mc(t,n,r,Kr(),i),e.abrupt("return",fc(t,o,vs()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=dt(mt().mark((function e(t,n,r,i){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=mc(t,n,r,Kr(),i),ys().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Wr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oc(t);case 2:return n=e.sent,r=new zu(t),n.register("authEvent",(function(e){return Hr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(yc,{type:yc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Vr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Qu.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Xi()||Hi()||Qi()}}]),e}(),kc=gc,xc=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this,"phone")).credential=e,r}return ht(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ii(e,"POST","/v2/accounts/mfaEnrollment:finalize",ri(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ii(e,"POST","/v2/accounts/mfaSignIn:finalize",ri(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){pt(this,e),this.factorId=t}return ht(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Gr("unexpected MultiFactorSessionType")}}}]),e}()),bc=function(){function e(){pt(this,e)}return ht(e,null,[{key:"assertion",value:function(e){return xc._fromCredential(e)}}]),e}();bc.FACTOR_ID="phone";var wc,_c="@firebase/auth",Ec="0.19.11",Ic=function(){function e(t){pt(this,e),this.auth=t,this.internalListeners=new Map}return ht(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Hr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Sc(){return window}wc="Browser",Rn(new ln("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Hr(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Hr(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:wc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ea(wc)},i=new ta(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Rn(new ln("auth-internal",(function(e){return function(e){return new Ic(e)}(na(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(_c,Ec,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(wc)),Yn(_c,Ec,"esm2017");function Nc(e,t,n){return Tc.apply(this,arguments)}function Tc(){return Tc=dt(mt().mark((function e(t,n,r){var i,a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sc(),o=a.BuildInfo,Wr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Rc(n.sessionId);case 4:return s=e.sent,u={},Qi()?u.ibi=o.packageName:Yi()?u.apn=o.packageName:Vr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",mc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(){return(Cc=dt(mt().mark((function e(t){var n,r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sc(),r=n.BuildInfo,i={},Qi()?i.iosBundleId=r.packageName:Yi()?i.androidPackageName=r.packageName:Vr(t,"operation-not-supported-in-this-environment"),e.next=5,Wu(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e){var t=Sc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Dc(e,t,n){return Ac.apply(this,arguments)}function Ac(){return Ac=dt(mt().mark((function e(t,n,r){var i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Ur(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Yi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Ac.apply(this,arguments)}function Oc(e){var t,n,r,i,a,o,s,u,c,l,d=Sc();Hr("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Hr("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Hr("function"===typeof(null===(a=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Hr("function"===typeof(null===(u=null===(s=null===(o=null===d||void 0===d?void 0:d.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Hr("function"===typeof(null===(l=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Rc(e){return Pc.apply(this,arguments)}function Pc(){return(Pc=dt(mt().mark((function e(t){var n,r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(e){if(Wr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Lc=function(e){kt(n,e);var t=Et(n);function n(){var e;return pt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ht(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),kr(xt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(zu);function Fc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:zc(),postBody:null,tenantId:e.tenantId,error:Ur(e,"no-auth-event")}}function Vc(e,t){return Hc()._set(Gc(e),t)}function Uc(e){return qc.apply(this,arguments)}function qc(){return(qc=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hc()._get(Gc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Hc()._remove(Gc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bc(e,t){var n,r,i=function(e){var t=Wc(e),n=t.link?decodeURIComponent(t.link):void 0,r=Wc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Wc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Wc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ur(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function zc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Hc(){return Zr(ls)}function Gc(e){return Ui("authEvent",e.config.apiKey,e.name)}function Wc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=ye(t=n)||un(t)||ke(t)||xe();r[0];return Qt(r.slice(1).join("?"))}var Yc=function(){function e(){pt(this,e),this._redirectPersistence=fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vu}return ht(e,[{key:"_initialize",value:function(){var e=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Lc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Vr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=dt(mt().mark((function e(t,n,r,i){var a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),_u.clear(),e.next=10,this._originValidation(t);case 10:return o=Fc(t,r,i),e.next=13,Vc(t,o);case 13:return e.next=15,Nc(t,o,n);case 15:return s=e.sent,e.next=18,jc(s);case 18:return u=e.sent,e.abrupt("return",Dc(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Cc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Sc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(dt(mt().mark((function n(){return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Uc(e);case 2:t.onEvent(Kc());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=dt(mt().mark((function n(r){var i,a;return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Uc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Bc(i,r.url)),t.onEvent(a||Kc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Sc().handleOpenURL=function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Zc=Yc;function Kc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ur("no-auth-event")}}function Qc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function $c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return!("file:"!==Qc()&&"ionic:"!==Qc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jc(){return Ut()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return/Edge\/\d+/.test(e)}function el(){try{var e=self.localStorage,t=vs();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt();return Jc()||Xc(e)}()||qt()}catch(n){return tl()&&qt()}return!1}function tl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function nl(){return("http:"===Qc()||"https:"===Qc()||Ft()||$c())&&!(Vt()||Lt())&&el()&&!tl()}function rl(){return $c()&&"undefined"!==typeof document}function il(){return al.apply(this,arguments)}function al(){return(al=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ol={LOCAL:"local",NONE:"none",SESSION:"session"},sl=Hr,ul="persistence";function cl(e,t){sl(Object.values(ol).includes(t),e,"invalid-persistence-type"),Vt()?sl(t!==ol.SESSION,e,"unsupported-persistence-type"):Lt()?sl(t===ol.NONE,e,"unsupported-persistence-type"):tl()?sl(t===ol.NONE||t===ol.LOCAL&&qt(),e,"unsupported-persistence-type"):sl(t===ol.NONE||el(),e,"unsupported-persistence-type")}function ll(e){return dl.apply(this,arguments)}function dl(){return dl=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=fl(),r=Ui(ul,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),dl.apply(this,arguments)}function fl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var hl=Hr,pl=function(){function e(){pt(this,e),this.browserResolver=Zr(kc),this.cordovaResolver=Zr(Zc),this.underlyingResolver=null,this._redirectPersistence=fs,this._completeRedirectFn=Vu}return ht(e,[{key:"_initialize",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=dt(mt().mark((function e(t,n,r,i){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=dt(mt().mark((function e(t,n,r,i){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return rl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return hl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,il();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vl(e){return e.unwrap()}function ml(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new bl(e,function(e,t){var n,r=tn(e),i=t;return Hr(t.customData.operationType,r,"argument-error"),Hr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),rs._fromError(r,i)}(e,t));else if(r){var i=yl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function yl(e){var t=(e instanceof Bt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Bt)&&"temporaryProof"in t&&"phoneNumber"in t)return uu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ir)return null;switch(r){case Er:n=Ya;break;case wr:n=Wa;break;case _r:n=Za;break;case Sr:n=$a;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Ka._create(r,s):Oa._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Ga(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Bt?n.credentialFromError(e):n.credentialFromResult(e)}function gl(e,t){return t.catch((function(t){throw t instanceof Bt&&ml(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,yl(t)),additionalUserInfo:ts(e),user:wl.getOrCreate(r)}}))}function kl(e,t){return xl.apply(this,arguments)}function xl(){return(xl=dt(mt().mark((function e(t,n){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return gl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bl=function(){function e(t,n){pt(this,e),this.resolver=n,this.auth=t.wrapped()}return ht(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return gl(vl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),wl=function(){function e(t){pt(this,e),this._delegate=t,this.multiFactor=function(e){var t=tn(e);return os.has(t)||os.set(t,as._fromUser(t)),os.get(t)}(t)}return ht(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gl(this.auth,ko(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kl(this.auth,nu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gl(this.auth,xu(this._delegate,t,pl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll(na(this.auth));case 2:return e.abrupt("return",Pu(this._delegate,t,pl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gl(this.auth,bo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return kl(this.auth,function(e,t,n){return iu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return gl(this.auth,function(e,t,n){return ku.apply(this,arguments)}(this._delegate,e,pl))}},{key:"reauthenticateWithRedirect",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll(na(this.auth));case 2:return e.abrupt("return",Ou(this._delegate,t,pl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Bo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Yo(tn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Yo(tn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return su.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Wo.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return zo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();wl.USER_MAP=new WeakMap;var _l=Hr,El=function(){function e(t,n){if(pt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;_l(r,"invalid-api-key",{appName:t.name}),_l(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?pl:void 0;this._delegate=n.initialize({options:{persistence:Sl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Rr),this.linkUnderlyingAuth()}return ht(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?wl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ia(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Do.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ao(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return jo.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gl(this._delegate,Po(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return qo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=qa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _l(nl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Lu(this._delegate,pl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",gl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){na(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Il(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Il(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Lo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Co.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cl(this._delegate,t),e.t0=t,e.next=e.t0===ol.SESSION?4:e.t0===ol.LOCAL?6:e.t0===ol.NONE?11:13;break;case 4:return n=fs,e.abrupt("break",14);case 6:return e.next=8,Zr(Ps)._isAvailable();case 8:return r=e.sent,n=r?Ps:ls,e.abrupt("break",14);case 11:return n=Vi,e.abrupt("break",14);case 13:return e.abrupt("return",Vr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return gl(this._delegate,function(e){return no.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return gl(this._delegate,yo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return gl(this._delegate,function(e,t){return Io.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return gl(this._delegate,function(e,t,n){return yo(tn(e),Ba.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return gl(this._delegate,function(e,t,n){return Fo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return kl(this._delegate,function(e,t,n){return tu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _l(nl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",gl(this._delegate,yu(this._delegate,t,pl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _l(nl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ll(this._delegate);case 3:return e.abrupt("return",Du(this._delegate,t,pl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ro.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Il(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&wl.getOrCreate(e))},error:t,complete:n}}function Sl(e,t){var n=function(e,t){var n=fl();if(!n)return[];var r=Ui(ul,e,t);switch(n.getItem(r)){case ol.NONE:return[Vi];case ol.LOCAL:return[Ps,fs];case ol.SESSION:return[fs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ps)||n.push(Ps),"undefined"!==typeof window)for(var r=0,i=[ls,fs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Vi)||n.push(Vi),n}El.Persistence=ol;var Nl=function(){function e(){pt(this,e),this.providerId="phone",this._delegate=new uu(vl(yr.auth()))}return ht(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return uu.credential(e,t)}}]),e}();Nl.PHONE_SIGN_IN_METHOD=uu.PHONE_SIGN_IN_METHOD,Nl.PROVIDER_ID=uu.PROVIDER_ID;var Tl,Cl=Hr,jl=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yr.app();pt(this,e),Cl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Js(t,n,i.auth()),this.type=this._delegate.type}return ht(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Tl=yr).INTERNAL.registerComponent(new ln("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new El(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Nr,PASSWORD_RESET:Tr,RECOVER_EMAIL:Cr,REVERT_SECOND_FACTOR_ADDITION:jr,VERIFY_AND_CHANGE_EMAIL:Dr,VERIFY_EMAIL:Ar}},EmailAuthProvider:Ba,FacebookAuthProvider:Wa,GithubAuthProvider:Za,GoogleAuthProvider:Ya,OAuthProvider:Ga,SAMLAuthProvider:Qa,PhoneAuthProvider:Nl,PhoneMultiFactorGenerator:bc,RecaptchaVerifier:jl,TwitterAuthProvider:$a,Auth:El,AuthCredential:sa,Error:Bt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Tl.registerVersion("@firebase/auth-compat","0.2.11");var Dl,Al="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ol={},Rl=Rl||{},Pl=Al||self;function Ml(){}function Ll(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Fl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Vl="closure_uid_"+(1e9*Math.random()>>>0),Ul=0;function ql(e,t,n){return e.call.apply(e.bind,arguments)}function Bl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function zl(e,t,n){return(zl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ql:Bl).apply(null,arguments)}function Hl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gl(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Wl(){this.s=this.s,this.o=this.o}var Yl={};Wl.prototype.s=!1,Wl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Vl)&&e[Vl]||(e[Vl]=++Ul)}(this);delete Yl[e]}},Wl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Zl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Kl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ql(e){return Array.prototype.concat.apply([],arguments)}function $l(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jl(e){return/^[\s\xa0]*$/.test(e)}var Xl,ed=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function td(e,t){return-1!=e.indexOf(t)}function nd(e,t){return e<t?-1:e>t?1:0}e:{var rd=Pl.navigator;if(rd){var id=rd.userAgent;if(id){Xl=id;break e}}Xl=""}function ad(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function od(e){var t={};for(var n in e)t[n]=e[n];return t}var sd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ud(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<sd.length;a++)n=sd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function cd(e){return cd[" "](e),e}cd[" "]=Ml;var ld,dd=td(Xl,"Opera"),fd=td(Xl,"Trident")||td(Xl,"MSIE"),hd=td(Xl,"Edge"),pd=hd||fd,vd=td(Xl,"Gecko")&&!(td(Xl.toLowerCase(),"webkit")&&!td(Xl,"Edge"))&&!(td(Xl,"Trident")||td(Xl,"MSIE"))&&!td(Xl,"Edge"),md=td(Xl.toLowerCase(),"webkit")&&!td(Xl,"Edge");function yd(){var e=Pl.document;return e?e.documentMode:void 0}e:{var gd="",kd=function(){var e=Xl;return vd?/rv:([^\);]+)(\)|;)/.exec(e):hd?/Edge\/([\d\.]+)/.exec(e):fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):md?/WebKit\/(\S+)/.exec(e):dd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(kd&&(gd=kd?kd[1]:""),fd){var xd=yd();if(null!=xd&&xd>parseFloat(gd)){ld=String(xd);break e}}ld=gd}var bd,wd={};function _d(){return function(e){var t=wd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ed(String(ld)).split("."),n=ed("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=nd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||nd(0==a[2].length,0==o[2].length)||nd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Pl.document&&fd){var Ed=yd();bd=Ed||(parseInt(ld,10)||void 0)}else bd=void 0;var Id=bd,Sd=function(){if(!Pl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Pl.addEventListener("test",Ml,t),Pl.removeEventListener("test",Ml,t)}catch(n){}return e}();function Nd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Td(e,t){if(Nd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(vd){e:{try{cd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Td.Z.h.call(this)}}Nd.prototype.h=function(){this.defaultPrevented=!0},Gl(Td,Nd);var Cd={2:"touch",3:"pen",4:"mouse"};Td.prototype.h=function(){Td.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jd="closure_listenable_"+(1e6*Math.random()|0),Dd=0;function Ad(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Dd,this.ca=this.fa=!1}function Od(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Rd(e){this.src=e,this.g={},this.h=0}function Pd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Zl(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Od(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Md(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Rd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Md(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ad(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ld="closure_lm_"+(1e6*Math.random()|0),Fd={};function Vd(e,t,n,r,i){if(r&&r.once)return qd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vd(e,t[a],n,r,i);return null}return n=Zd(n),e&&e[jd]?e.N(t,n,Fl(r)?!!r.capture:!!r,i):Ud(e,t,n,!1,r,i)}function Ud(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Fl(i)?!!i.capture:!!i,s=Wd(e);if(s||(e[Ld]=s=new Rd(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Gd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Hd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function qd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)qd(e,t[a],n,r,i);return null}return n=Zd(n),e&&e[jd]?e.O(t,n,Fl(r)?!!r.capture:!!r,i):Ud(e,t,n,!0,r,i)}function Bd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Bd(e,t[a],n,r,i);else r=Fl(r)?!!r.capture:!!r,n=Zd(n),e&&e[jd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Md(a=e.g[t],n,r,i))&&(Od(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Wd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Md(t,n,r,i)),(n=-1<e?t[e]:null)&&zd(n))}function zd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[jd])Pd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Hd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wd(t))?(Pd(n,e),0==n.h&&(n.src=null,t[Ld]=null)):Od(e)}}}function Hd(e){return e in Fd?Fd[e]:Fd[e]="on"+e}function Gd(e,t){if(e.ca)e=!0;else{t=new Td(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&zd(e),e=n.call(r,t)}return e}function Wd(e){return(e=e[Ld])instanceof Rd?e:null}var Yd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zd(e){return"function"===typeof e?e:(e[Yd]||(e[Yd]=function(t){return e.handleEvent(t)}),e[Yd])}function Kd(){Wl.call(this),this.i=new Rd(this),this.P=this,this.I=null}function Qd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Nd(t,e);else if(t instanceof Nd)t.target=t.target||e;else{var i=t;ud(t=new Nd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=$d(o,r,!0,t)&&i}if(i=$d(o=t.g=e,r,!0,t)&&i,i=$d(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=$d(o=t.g=n[a],r,!1,t)&&i}function $d(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Pd(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Gl(Kd,Wl),Kd.prototype[jd]=!0,Kd.prototype.removeEventListener=function(e,t,n,r){Bd(this,e,t,n,r)},Kd.prototype.M=function(){if(Kd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Od(n[r]);delete t.g[e],t.h--}}this.I=null},Kd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Jd=Pl.JSON.stringify;function Xd(){var e=uf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ef,tf=function(){function e(){pt(this,e),this.h=this.g=null}return ht(e,[{key:"add",value:function(e,t){var n=nf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),nf=new(function(){function e(t,n){pt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ht(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new rf}),(function(e){return e.reset()})),rf=function(){function e(){pt(this,e),this.next=this.g=this.h=null}return ht(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function af(e){Pl.setTimeout((function(){throw e}),0)}function of(e,t){ef||function(){var e=Pl.Promise.resolve(void 0);ef=function(){e.then(cf)}}(),sf||(ef(),sf=!0),uf.add(e,t)}var sf=!1,uf=new tf;function cf(){for(var e;e=Xd();){try{e.h.call(e.g)}catch(n){af(n)}var t=nf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}sf=!1}function lf(e,t){Kd.call(this),this.h=e||1,this.g=t||Pl,this.j=zl(this.kb,this),this.l=Date.now()}function df(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ff(e,t,n){if("function"===typeof e)n&&(e=zl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=zl(e.handleEvent,e)}return 2147483647<Number(t)?-1:Pl.setTimeout(e,t||0)}function hf(e){e.g=ff((function(){e.g=null,e.i&&(e.i=!1,hf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Gl(lf,Kd),(Dl=lf.prototype).da=!1,Dl.S=null,Dl.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qd(this,"tick"),this.da&&(df(this),this.start()))}},Dl.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dl.M=function(){lf.Z.M.call(this),df(this),delete this.g};var pf=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ht(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:hf(this)}},{key:"M",value:function(){kr(xt(n.prototype),"M",this).call(this),this.g&&(Pl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Wl);function vf(e){Wl.call(this),this.h=e,this.g={}}Gl(vf,Wl);var mf=[];function yf(e,t,n,r){Array.isArray(n)||(n&&(mf[0]=n.toString()),n=mf);for(var i=0;i<n.length;i++){var a=Vd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function gf(e){ad(e.g,(function(e,t){this.g.hasOwnProperty(t)&&zd(e)}),e),e.g={}}function kf(){this.g=!0}function xf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Jd(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}vf.prototype.M=function(){vf.Z.M.call(this),gf(this)},vf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kf.prototype.Aa=function(){this.g=!1},kf.prototype.info=function(){};var bf={},wf=null;function _f(){return wf=wf||new Kd}function Ef(e){Nd.call(this,bf.Ma,e)}function If(e){var t=_f();Qd(t,new Ef(t,e))}function Sf(e,t){Nd.call(this,bf.STAT_EVENT,e),this.stat=t}function Nf(e){var t=_f();Qd(t,new Sf(t,e))}function Tf(e,t){Nd.call(this,bf.Na,e),this.size=t}function Cf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Pl.setTimeout((function(){e()}),t)}bf.Ma="serverreachability",Gl(Ef,Nd),bf.STAT_EVENT="statevent",Gl(Sf,Nd),bf.Na="timingevent",Gl(Tf,Nd);var jf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Df={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Af(){}function Of(e){return e.h||(e.h=e.i())}function Rf(){}Af.prototype.h=null;var Pf,Mf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Lf(){Nd.call(this,"d")}function Ff(){Nd.call(this,"c")}function Vf(){}function Uf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new vf(this),this.P=Bf,e=pd?125:void 0,this.W=new lf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qf}function qf(){this.i=null,this.g="",this.h=!1}Gl(Lf,Nd),Gl(Ff,Nd),Gl(Vf,Af),Vf.prototype.g=function(){return new XMLHttpRequest},Vf.prototype.i=function(){return{}},Pf=new Vf;var Bf=45e3,zf={},Hf={};function Gf(e,t,n){e.K=1,e.v=ph(uh(t)),e.s=n,e.U=!0,Wf(e,null)}function Wf(e,t){e.F=Date.now(),Qf(e),e.A=uh(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Nh(n.h,"t",r),e.C=0,n=e.l.H,e.h=new qf,e.g=Cp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new pf(zl(e.Ia,e,e.g),e.O)),yf(e.V,e.g,"readystatechange",e.gb),t=e.H?od(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),If(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Yf(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Zf(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Kf(e,n))==Hf){4==t&&(e.o=4,Nf(14),i=!1),xf(e.j,e.m,null,"[Incomplete Response]");break}if(r==zf){e.o=4,Nf(15),xf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}xf(e.j,e.m,r,null),th(e,r)}Yf(e)&&r!=Hf&&r!=zf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Nf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),bp(t),t.L=!0,Nf(11))):(xf(e.j,e.m,n,"[Invalid Chunked Response]"),eh(e),Xf(e))}function Kf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Hf:(n=Number(t.substring(n,r)),isNaN(n)?zf:(r+=1)+n>t.length?Hf:(t=t.substr(r,n),e.C=r+n,t))}function Qf(e){e.Y=Date.now()+e.P,$f(e,e.P)}function $f(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Cf(zl(e.eb,e),t)}function Jf(e){e.B&&(Pl.clearTimeout(e.B),e.B=null)}function Xf(e){0==e.l.G||e.I||Ep(e.l,e)}function eh(e){Jf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,df(e.W),gf(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function th(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ph(n.i,e)))if(n.I=e.N,!e.J&&Ph(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;_p(n),fp(n)}xp(n),Nf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Cf(zl(n.ab,n),6e3));if(1>=Rh(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Sp(n,11)}else if((e.J||n.g==e)&&_p(n),!Jl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var d=r.i;!d.g&&(td(l,"spdy")||td(l,"quic")||td(l,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(Mh(d,d.h),d.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,hh(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=Tp(r,r.H?r.la:null,r.W),h.J){Lh(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(Jf(p),Qf(p)),r.g=h}else kp(r);0<n.l.length&&vp(n)}else"stop"!=a[0]&&"close"!=a[0]||Sp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Sp(n,7):dp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}If(4)}catch(a){}}function nh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ll(e)||"string"===typeof e)Kl(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ll(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ll(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function rh(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof rh)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ih(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ah(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ah(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ah(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Dl=Uf.prototype).setTimeout=function(e){this.P=e},Dl.gb=function(e){e=e.target;var t=this.L;t&&3==op(e)?t.l():this.Ia(e)},Dl.Ia=function(e){try{if(e==this.g)e:{var t=op(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||pd||this.g&&(this.h.h||this.g.ga()||sp(this.g)))){this.I||4!=t||7==n||If(8==n||0>=r?3:2),Jf(this);var i=this.g.ba();this.N=i;t:if(Yf(this)){var a=sp(this.g);e="";var o=a.length,s=4==op(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){eh(this),Xf(this);var u="";break t}this.h.i=new Pl.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jl(c)){var d=c;break t}}d=null}if(!(i=d)){this.i=!1,this.o=3,Nf(12),eh(this),Xf(this);break e}xf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,th(this,i)}this.U?(Zf(this,t,u),pd&&this.i&&3==t&&(yf(this.V,this.W,"tick",this.fb),this.W.start())):(xf(this.j,this.m,u,null),th(this,u)),4==t&&eh(this),this.i&&!this.I&&(4==t?Ep(this.l,this):(this.i=!1,Qf(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Nf(12)):(this.o=0,Nf(13)),eh(this),Xf(this)}}}catch(t){}},Dl.fb=function(){if(this.g){var e=op(this.g),t=this.g.ga();this.C<t.length&&(Jf(this),Zf(this,e,t),this.i&&4!=e&&Qf(this))}},Dl.cancel=function(){this.I=!0,eh(this)},Dl.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(If(3),Nf(17)),eh(this),this.o=2,Xf(this)):$f(this,this.Y-e)},(Dl=rh.prototype).R=function(){ih(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Dl.T=function(){return ih(this),this.g.concat()},Dl.get=function(e,t){return ah(this.h,e)?this.h[e]:t},Dl.set=function(e,t){ah(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Dl.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var oh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sh(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof sh){this.g=void 0!==t?t:e.g,ch(this,e.j),this.s=e.s,lh(this,e.i),dh(this,e.m),this.l=e.l,t=e.h;var n=new _h;n.i=t.i,t.g&&(n.g=new rh(t.g),n.h=t.h),fh(this,n),this.o=e.o}else e&&(n=String(e).match(oh))?(this.g=!!t,ch(this,n[1]||"",!0),this.s=vh(n[2]||""),lh(this,n[3]||"",!0),dh(this,n[4]),this.l=vh(n[5]||"",!0),fh(this,n[6]||"",!0),this.o=vh(n[7]||"")):(this.g=!!t,this.h=new _h(null,this.g))}function uh(e){return new sh(e)}function ch(e,t,n){e.j=n?vh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lh(e,t,n){e.i=n?vh(t,!0):t}function dh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fh(e,t,n){t instanceof _h?(e.h=t,function(e,t){t&&!e.j&&(Eh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ih(this,t),Nh(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=mh(t,bh)),e.h=new _h(t,e.g))}function hh(e,t,n){e.h.set(t,n)}function ph(e){return hh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function vh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}sh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mh(t,gh,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(mh(t,gh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(mh(n,"/"==n.charAt(0)?xh:kh,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",mh(n,wh)),e.join("")};var gh=/[#\/\?@]/g,kh=/[#\?:]/g,xh=/[#\?]/g,bh=/[#\?@]/g,wh=/#/g;function _h(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Eh(e){e.g||(e.g=new rh,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ih(e,t){Eh(e),t=Th(e,t),ah(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ah((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ih(e)))}function Sh(e,t){return Eh(e),t=Th(e,t),ah(e.g.h,t)}function Nh(e,t,n){Ih(e,t),0<n.length&&(e.i=null,e.g.set(Th(e,t),$l(n)),e.h+=n.length)}function Th(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Dl=_h.prototype).add=function(e,t){Eh(this),this.i=null,e=Th(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Dl.forEach=function(e,t){Eh(this),this.g.forEach((function(n,r){Kl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Dl.T=function(){Eh(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Dl.R=function(e){Eh(this);var t=[];if("string"===typeof e)Sh(this,e)&&(t=Ql(t,this.g.get(Th(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ql(t,e[n])}return t},Dl.set=function(e,t){return Eh(this),this.i=null,Sh(this,e=Th(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Dl.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Dl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ch=ht((function e(t,n){pt(this,e),this.h=t,this.g=n}));function jh(e){this.l=e||Ah,Pl.PerformanceNavigationTiming?e=0<(e=Pl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Pl.g&&Pl.g.Ea&&Pl.g.Ea()&&Pl.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Dh,Ah=10;function Oh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Rh(e){return e.h?1:e.g?e.g.size:0}function Ph(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Mh(e,t){e.g?e.g.add(t):e.h=t}function Lh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Fh(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ct(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return $l(e.i)}function Vh(){}function Uh(){this.g=new Vh}function qh(e,t,n){var r=n||"";try{nh(e,(function(e,n){var i=e;Fl(e)&&(i=Jd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Bh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function zh(e){this.l=e.$b||null,this.j=e.ib||!1}function Hh(e,t){Kd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Gh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jh.prototype.cancel=function(){if(this.i=Fh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ct(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Vh.prototype.stringify=function(e){return Pl.JSON.stringify(e,void 0)},Vh.prototype.parse=function(e){return Pl.JSON.parse(e,void 0)},Gl(zh,Af),zh.prototype.g=function(){return new Hh(this.l,this.j)},zh.prototype.i=(Dh={},function(){return Dh}),Gl(Hh,Kd);var Gh=0;function Wh(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Yh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zh(e)}function Zh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Dl=Hh.prototype).open=function(e,t){if(this.readyState!=Gh)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zh(this)},Dl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Pl).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Dl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yh(this)),this.readyState=Gh},Dl.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zh(this)),this.g&&(this.readyState=3,Zh(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Pl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wh(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Dl.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Yh(this):Zh(this),3==this.readyState&&Wh(this)}},Dl.Ua=function(e){this.g&&(this.response=this.responseText=e,Yh(this))},Dl.Ta=function(e){this.g&&(this.response=e,Yh(this))},Dl.ha=function(){this.g&&Yh(this)},Dl.setRequestHeader=function(e,t){this.v.append(e,t)},Dl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Dl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Hh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Kh=Pl.JSON.parse;function Qh(e){Kd.call(this),this.headers=new rh,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$h,this.K=this.L=!1}Gl(Qh,Kd);var $h="",Jh=/^https?$/i,Xh=["POST","PUT"];function ep(e){return"content-type"==e.toLowerCase()}function tp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,np(e),ip(e)}function np(e){e.D||(e.D=!0,Qd(e,"complete"),Qd(e,"error"))}function rp(e){if(e.h&&"undefined"!=typeof Rl&&(!e.C[1]||4!=op(e)||2!=e.ba()))if(e.v&&4==op(e))ff(e.Fa,0,e);else if(Qd(e,"readystatechange"),4==op(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(oh)[1]||null;if(!a&&Pl.self&&Pl.self.location){var o=Pl.self.location.protocol;a=o.substr(0,o.length-1)}i=!Jh.test(a?a.toLowerCase():"")}t=i}if(t)Qd(e,"complete"),Qd(e,"success");else{e.m=6;try{var s=2<op(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",np(e)}}finally{ip(e)}}}function ip(e,t){if(e.g){ap(e);var n=e.g,r=e.C[0]?Ml:null;e.g=null,e.C=null,t||Qd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ap(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Pl.clearTimeout(e.A),e.A=null)}function op(e){return e.g?e.g.readyState:0}function sp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case $h:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function up(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ad(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):hh(e,t,n))}function cp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function lp(e){this.za=0,this.l=[],this.h=new kf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cp("baseRetryDelayMs",5e3,e),this.$a=cp("retryDelaySeedMs",1e4,e),this.Ya=cp("forwardChannelMaxRetries",2,e),this.ra=cp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new jh(e&&e.concurrentRequestLimit),this.Ca=new Uh,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function dp(e){if(hp(e),3==e.G){var t=e.V++,n=uh(e.F);hh(n,"SID",e.J),hh(n,"RID",t),hh(n,"TYPE","terminate"),yp(e,n),(t=new Uf(e,e.h,t,void 0)).K=2,t.v=ph(uh(n)),n=!1,Pl.navigator&&Pl.navigator.sendBeacon&&(n=Pl.navigator.sendBeacon(t.v.toString(),"")),!n&&Pl.Image&&((new Image).src=t.v,n=!0),n||(t.g=Cp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Qf(t)}Np(e)}function fp(e){e.g&&(bp(e),e.g.cancel(),e.g=null)}function hp(e){fp(e),e.u&&(Pl.clearTimeout(e.u),e.u=null),_p(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Pl.clearTimeout(e.m),e.m=null)}function pp(e,t){e.l.push(new Ch(e.Za++,t)),3==e.G&&vp(e)}function vp(e){Oh(e.i)||e.m||(e.m=!0,of(e.Ha,e),e.C=0)}function mp(e,t){var n;n=t?t.m:e.V++;var r=uh(e.F);hh(r,"SID",e.J),hh(r,"RID",n),hh(r,"AID",e.U),yp(e,r),e.o&&e.s&&up(r,e.o,e.s),n=new Uf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=gp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Mh(e.i,n),Gf(n,r,t)}function yp(e,t){e.j&&nh({},(function(e,n){hh(t,n,e)}))}function gp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?zl(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{qh(l,o,"req"+c+"_")}catch(nv){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function kp(e){e.g||e.u||(e.Y=1,of(e.Ga,e),e.A=0)}function xp(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Cf(zl(e.Ga,e),Ip(e,e.A)),e.A++,!0)}function bp(e){null!=e.B&&(Pl.clearTimeout(e.B),e.B=null)}function wp(e){e.g=new Uf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=uh(e.oa);hh(t,"RID","rpc"),hh(t,"SID",e.J),hh(t,"CI",e.N?"0":"1"),hh(t,"AID",e.U),yp(e,t),hh(t,"TYPE","xmlhttp"),e.o&&e.s&&up(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ph(uh(t)),n.s=null,n.U=!0,Wf(n,e)}function _p(e){null!=e.v&&(Pl.clearTimeout(e.v),e.v=null)}function Ep(e,t){var n=null;if(e.g==t){_p(e),bp(e),e.g=null;var r=2}else{if(!Ph(e.i,t))return;n=t.D,Lh(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Qd(r=_f(),new Tf(r,n,t,i)),vp(e)}else kp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Rh(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Cf(zl(e.Ha,e,t),Ip(e,e.C)),e.C++,!0))}(e,t)||2==r&&xp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sp(e,5);break;case 4:Sp(e,10);break;case 3:Sp(e,6);break;default:Sp(e,2)}}function Ip(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Sp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=zl(e.jb,e);n||(n=new sh("//www.google.com/images/cleardot.gif"),Pl.location&&"http"==Pl.location.protocol||ch(n,"https"),ph(n)),function(e,t){var n=new kf;if(Pl.Image){var r=new Image;r.onload=Hl(Bh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hl(Bh,n,r,"TestLoadImage: error",!1,t),r.onabort=Hl(Bh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hl(Bh,n,r,"TestLoadImage: timeout",!1,t),Pl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Nf(2);e.G=0,e.j&&e.j.va(t),Np(e),hp(e)}function Np(e){e.G=0,e.I=-1,e.j&&(0==Fh(e.i).length&&0==e.l.length||(e.i.i.length=0,$l(e.l),e.l.length=0),e.j.ua())}function Tp(e,t,n){var r=function(e){return e instanceof sh?uh(e):new sh(e,void 0)}(n);if(""!=r.i)t&&lh(r,t+"."+r.i),dh(r,r.m);else{var i=Pl.location;r=function(e,t,n,r){var i=new sh(null,void 0);return e&&ch(i,e),t&&lh(i,t),n&&dh(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ad(e.aa,(function(e,t){hh(r,t,e)})),t=e.D,n=e.sa,t&&n&&hh(r,t,n),hh(r,"VER",e.ma),yp(e,r),r}function Cp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Qh(new zh({ib:!0})):new Qh(e.qa)).L=e.H,t}function jp(){}function Dp(){if(fd&&!(10<=Number(Id)))throw Error("Environmental error: no available transport.")}function Ap(e,t){Kd.call(this),this.g=new lp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Jl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pp(this)}function Op(e){Lf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rp(){Ff.call(this),this.status=1}function Pp(e){this.g=e}(Dl=Qh.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pf.g(),this.C=this.u?Of(this.u):Of(Pf),this.g.onreadystatechange=zl(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void tp(this,a)}e=n||"";var i=new rh(this.headers);r&&nh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ep,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Pl.FormData&&e instanceof Pl.FormData,!(0<=Zl(Xh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ap(this),0<this.B&&((this.K=function(e){return fd&&_d()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zl(this.pa,this)):this.A=ff(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){tp(this,a)}},Dl.pa=function(){"undefined"!=typeof Rl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qd(this,"timeout"),this.abort(8))},Dl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qd(this,"complete"),Qd(this,"abort"),ip(this))},Dl.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ip(this,!0)),Qh.Z.M.call(this)},Dl.Fa=function(){this.s||(this.F||this.v||this.l?rp(this):this.cb())},Dl.cb=function(){rp(this)},Dl.ba=function(){try{return 2<op(this)?this.g.status:-1}catch(Dh){return-1}},Dl.ga=function(){try{return this.g?this.g.responseText:""}catch(Dh){return""}},Dl.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Kh(t)}},Dl.Da=function(){return this.m},Dl.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Dl=lp.prototype).ma=8,Dl.G=1,Dl.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Dl.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Uf(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ud(n=od(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gp(this,t,r),hh(i=uh(this.F),"RID",e),hh(i,"CVER",22),this.D&&hh(i,"X-HTTP-Session-Id",this.D),yp(this,i),this.o&&n&&up(i,this.o,n),Mh(this.i,t),this.Ra&&hh(i,"TYPE","init"),this.ja?(hh(i,"$req",r),hh(i,"SID","null"),t.$=!0,Gf(t,i,null)):Gf(t,i,r),this.G=2}}else 3==this.G&&(e?mp(this,e):0==this.l.length||Oh(this.i)||mp(this))},Dl.Ga=function(){if(this.u=null,wp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Cf(zl(this.bb,this),e)}},Dl.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nf(10),fp(this),wp(this))},Dl.ab=function(){null!=this.v&&(this.v=null,fp(this),xp(this),Nf(19))},Dl.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Nf(2)):(this.h.info("Failed to ping google.com"),Nf(1))},(Dl=jp.prototype).xa=function(){},Dl.wa=function(){},Dl.va=function(){},Dl.ua=function(){},Dl.Oa=function(){},Dp.prototype.g=function(e,t){return new Ap(e,t)},Gl(Ap,Kd),Ap.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),of(zl(e.hb,e,t))),Nf(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Tp(e,null,e.W),vp(e)},Ap.prototype.close=function(){dp(this.g)},Ap.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,pp(this.g,t)}else this.v?((t={}).__data__=Jd(e),pp(this.g,t)):pp(this.g,e)},Ap.prototype.M=function(){this.g.j=null,delete this.j,dp(this.g),delete this.g,Ap.Z.M.call(this)},Gl(Op,Lf),Gl(Rp,Ff),Gl(Pp,jp),Pp.prototype.xa=function(){Qd(this.g,"a")},Pp.prototype.wa=function(e){Qd(this.g,new Op(e))},Pp.prototype.va=function(e){Qd(this.g,new Rp(e))},Pp.prototype.ua=function(){Qd(this.g,"b")},Dp.prototype.createWebChannel=Dp.prototype.g,Ap.prototype.send=Ap.prototype.u,Ap.prototype.open=Ap.prototype.m,Ap.prototype.close=Ap.prototype.close,jf.NO_ERROR=0,jf.TIMEOUT=8,jf.HTTP_ERROR=6,Df.COMPLETE="complete",Rf.EventType=Mf,Mf.OPEN="a",Mf.CLOSE="b",Mf.ERROR="c",Mf.MESSAGE="d",Kd.prototype.listen=Kd.prototype.N,Qh.prototype.listenOnce=Qh.prototype.O,Qh.prototype.getLastError=Qh.prototype.La,Qh.prototype.getLastErrorCode=Qh.prototype.Da,Qh.prototype.getStatus=Qh.prototype.ba,Qh.prototype.getResponseJson=Qh.prototype.Qa,Qh.prototype.getResponseText=Qh.prototype.ga,Qh.prototype.send=Qh.prototype.ea;var Mp=Ol.createWebChannelTransport=function(){return new Dp},Lp=Ol.getStatEventTarget=function(){return _f()},Fp=Ol.ErrorCode=jf,Vp=Ol.EventType=Df,Up=Ol.Event=bf,qp=Ol.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Bp=Ol.FetchXmlHttpFactory=zh,zp=Ol.WebChannel=Rf,Hp=Ol.XhrIo=Qh,Gp="@firebase/firestore",Wp=function(){function e(t){pt(this,e),this.uid=t}return ht(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Wp.UNAUTHENTICATED=new Wp(null),Wp.GOOGLE_CREDENTIALS=new Wp("google-credentials-uid"),Wp.FIRST_PARTY=new Wp("first-party-uid"),Wp.MOCK_USER=new Wp("mock-user");var Yp="9.6.10",Zp=new _n("@firebase/firestore");function Kp(){return Zp.logLevel}function Qp(e){if(Zp.logLevel<=pn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xp);Zp.debug.apply(Zp,["Firestore (".concat(Yp,"): ").concat(e)].concat(cn(i)))}}function $p(e){if(Zp.logLevel<=pn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xp);Zp.error.apply(Zp,["Firestore (".concat(Yp,"): ").concat(e)].concat(cn(i)))}}function Jp(e){if(Zp.logLevel<=pn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Xp);Zp.warn.apply(Zp,["Firestore (".concat(Yp,"): ").concat(e)].concat(cn(i)))}}function Xp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ev(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Yp,") INTERNAL ASSERTION FAILED: ")+e;throw $p(t),new Error(t)}function tv(e,t){e||ev()}function nv(e,t){return e}var rv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},iv=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ht(n)}(Bt),av=ht((function e(){var t=this;pt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ov=ht((function e(t,n){pt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),sv=function(){function e(){pt(this,e)}return ht(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),uv=function(){function e(t){pt(this,e),this.token=t,this.changeListener=null}return ht(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),cv=function(){function e(t){pt(this,e),this.t=t,this.currentUser=Wp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ht(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new av;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new av,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Qp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Qp("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new av)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Qp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(tv("string"==typeof n.accessToken),new ov(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return tv(null===e||"string"==typeof e),new Wp(e)}}]),e}(),lv=ht((function e(t,n,r){pt(this,e),this.type="FirstParty",this.user=Wp.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),dv=function(){function e(t,n,r){pt(this,e),this.h=t,this.l=n,this.m=r}return ht(e,[{key:"getToken",value:function(){return Promise.resolve(new lv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Wp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),fv=ht((function e(t){pt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),hv=function(){function e(t){pt(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ht(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Qp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Qp("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Qp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Qp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(tv("string"==typeof t.token),e.p=t.token,new fv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),pv=function(){function e(t,n){var r=this;pt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ht(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function vv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}pv.A=-1;var mv=function(){function e(){pt(this,e)}return ht(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=vv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function yv(e,t){return e<t?-1:e>t?1:0}function gv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function kv(e){return e+"\0"}var xv=function(){function e(t,n){if(pt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new iv(rv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new iv(rv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new iv(rv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new iv(rv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ht(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?yv(this.nanoseconds,e.nanoseconds):yv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),bv=function(){function e(t){pt(this,e),this.timestamp=t}return ht(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new xv(0,0))}},{key:"max",value:function(){return new e(new xv(253402300799,999999999))}}]),e}();function wv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _v(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ev(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Iv=function(){function e(t,n,r){pt(this,e),void 0===n?n=0:n>t.length&&ev(),void 0===r?r=t.length-n:r>t.length-n&&ev(),this.segments=t,this.offset=n,this.len=r}return ht(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Sv=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.apply(this,arguments)}return ht(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new iv(rv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,cn(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Iv),Nv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tv=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.apply(this,arguments)}return ht(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Nv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new iv(rv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new iv(rv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new iv(rv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new iv(rv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Iv),Cv=function(){function e(t){pt(this,e),this.fields=t,t.sort(Tv.comparator)}return ht(e,[{key:"covers",value:function(e){var t,n=ct(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return gv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var jv=function(e){function t(e){pt(this,t),this.binaryString=e}return ht(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return yv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();jv.EMPTY_BYTE_STRING=new jv("");var Dv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Av(e){if(tv(!!e),"string"==typeof e){var t=0,n=Dv.exec(e);if(tv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ov(e.seconds),nanos:Ov(e.nanos)}}function Ov(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Rv(e){return"string"==typeof e?jv.fromBase64String(e):jv.fromUint8Array(e)}function Pv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Mv(e){var t=e.mapValue.fields.__previous_value__;return Pv(t)?Mv(t):t}function Lv(e){var t=Av(e.mapValue.fields.__local_write_time__.timestampValue);return new xv(t.seconds,t.nanos)}var Fv=ht((function e(t,n,r,i,a,o,s,u){pt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Vv=function(){function e(t,n){pt(this,e),this.projectId=t,this.database=n||"(default)"}return ht(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Uv(e){return null==e}function qv(e){return 0===e&&1/e==-1/0}function Bv(e){return"number"==typeof e&&Number.isInteger(e)&&!qv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zv=function(){function e(t){pt(this,e),this.path=t}return ht(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Sv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Sv.fromString(t))}},{key:"fromName",value:function(t){return new e(Sv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Sv.emptyPath())}},{key:"comparator",value:function(e,t){return Sv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Sv(t.slice()))}}]),e}(),Hv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gv={nullValue:"NULL_VALUE"};function Wv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pv(e)?4:om(e)?9:10:ev()}function Yv(e,t){if(e===t)return!0;var n=Wv(e);if(n!==Wv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lv(e).isEqual(Lv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Av(e.timestampValue),r=Av(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Rv(e.bytesValue).isEqual(Rv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ov(e.geoPointValue.latitude)===Ov(t.geoPointValue.latitude)&&Ov(e.geoPointValue.longitude)===Ov(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ov(e.integerValue)===Ov(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ov(e.doubleValue),r=Ov(t.doubleValue);return n===r?qv(n)===qv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gv(e.arrayValue.values||[],t.arrayValue.values||[],Yv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wv(n)!==wv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yv(n[i],r[i])))return!1;return!0}(e,t);default:return ev()}}function Zv(e,t){return void 0!==(e.values||[]).find((function(e){return Yv(e,t)}))}function Kv(e,t){if(e===t)return 0;var n=Wv(e),r=Wv(t);if(n!==r)return yv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ov(e.integerValue||e.doubleValue),r=Ov(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qv(e.timestampValue,t.timestampValue);case 4:return Qv(Lv(e),Lv(t));case 5:return yv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Rv(e),r=Rv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=yv(n[i],r[i]);if(0!==a)return a}return yv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=yv(Ov(e.latitude),Ov(t.latitude));return 0!==n?n:yv(Ov(e.longitude),Ov(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Kv(n[i],r[i]);if(a)return a}return yv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=yv(r[o],a[o]);if(0!==s)return s;var u=Kv(n[r[o]],i[a[o]]);if(0!==u)return u}return yv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ev()}}function Qv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yv(e,t);var n=Av(e),r=Av(t),i=yv(n.seconds,r.seconds);return 0!==i?i:yv(n.nanos,r.nanos)}function $v(e){return Jv(e)}function Jv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Av(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Rv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ct(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Jv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ct(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Jv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ev();var t,n}function Xv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function em(e){return!!e&&"integerValue"in e}function tm(e){return!!e&&"arrayValue"in e}function nm(e){return!!e&&"nullValue"in e}function rm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function im(e){return!!e&&"mapValue"in e}function am(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return _v(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=am(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=am(e.arrayValue.values[r]);return n}return Object.assign({},e)}function om(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function sm(e,t){return void 0===e?t:void 0===t||Kv(e,t)>0?e:t}function um(e,t){return void 0===e?t:void 0===t||Kv(e,t)<0?e:t}var cm=function(){function e(t){pt(this,e),this.value=t}return ht(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!im(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=am(t)}},{key:"setAll",value:function(e){var t=this,n=Tv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=am(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());im(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Yv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];im(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){_v(t,(function(t,n){return e[t]=n}));var r,i=ct(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(am(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function lm(e){var t=[];return _v(e.fields,(function(e,n){var r=new Tv([e]);if(im(n)){var i=lm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ct(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Cv(t)}var dm=function(){function e(t,n,r,i,a,o){pt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ht(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=cm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=cm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,bv.min(),bv.min(),cm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,bv.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,bv.min(),cm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,bv.min(),cm.empty(),2)}}]),e}(),fm=ht((function e(t,n,r,i){pt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function hm(e){return e.fields.find((function(e){return 2===e.kind}))}function pm(e){return e.fields.filter((function(e){return 2!==e.kind}))}fm.UNKNOWN_ID=-1;var vm=ht((function e(t,n){pt(this,e),this.fieldPath=t,this.kind=n})),mm=function(){function e(t,n){pt(this,e),this.sequenceNumber=t,this.offset=n}return ht(e,null,[{key:"empty",value:function(){return new e(0,km.min())}}]),e}();function ym(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=bv.fromTimestamp(1e9===r?new xv(n+1,0):new xv(n,r));return new km(i,zv.empty(),t)}function gm(e){return new km(e.readTime,e.key,-1)}var km=function(){function e(t,n,r){pt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ht(e,null,[{key:"min",value:function(){return new e(bv.min(),zv.empty(),-1)}},{key:"max",value:function(){return new e(bv.max(),zv.empty(),-1)}}]),e}();function xm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=zv.comparator(e.documentKey,t.documentKey))?n:yv(e.largestBatchId,t.largestBatchId)}var bm=ht((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;pt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function wm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new bm(e,t,n,r,i,a,o)}function _m(e){var t=nv(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+$v(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Uv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return $v(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return $v(e)})).join(",")),t.P=n}return t.P}function Em(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Fm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Yv(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Um(e.startAt,t.startAt)&&Um(e.endAt,t.endAt)}function Im(e){return zv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Sm(e,t){return e.filters.filter((function(e){return e instanceof Nm&&e.field.isEqual(t)}))}var Nm=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ht(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Kv(t,this.value)):null!==t&&Wv(this.value)===Wv(t)&&this.v(Kv(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ev()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Tm(e,t,r):"array-contains"===t?new Am(e,r):"in"===t?new Om(e,r):"not-in"===t?new Rm(e,r):"array-contains-any"===t?new Pm(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Cm(e,n):new jm(e,n)}}]),n}(function(){return ht((function e(){pt(this,e)}))}()),Tm=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this,e,r,i)).key=zv.fromName(i.referenceValue),a}return ht(n,[{key:"matches",value:function(e){var t=zv.comparator(e.key,this.key);return this.v(t)}}]),n}(Nm),Cm=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e,"in",r)).keys=Dm("in",r),i}return ht(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Nm),jm=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e,"not-in",r)).keys=Dm("not-in",r),i}return ht(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Nm);function Dm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zv.fromName(e.referenceValue)}))}var Am=function(e){kt(n,e);var t=Et(n);function n(e,r){return pt(this,n),t.call(this,e,"array-contains",r)}return ht(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return tm(t)&&Zv(t.arrayValue,this.value)}}]),n}(Nm),Om=function(e){kt(n,e);var t=Et(n);function n(e,r){return pt(this,n),t.call(this,e,"in",r)}return ht(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Zv(this.value.arrayValue,t)}}]),n}(Nm),Rm=function(e){kt(n,e);var t=Et(n);function n(e,r){return pt(this,n),t.call(this,e,"not-in",r)}return ht(n,[{key:"matches",value:function(e){if(Zv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Zv(this.value.arrayValue,t)}}]),n}(Nm),Pm=function(e){kt(n,e);var t=Et(n);function n(e,r){return pt(this,n),t.call(this,e,"array-contains-any",r)}return ht(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Zv(t.value.arrayValue,e)}))}}]),n}(Nm),Mm=ht((function e(t,n){pt(this,e),this.position=t,this.inclusive=n})),Lm=ht((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";pt(this,e),this.field=t,this.dir=n}));function Fm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Vm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?zv.comparator(zv.fromName(o.referenceValue),n.key):Kv(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Um(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Yv(e.position[n],t.position[n]))return!1;return!0}var qm=ht((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;pt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function Bm(e,t,n,r,i,a,o,s){return new qm(e,t,n,r,i,a,o,s)}function zm(e){return new qm(e)}function Hm(e){return!Uv(e.limit)&&"F"===e.limitType}function Gm(e){return!Uv(e.limit)&&"L"===e.limitType}function Wm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ym(e){var t,n=ct(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Zm(e){return null!==e.collectionGroup}function Km(e){var t=nv(e);if(null===t.D){t.D=[];var n=Ym(t),r=Wm(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Lm(n)),t.D.push(new Lm(Tv.keyField(),"asc"));else{var i,a=!1,o=ct(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Lm(Tv.keyField(),u))}}}return t.D}function Qm(e){var t=nv(e);if(!t.C)if("F"===t.limitType)t.C=wm(t.path,t.collectionGroup,Km(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ct(Km(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Lm(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Mm(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new Mm(t.startAt.position,!t.startAt.inclusive):null;t.C=wm(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function $m(e,t,n){return new qm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jm(e,t){return Em(Qm(e),Qm(t))&&e.limitType===t.limitType}function Xm(e){return"".concat(_m(Qm(e)),"|lt:").concat(e.limitType)}function ey(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat($v(t.value));var t})).join(", "),"]")),Uv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return $v(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return $v(e)})).join(",")),"Target(".concat(t,")")}(Qm(e)),"; limitType=").concat(e.limitType,")")}function ty(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ct(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ct(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Vm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Km(e),t))&&!(e.endAt&&!function(e,t,n){var r=Vm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Km(e),t))}(e,t)}function ny(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ry(e){return function(t,n){var r,i=!1,a=ct(Km(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=iy(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function iy(e,t,n){var r=e.field.isKeyField()?zv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Kv(r,i):ev()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ev()}}function ay(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qv(t)?"-0":t}}function oy(e){return{integerValue:""+e}}function sy(e,t){return Bv(t)?oy(t):ay(e,t)}var uy=ht((function e(){pt(this,e),this._=void 0}));function cy(e,t,n){return e instanceof fy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof hy?py(e,t):e instanceof vy?my(e,t):function(e,t){var n=dy(e,t),r=gy(n)+gy(e.k);return em(n)&&em(e.k)?oy(r):ay(e.M,r)}(e,t)}function ly(e,t,n){return e instanceof hy?py(e,t):e instanceof vy?my(e,t):n}function dy(e,t){return e instanceof yy?em(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var fy=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.apply(this,arguments)}return ht(n)}(uy),hy=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this)).elements=e,r}return ht(n)}(uy);function py(e,t){var n,r=ky(t),i=ct(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Yv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var vy=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this)).elements=e,r}return ht(n)}(uy);function my(e,t){var n,r=ky(t),i=ct(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Yv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yy=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this)).M=e,i.k=r,i}return ht(n)}(uy);function gy(e){return Ov(e.integerValue||e.doubleValue)}function ky(e){return tm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xy=ht((function e(t,n){pt(this,e),this.field=t,this.transform=n}));var by=ht((function e(t,n){pt(this,e),this.version=t,this.transformResults=n})),wy=function(){function e(t,n){pt(this,e),this.updateTime=t,this.exists=n}return ht(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _y(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ey=ht((function e(){pt(this,e)}));function Iy(e,t,n){e instanceof jy?function(e,t,n){var r=e.value.clone(),i=Oy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dy?function(e,t,n){if(_y(e.precondition,t)){var r=Oy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ay(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sy(e,t,n){e instanceof jy?function(e,t,n){if(_y(e.precondition,t)){var r=e.value.clone(),i=Ry(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Cy(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Dy?function(e,t,n){if(_y(e.precondition,t)){var r=Ry(e.fieldTransforms,n,t),i=t.data;i.setAll(Ay(e)),i.setAll(r),t.convertToFoundDocument(Cy(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){_y(e.precondition,t)&&t.convertToNoDocument(bv.min())}(e,t)}function Ny(e,t){var n,r=null,i=ct(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=dy(a.transform,o||null);null!=s&&(null==r&&(r=cm.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Ty(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hy&&t instanceof hy||e instanceof vy&&t instanceof vy?gv(e.elements,t.elements,Yv):e instanceof yy&&t instanceof yy?Yv(e.k,t.k):e instanceof fy&&t instanceof fy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Cy(e){return e.isFoundDocument()?e.version:bv.min()}var jy=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return pt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ht(n)}(Ey),Dy=function(e){kt(n,e);var t=Et(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return pt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return ht(n)}(Ey);function Ay(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Oy(e,t,n){var r=new Map;tv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,ly(o,s,n[i]))}return r}function Ry(e,t,n){var r,i=new Map,a=ct(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,cy(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Py,My,Ly=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ht(n)}(Ey),Fy=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ht(n)}(Ey),Vy=ht((function e(t){pt(this,e),this.count=t}));function Uy(e){switch(e){default:return ev();case rv.CANCELLED:case rv.UNKNOWN:case rv.DEADLINE_EXCEEDED:case rv.RESOURCE_EXHAUSTED:case rv.INTERNAL:case rv.UNAVAILABLE:case rv.UNAUTHENTICATED:return!1;case rv.INVALID_ARGUMENT:case rv.NOT_FOUND:case rv.ALREADY_EXISTS:case rv.PERMISSION_DENIED:case rv.FAILED_PRECONDITION:case rv.ABORTED:case rv.OUT_OF_RANGE:case rv.UNIMPLEMENTED:case rv.DATA_LOSS:return!0}}function qy(e){if(void 0===e)return $p("GRPC error has no .code"),rv.UNKNOWN;switch(e){case Py.OK:return rv.OK;case Py.CANCELLED:return rv.CANCELLED;case Py.UNKNOWN:return rv.UNKNOWN;case Py.DEADLINE_EXCEEDED:return rv.DEADLINE_EXCEEDED;case Py.RESOURCE_EXHAUSTED:return rv.RESOURCE_EXHAUSTED;case Py.INTERNAL:return rv.INTERNAL;case Py.UNAVAILABLE:return rv.UNAVAILABLE;case Py.UNAUTHENTICATED:return rv.UNAUTHENTICATED;case Py.INVALID_ARGUMENT:return rv.INVALID_ARGUMENT;case Py.NOT_FOUND:return rv.NOT_FOUND;case Py.ALREADY_EXISTS:return rv.ALREADY_EXISTS;case Py.PERMISSION_DENIED:return rv.PERMISSION_DENIED;case Py.FAILED_PRECONDITION:return rv.FAILED_PRECONDITION;case Py.ABORTED:return rv.ABORTED;case Py.OUT_OF_RANGE:return rv.OUT_OF_RANGE;case Py.UNIMPLEMENTED:return rv.UNIMPLEMENTED;case Py.DATA_LOSS:return rv.DATA_LOSS;default:return ev()}}(My=Py||(Py={}))[My.OK=0]="OK",My[My.CANCELLED=1]="CANCELLED",My[My.UNKNOWN=2]="UNKNOWN",My[My.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",My[My.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",My[My.NOT_FOUND=5]="NOT_FOUND",My[My.ALREADY_EXISTS=6]="ALREADY_EXISTS",My[My.PERMISSION_DENIED=7]="PERMISSION_DENIED",My[My.UNAUTHENTICATED=16]="UNAUTHENTICATED",My[My.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",My[My.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",My[My.ABORTED=10]="ABORTED",My[My.OUT_OF_RANGE=11]="OUT_OF_RANGE",My[My.UNIMPLEMENTED=12]="UNIMPLEMENTED",My[My.INTERNAL=13]="INTERNAL",My[My.UNAVAILABLE=14]="UNAVAILABLE",My[My.DATA_LOSS=15]="DATA_LOSS";var By=function(){function e(t,n){pt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ht(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ct(n);try{for(i.s();!(r=i.n()).done;){var a=be(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){_v(this.inner,(function(t,n){var r,i=ct(n);try{for(i.s();!(r=i.n()).done;){var a=be(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ev(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),zy=function(){function e(t,n){pt(this,e),this.comparator=t,this.root=n||Gy.EMPTY}return ht(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Hy(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Hy(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Hy(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Hy(this.root,e,this.comparator,!0)}}]),e}(),Hy=function(){function e(t,n,r,i){pt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ht(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Gy=function(){function e(t,n,r,i,a){pt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ht(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ev();if(this.right.isRed())throw ev();var e=this.left.check();if(e!==this.right.check())throw ev();return e+(this.isRed()?0:1)}}]),e}();Gy.EMPTY=null,Gy.RED=!0,Gy.BLACK=!1,Gy.EMPTY=new(function(){function e(){pt(this,e),this.size=0}return ht(e,[{key:"key",get:function(){throw ev()}},{key:"value",get:function(){throw ev()}},{key:"color",get:function(){throw ev()}},{key:"left",get:function(){throw ev()}},{key:"right",get:function(){throw ev()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Gy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Wy=function(){function e(t){pt(this,e),this.comparator=t,this.data=new zy(this.comparator)}return ht(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Yy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Yy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Yy=function(){function e(t){pt(this,e),this.iter=t}return ht(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Zy(e){return e.hasNext()?e.getNext():void 0}var Ky=new zy(zv.comparator);function Qy(){return Ky}var $y=new zy(zv.comparator);function Jy(){return $y}function Xy(){return new By((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var eg=new zy(zv.comparator),tg=new Wy(zv.comparator);function ng(){for(var e=tg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var rg=new Wy(yv);function ig(){return rg}var ag=function(){function e(t,n,r,i,a){pt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ht(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,og.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(bv.min(),r,ig(),Qy(),ng())}}]),e}(),og=function(){function e(t,n,r,i,a){pt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ht(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(jv.EMPTY_BYTE_STRING,n,ng(),ng(),ng())}}]),e}(),sg=ht((function e(t,n,r,i){pt(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),ug=ht((function e(t,n){pt(this,e),this.targetId=t,this.$=n})),cg=ht((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;pt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),lg=function(){function e(){pt(this,e),this.B=0,this.L=hg(),this.U=jv.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return ht(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=ng(),t=ng(),n=ng();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ev()}})),new og(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=hg()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),dg=function(){function e(t){pt(this,e),this.nt=t,this.st=new Map,this.it=Qy(),this.rt=fg(),this.ot=new Wy(yv)}return ht(e,[{key:"ut",value:function(e){var t,n=ct(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=ct(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:ev()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Im(i))if(0===n){var a=new zv(i.path);this.ct(t,a,dm.newNoDocument(a,bv.min()))}else tv(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Im(a.target)){var o=new zv(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,dm.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=ng();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new ag(e,n,this.ot,this.it,r);return this.it=Qy(),this.rt=fg(),this.ot=new Wy(yv),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new lg,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Wy(yv),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Qp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new lg),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function fg(){return new zy(zv.comparator)}function hg(){return new zy(zv.comparator)}var pg={asc:"ASCENDING",desc:"DESCENDING"},vg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mg=ht((function e(t,n){pt(this,e),this.databaseId=t,this.N=n}));function yg(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gg(e,t){return e.N?t.toBase64():t.toUint8Array()}function kg(e,t){return yg(e,t.toTimestamp())}function xg(e){return tv(!!e),bv.fromTimestamp(function(e){var t=Av(e);return new xv(t.seconds,t.nanos)}(e))}function bg(e,t){return function(e){return new Sv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wg(e){var t=Sv.fromString(e);return tv(Gg(t)),t}function _g(e,t){return bg(e.databaseId,t.path)}function Eg(e,t){var n=wg(t);if(n.get(1)!==e.databaseId.projectId)throw new iv(rv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new iv(rv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zv(Tg(n))}function Ig(e,t){return bg(e.databaseId,t)}function Sg(e){var t=wg(e);return 4===t.length?Sv.emptyPath():Tg(t)}function Ng(e){return new Sv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Tg(e){return tv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Cg(e,t,n){return{name:_g(e,t),fields:n.value.mapValue.fields}}function jg(e,t,n){var r=Eg(e,t.name),i=xg(t.updateTime),a=new cm({mapValue:{fields:t.fields}}),o=dm.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Dg(e,t){return"found"in t?function(e,t){tv(!!t.found),t.found.name,t.found.updateTime;var n=Eg(e,t.found.name),r=xg(t.found.updateTime),i=new cm({mapValue:{fields:t.found.fields}});return dm.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){tv(!!t.missing),tv(!!t.readTime);var n=Eg(e,t.missing),r=xg(t.readTime);return dm.newNoDocument(n,r)}(e,t):ev()}function Ag(e,t){var n;if(t instanceof jy)n={update:Cg(e,t.key,t.value)};else if(t instanceof Ly)n={delete:_g(e,t.key)};else if(t instanceof Dy)n={update:Cg(e,t.key,t.data),updateMask:Hg(t.fieldMask)};else{if(!(t instanceof Fy))return ev();n={verify:_g(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof fy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yy)return{fieldPath:t.field.canonicalString(),increment:n.k};throw ev()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ev()}(e,t.precondition)),n}function Og(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?wy.updateTime(xg(e.updateTime)):void 0!==e.exists?wy.exists(e.exists):wy.none()}(t.currentDocument):wy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)tv("REQUEST_TIME"===t.setToServerValue),n=new fy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new hy(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new vy(i)}else"increment"in t?n=new yy(e,t.increment):ev();var a=Tv.fromServerFormat(t.fieldPath);return new xy(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Eg(e,t.update.name),a=new cm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Cv(t.map((function(e){return Tv.fromServerFormat(e)})))}(t.updateMask);return new Dy(i,a,o,n,r)}return new jy(i,a,n,r)}if(t.delete){var s=Eg(e,t.delete);return new Ly(s,n)}if(t.verify){var u=Eg(e,t.verify);return new Fy(u,n)}return ev()}function Rg(e,t){return{documents:[Ig(e,t.path)]}}function Pg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ig(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ig(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(rm(e.value))return{unaryFilter:{field:Ug(e.field),op:"IS_NAN"}};if(nm(e.value))return{unaryFilter:{field:Ug(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rm(e.value))return{unaryFilter:{field:Ug(e.field),op:"IS_NOT_NAN"}};if(nm(e.value))return{unaryFilter:{field:Ug(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ug(e.field),op:Vg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ug(e.field),direction:Fg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||Uv(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Mg(e){var t=Sg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){tv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Lg(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Lm(qg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Uv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Mm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Mm(n,t)}(n.endAt)),Bm(t,i,s,o,u,"F",c,l)}function Lg(e){return e?void 0!==e.unaryFilter?[zg(e)]:void 0!==e.fieldFilter?[Bg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Lg(e)})).reduce((function(e,t){return e.concat(t)})):ev():[]}function Fg(e){return pg[e]}function Vg(e){return vg[e]}function Ug(e){return{fieldPath:e.canonicalString()}}function qg(e){return Tv.fromServerFormat(e.fieldPath)}function Bg(e){return Nm.create(qg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ev()}}(e.fieldFilter.op),e.fieldFilter.value)}function zg(e){switch(e.unaryFilter.op){case"IS_NAN":var t=qg(e.unaryFilter.field);return Nm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=qg(e.unaryFilter.field);return Nm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qg(e.unaryFilter.field);return Nm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qg(e.unaryFilter.field);return Nm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ev()}}function Hg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Gg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Wg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Zg(t)),t=Yg(e.get(n),t);return Zg(t)}function Yg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Zg(e){return e+"\x01\x01"}function Kg(e){var t=e.length;if(tv(t>=2),2===t)return tv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Sv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ev(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ev()}a=o+2}return new Sv(r)}var Qg=["userId","batchId"];function $g(e,t){return[e,Wg(t)]}function Jg(e,t,n){return[e,Wg(t),n]}var Xg={},ek=["prefixPath","collectionGroup","readTime","documentId"],tk=["prefixPath","collectionGroup","documentId"],nk=["collectionGroup","readTime","prefixPath","documentId"],rk=["canonicalId","targetId"],ik=["targetId","path"],ak=["path","targetId"],ok=["collectionId","parent"],sk=["indexId","uid"],uk=["uid","sequenceNumber"],ck=["indexId","uid","arrayValue","directionalValue","documentKey"],lk=["indexId","uid","documentKey"],dk=["userId","collectionPath","documentId"],fk=["userId","collectionPath","largestBatchId"],hk=["userId","collectionGroup","largestBatchId"],pk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),vk=[].concat(cn(pk),["documentOverlays"]),mk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yk=[].concat(mk,["indexConfiguration","indexState","indexEntries"]),gk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kk=function(){function e(){pt(this,e),this.onCommittedListeners=[]}return ht(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),xk=function(){function e(t){var n=this;pt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ht(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ev(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ct(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),bk=function(){function e(t,n){var r=this;pt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new av,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Ek(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Ck(e.target.error);r.At.reject(new Ek(t,n))}}return ht(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Qp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Sk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ek(n,t)}}}]),e}(),wk=function(){function e(t,n,r){pt(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Pt())&&$p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ht(e,[{key:"Nt",value:function(){var e=dt(mt().mark((function e(t){var n=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Qp("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ek(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new iv(rv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new iv(rv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ek(t,n))},i.onupgradeneeded=function(e){Qp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Qp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=dt(mt().mark((function e(t,n,r,i){var a,o,s,u,c=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(mt().mark((function e(){var n,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=bk.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),xk.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Qp("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Qp("SimpleDb","Removing database:",e),Nk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!qt())return!1;if(e.St())return!0;var t=Pt(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),_k=function(){function e(t){pt(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return ht(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Nk(this.Ft.delete())}}]),e}(),Ek=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,rv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ht(n)}(iv);function Ik(e){return"IndexedDbTransactionError"===e.name}var Sk=function(){function e(t){pt(this,e),this.store=t}return ht(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Qp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Qp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Nk(n)}},{key:"add",value:function(e){return Qp("SimpleDb","ADD",this.store.name,e,e),Nk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Nk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Qp("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Qp("SimpleDb","DELETE",this.store.name,e),Nk(this.store.delete(e))}},{key:"count",value:function(){return Qp("SimpleDb","COUNT",this.store.name),Nk(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new xk((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new xk((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Qp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new xk((function(n,r){t.onerror=function(e){var t=Ck(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new xk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new _k(i),o=t(i.primaryKey,i.value,a);if(o instanceof xk){var s=o.catch((function(e){return a.done(),xk.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return xk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Nk(e){return new xk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ck(e.target.error);n(t)}}))}var Tk=!1;function Ck(e){var t=wk.Vt(Pt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new iv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Tk||(Tk=!0,setTimeout((function(){throw r}),0)),r}}return e}var jk=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return ht(n)}(kk);function Dk(e,t){var n=nv(e);return wk.xt(n.Ht,t)}var Ak=function(){function e(t,n,r,i){pt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ht(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Iy(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ct(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Sy(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=ct(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Sy(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(bv.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ng())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&gv(this.mutations,e.mutations,(function(e,t){return Ty(e,t)}))&&gv(this.baseMutations,e.baseMutations,(function(e,t){return Ty(e,t)}))}}]),e}(),Ok=function(){function e(t,n,r,i){pt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ht(e,null,[{key:"from",value:function(t,n,r){tv(t.mutations.length===r.length);for(var i=eg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Rk=function(){function e(t,n){pt(this,e),this.largestBatchId=t,this.mutation=n}return ht(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Pk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jv.EMPTY_BYTE_STRING;pt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return ht(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Mk=ht((function e(t){pt(this,e),this.Jt=t}));function Lk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Fk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:_g(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yg(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Vk(t.version)};else{if(!t.isUnknownDocument())return ev();r.unknownDocument={path:n.path.toArray(),version:Vk(t.version)}}return r}function Fk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Vk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Uk(e){var t=new xv(e.seconds,e.nanoseconds);return bv.fromTimestamp(t)}function qk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Og(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Og(e.Jt,t)})),s=xv.fromMillis(t.localWriteTimeMs);return new Ak(t.batchId,s,n,o)}function Bk(e){var t,n,r=Uk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Uk(e.lastLimboFreeSnapshotVersion):bv.min();return void 0!==e.query.documents?(tv(1===(n=e.query).documents.length),t=Qm(zm(Sg(n.documents[0])))):t=function(e){return Qm(Mg(e))}(e.query),new Pk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,jv.fromBase64String(e.resumeToken))}function zk(e,t){var n,r=Vk(t.snapshotVersion),i=Vk(t.lastLimboFreeSnapshotVersion);n=Im(t.target)?Rg(e.Jt,t.target):Pg(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:_m(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Hk(e){var t=Mg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?$m(t,t.limit,"L"):t}function Gk(e,t){return new Rk(t.largestBatchId,Og(e.Jt,t.overlayMutation))}function Wk(e,t){var n=t.path.lastSegment();return[e,Wg(t.path.popLast()),n]}var Yk=function(){function e(){pt(this,e)}return ht(e,[{key:"getBundleMetadata",value:function(e,t){return Zk(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Uk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Zk(e).put({bundleId:(n=t).id,createTime:Vk(xg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Kk(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Hk(t.bundledQuery),readTime:Uk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Kk(e).put(function(e){return{name:e.name,readTime:Vk(xg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Zk(e){return Dk(e,"bundles")}function Kk(e){return Dk(e,"namedQueries")}var Qk=function(){function e(t,n){pt(this,e),this.M=t,this.userId=n}return ht(e,[{key:"getOverlay",value:function(e,t){var n=this;return $k(e).get(Wk(this.userId,t)).next((function(e){return e?Gk(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Rk(t,a);i.push(r.Xt(e,o))})),xk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Wg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push($k(e).Qt("collectionPathOverlayIndex",i))})),xk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Xy(),a=Wg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $k(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=ct(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Gk(r.M,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Xy(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $k(e).Wt({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Gk(a.M,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return $k(e).put(function(e,t,n){var r=be(Wk(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ag(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function $k(e){return Dk(e,"documentOverlays")}var Jk=function(){function e(){pt(this,e)}return ht(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ov(e.integerValue));else if("doubleValue"in e){var n=Ov(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),qv(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Rv(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?om(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ev()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=ct(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),zv.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Xk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ex(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Xk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Jk.fe=new Jk;var tx=function(){function e(){pt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ht(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=ct(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=ct(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=ex(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=ex(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),nx=function(){function e(t){pt(this,e),this.De=t}return ht(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),rx=function(){function e(t){pt(this,e),this.De=t}return ht(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),ix=function(){function e(){pt(this,e),this.De=new tx,this.Ce=new nx(this.De),this.xe=new rx(this.De)}return ht(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),ax=function(){function e(t,n,r,i){pt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ht(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ox(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=sx(e.arrayValue,t.arrayValue))?n:0!==(n=sx(e.directionalValue,t.directionalValue))?n:zv.comparator(e.documentKey,t.documentKey)}function sx(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var ux=function(){function e(t){pt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=ct(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ht(e,[{key:"$e",value:function(e){var t=hm(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=pm(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=ct(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),cx=function(){function e(){pt(this,e),this.qe=new lx}return ht(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),xk.resolve()}},{key:"getCollectionParents",value:function(e,t){return xk.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return xk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return xk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return xk.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return xk.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return xk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return xk.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return xk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return xk.resolve()}}]),e}(),lx=function(){function e(){pt(this,e),this.index={}}return ht(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wy(Sv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Wy(Sv.comparator)).toArray()}}]),e}(),dx=new Uint8Array(0),fx=function(){function e(t){pt(this,e),this.user=t,this.Ge=new lx,this.Ke=new By((function(e){return _m(e)}),(function(e,t){return Em(e,t)})),this.uid=t.uid||""}return ht(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:Wg(i)};return hx(e).put(a)}return xk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[kv(t),""],!1,!0);return hx(e).qt(r).next((function(e){var r,i=ct(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Kg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=vx(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=vx(e),r=mx(e),i=px(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=px(e),i=!0,a=new Map;return xk.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ng();return xk.forEach(a,(function(i,a){var o;Qp("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(_m(t)));var s=function(e,t){var n=hm(t);if(void 0===n)return null;var r,i=ct(Sm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=ct(pm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=ct(Sm(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=ct(pm(t));try{for(o.s();!(n=o.n()).done;){var s,u=n.value,c=void 0,l=!0,d=ct(Sm(e,u.fieldPath));try{for(d.s();!(s=d.n()).done;){var f=s.value,h=void 0,p=!0;switch(f.op){case"<":case"<=":h="nullValue"in(r=f.value)?Gv:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Xv(Vv.empty(),zv.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:ev();break;case"==":case"in":case">=":h=f.value;break;case">":h=f.value,p=!1;break;case"!=":case"not-in":h=Gv}sm(c,h)===h&&(c=h,l=p)}}catch(y){d.e(y)}finally{d.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(u.fieldPath)){var m=e.startAt.position[v];sm(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Mm(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=ct(pm(t));try{for(o.s();!(n=o.n()).done;){var s,u=n.value,c=void 0,l=!0,d=ct(Sm(e,u.fieldPath));try{for(d.s();!(s=d.n()).done;){var f=s.value,h=void 0,p=!0;switch(f.op){case">=":case">":h="nullValue"in(r=f.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Xv(Vv.empty(),zv.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?Hv:ev(),p=!1;break;case"==":case"in":case"<=":h=f.value;break;case"<":h=f.value,p=!1;break;case"!=":case"not-in":h=Hv}um(c,h)===h&&(c=h,l=p)}}catch(y){d.e(y)}finally{d.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(u.fieldPath)){var m=e.endAt.position[v];um(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new Mm(i,a)}(a,i),d=n.je(i,a,c),f=n.je(i,a,l),h=n.We(i,a,u),p=n.ze(i.indexId,s,d,!!c&&c.inclusive,f,!!l&&l.inclusive,h);return xk.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new zv(Kg(t.documentKey)))}))}))}))})).next((function(){return e}))}return xk.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=u/(null!=t?t.length:1),l=[],d=function(u){var d=t?s.He(t[u/c]):dx,f=n?s.Je(e,d,n[u%c],r):s.Ye(e),h=i?s.Xe(e,d,i[u%c],a):s.Ye(e+1);l.push.apply(l,cn(s.createRange(f,h,o.map((function(t){return s.Je(e,d,t,!0)})))))},f=0;f<u;++f)d(f);return l}},{key:"Je",value:function(e,t,n,r){var i=new ax(e,zv.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new ax(e,zv.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new ax(e,zv.empty(),dx,dx)}},{key:"getFieldIndex",value:function(e,t){var n=new ux(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new ix,i=ct(pm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);Jk.fe.Zt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new ix;return Jk.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new ix);var i,a=0,o=ct(pm(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=ct(r);try{for(l.s();!(s=l.n()).done;){var d=s.value;if(this.tn(t,u.fieldPath)&&tm(c))r=this.en(r,u,c);else{var f=d.Ne(u.kind);Jk.fe.Zt(c,f)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=cn(e),a=[],o=ct(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=ct(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,d=new ix;d.seed(l.Se()),Jk.fe.Zt(u,d.Ne(t.kind)),a.push(d)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Nm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=vx(e),i=mx(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return xk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new mm(t.sequenceNumber,new km(Uk(t.readTime),new zv(Kg(t.documentKey)),t.largestBatchId)):mm.empty(),r=e.fields.map((function(e){var t=be(e,2),n=t[0],r=t[1];return new vm(Tv.fromServerFormat(n),r)}));return new fm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:yv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=vx(e),a=mx(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return xk.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Vk(r.readTime),documentKey:Wg(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return xk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?xk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),xk.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?xk.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return px(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:Wg(t.key.path)})}},{key:"cn",value:function(e,t,n){return px(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,Wg(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=px(e),i=new Wy(ox);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,Wg(t.path)])},(function(e,r){i=i.add(new ax(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new Wy(ox),r=this.Ze(t,e);if(null==r)return n;var i=hm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(tm(a)){var o,s=ct(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new ax(t.indexId,e.key,this.He(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new ax(t.indexId,e.key,dx,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;Qp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Zy(a),u=Zy(o);s||u;){var c=!1,l=!1;if(s&&u){var d=n(s,u);d<0?l=!0:d>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Zy(o)):l?(i(s),s=Zy(a)):(s=Zy(a),u=Zy(o))}}(n,r,ox,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),xk.waitFor(a)}},{key:"sn",value:function(e){var t=1;return mx(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return ox(e,t)})).filter((function(e,t,n){return!t||0!==ox(e,n[t-1])}));var r=[];r.push(e);var i,a=ct(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=ox(o,e),u=ox(o,t);if(0===s)r[0]=e.ke();else if(s>0&&u<0)r.push(o),r.push(o.ke());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function hx(e){return Dk(e,"collectionParents")}function px(e){return Dk(e,"indexEntries")}function vx(e){return Dk(e,"indexConfiguration")}function mx(e){return Dk(e,"indexState")}var yx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gx=function(){function e(t,n,r){pt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ht(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function kx(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Wt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){tv(1===s)})));var c,l=[],d=ct(n.mutations);try{for(d.s();!(c=d.n()).done;){var f=c.value,h=Jg(t,f.key.path,n.batchId);a.push(i.delete(h)),l.push(f.key)}}catch(p){d.e(p)}finally{d.f()}return xk.waitFor(a).next((function(){return l}))}function xx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ev();t=e.noDocument}return JSON.stringify(t).length}gx.DEFAULT_COLLECTION_PERCENTILE=10,gx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gx.DEFAULT=new gx(41943040,gx.DEFAULT_COLLECTION_PERCENTILE,gx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gx.DISABLED=new gx(-1,0,0);var bx=function(){function e(t,n,r,i){pt(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return ht(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _x(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ex(e),o=_x(e);return o.add({}).next((function(s){tv("number"==typeof s);var u,c=new Ak(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ag(e.Jt,t)})),i=n.mutations.map((function(t){return Ag(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),d=[],f=new Wy((function(e,t){return yv(e.canonicalString(),t.canonicalString())})),h=ct(r);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=Jg(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),d.push(o.put(l)),d.push(a.put(v,Xg))}}catch(m){h.e(m)}finally{h.f()}return f.forEach((function(t){d.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[s]=c.keys()})),xk.waitFor(d).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return _x(e).get(t).next((function(e){return e?(tv(e.userId===n.userId),qk(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?xk.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return _x(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(tv(t.batchId>=r),a=qk(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return _x(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _x(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return qk(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=$g(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Ex(e).Wt({range:i},(function(r,i,o){var s=be(r,3),u=s[0],c=s[1],l=s[2],d=Kg(c);if(u===n.userId&&t.path.isEqual(d))return _x(e).get(l).next((function(e){if(!e)throw ev();tv(e.userId===n.userId),a.push(qk(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wy(yv),i=[];return t.forEach((function(t){var a=$g(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Ex(e).Wt({range:o},(function(e,i,a){var o=be(e,3),s=o[0],u=o[1],c=o[2],l=Kg(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),xk.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=$g(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Wy(yv);return Ex(e).Wt({range:o},(function(e,t,a){var o=be(e,3),u=o[0],c=o[1],l=o[2],d=Kg(c);u===n.userId&&r.isPrefixOf(d)?d.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.fn(e,s)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(_x(e).get(t).next((function(e){if(null===e)throw ev();tv(e.userId===n.userId),r.push(qk(n.M,e))})))})),xk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return kx(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),xk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return xk.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ex(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Kg(e[1]);i.push(a)}else r.done()})).next((function(){tv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return wx(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return Ix(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return tv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function wx(e,t,n){var r=$g(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Ex(e).Wt({range:a,jt:!0},(function(e,n,r){var a=be(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function _x(e){return Dk(e,"mutations")}function Ex(e){return Dk(e,"documentMutations")}function Ix(e){return Dk(e,"mutationQueues")}var Sx=function(){function e(t){pt(this,e),this.wn=t}return ht(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),Nx=function(){function e(t,n){pt(this,e),this.referenceDelegate=t,this.M=n}return ht(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new Sx(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return bv.fromTimestamp(new xv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Tx(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return tv(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Tx(e).Wt((function(o,s){var u=Bk(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return xk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Tx(e).Wt((function(e,n){var r=Bk(n);t(r)}))}},{key:"yn",value:function(e){return Cx(e).get("targetGlobalKey").next((function(e){return tv(null!==e),e}))}},{key:"pn",value:function(e,t){return Cx(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return Tx(e).put(zk(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=_m(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Tx(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Bk(n);Em(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=jx(e);return t.forEach((function(t){var o=Wg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),xk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=jx(e);return xk.forEach(t,(function(t){var a=Wg(t.path);return xk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=jx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=jx(e),i=ng();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Kg(e[1]),a=new zv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Wg(t.path),r=IDBKeyRange.bound([n],[kv(n)],!1,!0),i=0;return jx(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=be(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Tx(e).get(t).next((function(e){return e?Bk(e):null}))}}]),e}();function Tx(e){return Dk(e,"targets")}function Cx(e){return Dk(e,"targetGlobal")}function jx(e){return Dk(e,"targetDocuments")}function Dx(e){return Ax.apply(this,arguments)}function Ax(){return Ax=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===rv.FAILED_PRECONDITION&&t.message===gk){e.next=2;break}throw t;case 2:Qp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Ox(e,t){var n=be(e,2),r=n[0],i=n[1],a=be(t,2),o=a[0],s=a[1],u=yv(r,o);return 0===u?yv(i,s):u}var Rx=function(){function e(t){pt(this,e),this.En=t,this.buffer=new Wy(Ox),this.An=0}return ht(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ox(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Px=function(){function e(t,n){pt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return ht(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;Qp("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,dt(mt().mark((function n(){return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Ik(n.t0)){n.next=12;break}Qp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Dx(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Mx=function(){function e(t,n){pt(this,e),this.Sn=t,this.params=n}return ht(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return xk.resolve(pv.A);var r=new Rx(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Qp("LruGarbageCollector","Garbage collection skipped; disabled"),xk.resolve(yx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Qp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),yx):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Qp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Kp()<=pn.DEBUG&&Qp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),xk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Lx=function(){function e(t,n){pt(this,e),this.db=t,this.garbageCollector=function(e,t){return new Mx(e,t)}(this,n)}return ht(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Fx(e,n)}},{key:"removeReference",value:function(e,t,n){return Fx(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Fx(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return Ix(e).zt((function(r){return wx(e,r,t).next((function(e){return e&&(n=!0),xk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,s){if(s<=t){var u=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,bv.min()),jx(e).delete([0,Wg(o.path)])}))}));i.push(u)}})).next((function(){return xk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Fx(e,t)}},{key:"kn",value:function(e,t){var n,r=jx(e),i=pv.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=be(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==pv.A&&t(new zv(Kg(n)),i),i=u,n=s):i=pv.A})).next((function(){i!==pv.A&&t(new zv(Kg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Fx(e,t){return jx(e).put(function(e,t){return{targetId:0,path:Wg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Vx=function(){function e(){pt(this,e),this.changes=new By((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ht(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,dm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?xk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ux=function(){function e(t){pt(this,e),this.M=t}return ht(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return zx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return zx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Fk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=dm.newInvalidDocument(t);return zx(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hx(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:dm.newInvalidDocument(t)};return zx(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Hx(t))},(function(e,i){r={document:n.Fn(t,i),size:xx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Qy();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=Qy(),i=new zy(zv.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,xx(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return xk.resolve();var r=new Wy(Wx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Hx(r.first()),Hx(r.last())),a=r.getIterator(),o=a.getNext();return zx(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=zv.fromSegments([].concat(cn(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Wx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Hx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Fk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zx(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Qy(),i=ct(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(zv.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Qy(),o=Gx(t,n),s=Gx(t,km.max());return zx(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Fn(zv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new qx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Bx(e).get("remoteDocumentGlobalKey").next((function(e){return tv(!!e),e}))}},{key:"On",value:function(e,t){return Bx(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=jg(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=zv.fromSegments(t.noDocument.path),i=Uk(t.noDocument.readTime);n=dm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ev();var a=zv.fromSegments(t.unknownDocument.path),o=Uk(t.unknownDocument.version);n=dm.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new xv(e[0],e[1]);return bv.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(bv.min()))return n}return dm.newInvalidDocument(e)}}]),e}(),qx=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new By((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ht(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Wy((function(e,t){return yv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Lk(t.qn.M,o);i=i.add(a.path.popLast());var c=xx(u);r+=c-s.size,n.push(t.qn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Lk(t.qn.M,o.convertToNoDocument(bv.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),xk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Vx);function Bx(e){return Dk(e,"remoteDocumentGlobal")}function zx(e){return Dk(e,"remoteDocumentsV14")}function Hx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Gx(e,t){var n=t.documentKey.path.toArray();return[e,Fk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Wx(e,t){var n=e.path.length-t.path.length;return 0!==n?n:zv.comparator(e,t)}var Yx=function(){function e(t){pt(this,e),this.M=t}return ht(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new bk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qg,{unique:!0}),e.createObjectStore("documentMutations")}(e),Zx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=xk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Zx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qg,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return xk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:dk});t.createIndex("collectionPathOverlayIndex",fk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",hk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ek});t.createIndex("documentKeyIndex",tk),t.createIndex("collectionGroupIndex",nk)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:sk}).createIndex("sequenceNumberIndex",uk,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:ck}).createIndex("documentKeyIndex",lk,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=xx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return xk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return xk.forEach(r,(function(r){tv(r.userId===n.userId);var i=qk(t.M,r);return kx(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Sv(n),o=function(e){return[0,Wg(e)]}(a);r.push(t.get(o).next((function(n){return n?xk.resolve():function(n){return t.put({targetId:0,path:Wg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return xk.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ok});var n=t.store("collectionParents"),r=new lx,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Wg(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Sv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=be(e,3),r=(n[0],n[1]),a=(n[2],Kg(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Bk(r),a=zk(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new zv(Sv.fromString(i.document.name).popFirst(5)):i.noDocument?zv.fromSegments(i.noDocument.path):i.unknownDocument?zv.fromSegments(i.unknownDocument.path):ev()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return xk.waitFor(r)}))}}]),e}();function Zx(e){e.createObjectStore("targetDocuments",{keyPath:ik}).createIndex("documentTargetsIndex",ak,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rk,{unique:!0}),e.createObjectStore("targetGlobal")}var Kx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qx=function(){function e(t,n,r,i,a,o,s,u,c,l){var d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(pt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=s,this.Yn=c,this.Xn=l,this.Zn=d,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new iv(rv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lx(this,i),this.cs=n+"main",this.M=new Mk(u),this.hs=new wk(this.cs,this.Zn,new Yx(this.M)),this.ls=new Nx(this.referenceDelegate,this.M),this.fs=function(e){return new Ux(e)}(this.M),this.ds=new Yk,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&$p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ht(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new iv(rv.FAILED_PRECONDITION,Kx);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new pv(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=dt(mt().mark((function n(r){return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=dt(mt().mark((function t(n){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Jx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(Ik(t))return Qp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Qp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return $x(e).get("owner").next((function(e){return xk.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return Jx(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=dt(mt().mark((function e(){var t,n,r,i,a=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Dk(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return xk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=ct(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?xk.resolve(!0):$x(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new iv(rv.FAILED_PRECONDITION,Kx);return!1}}return!(!t.networkEnabled||!t.inForeground)||Jx(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Qp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=dt(mt().mark((function e(){var t=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new jk(e,pv.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Jx(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return bx.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new fx(e)}},{key:"getDocumentOverlayCache",value:function(e){return Qk.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Qp("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=14===(i=this.Zn)?yk:13===i?mk:12===i?vk:11===i?pk:void ev();return this.hs.runTransaction(e,o,s,(function(i){return a=new jk(i,r.ts?r.ts.next():pv.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw $p("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new iv(rv.FAILED_PRECONDITION,gk);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return $x(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new iv(rv.FAILED_PRECONDITION,Kx)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $x(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=$x(e);return n.get("owner").next((function(e){return t.bs(e)?(Qp("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):xk.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||($p("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),!Lt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Qp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return $p("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(Gl){$p("Failed to set zombie client id.",Gl)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(Gl){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return wk.vt()}}]),e}();function $x(e){return Dk(e,"owner")}function Jx(e){return Dk(e,"clientMetadata")}function Xx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var eb=function(){function e(t,n,r){pt(this,e),this.fs=t,this.$s=n,this.indexManager=r}return ht(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=ct(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=ct(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return zv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):Zm(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new zv(t)).next((function(e){var t=Jy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Jy();return this.indexManager.getCollectionParents(e,i).next((function(o){return xk.forEach(o,(function(o){var s=function(e,t){return new qm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ct(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ct(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=dm.newInvalidDocument(u),r=r.insert(u,c)),Sy(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){ty(t,n)||(r=r.remove(e))})),r}))}}]),e}(),tb=function(){function e(t,n,r,i){pt(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return ht(e,null,[{key:"Js",value:function(t,n){var r,i=ng(),a=ng(),o=ct(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),nb=function(){function e(){pt(this,e)}return ht(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(bv.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(Hm(t)||Gm(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(Kp()<=pn.DEBUG&&Qp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ey(t)),i.Xs.Ks(e,t,ym(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new Wy(ry(e));return t.forEach((function(t,r){ty(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return Kp()<=pn.DEBUG&&Qp("QueryEngine","Using full collection scan to execute query:",ey(t)),this.Xs.Ks(e,t,km.min())}}]),e}(),rb=function(){function e(t,n,r,i){pt(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new zy(yv),this.ii=new By((function(e){return _m(e)}),Em),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return ht(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new eb(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function ib(e,t,n,r){return new rb(e,t,n,r)}function ab(e,t){return ob.apply(this,arguments)}function ob(){return ob=dt(mt().mark((function e(t,n){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=ng(),u=ct(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,d=ct(c.mutations);try{for(d.s();!(l=d.n()).done;){var f=l.value;s=s.add(f.key)}}catch(k){d.e(k)}finally{d.f()}}}catch(k){u.e(k)}finally{u.f()}var h,p=ct(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=ct(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ai.qs(e,s).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ob.apply(this,arguments)}function sb(e,t){var n=nv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=xk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);tv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function ub(e){var t=nv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function cb(e,t){var n=nv(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(jv.EMPTY_BYTE_STRING,bv.min()).withLastLimboFreeSnapshotVersion(bv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var s=Qy();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(lb(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(bv.min())){var u=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return xk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.si=i,e}))}function lb(e,t,n){var r=ng();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Qy();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(bv.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Qp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function db(e,t){var n=nv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function fb(e,t){var n=nv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,xk.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new Pk(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function hb(e,t,n){return pb.apply(this,arguments)}function pb(){return pb=dt(mt().mark((function e(t,n,r){var i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=nv(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ik(e.t1)){e.next=12;break}throw e.t1;case 12:Qp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),pb.apply(this,arguments)}function vb(e,t,n){var r=nv(e),i=bv.min(),a=ng();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=nv(e),i=r.ii.get(n);return void 0!==i?xk.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,Qm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:bv.min(),n?a:ng())})).next((function(e){return gb(r,ny(t),e),{documents:e,hi:a}}))}))}function mb(e,t){var n=nv(e),r=nv(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function yb(e,t){var n=nv(e),r=n.ri.get(t)||bv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,ym(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return gb(n,t,e),e}))}function gb(e,t,n){var r=bv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function kb(e,t,n,r){return xb.apply(this,arguments)}function xb(){return xb=dt(mt().mark((function e(t,n,r,i){var a,o,s,u,c,l,d,f,h,p;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=nv(t),o=ng(),s=Qy(),u=ct(r);try{for(u.s();!(c=u.n()).done;)l=c.value,d=n.li(l.metadata.name),l.document&&(o=o.add(d)),(f=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),s=s.insert(d,f)}catch(v){u.e(v)}finally{u.f()}return h=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,fb(a,function(e){return Qm(zm(Sv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return lb(e,h,s).next((function(t){return h.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.ls.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),xb.apply(this,arguments)}function bb(e,t){return wb.apply(this,arguments)}function wb(){return wb=dt(mt().mark((function e(t,n){var r,i,a,o=arguments;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ng(),e.next=3,fb(t,Qm(Hk(n.bundledQuery)));case 3:return i=e.sent,a=nv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=xg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(jv.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}var _b=function(){function e(t){pt(this,e),this.M=t,this._i=new Map,this.wi=new Map}return ht(e,[{key:"getBundleMetadata",value:function(e,t){return xk.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:xg(n.createTime)}),xk.resolve()}},{key:"getNamedQuery",value:function(e,t){return xk.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:Hk(e.bundledQuery),readTime:xg(e.readTime)}}(t)),xk.resolve()}}]),e}(),Eb=function(){function e(){pt(this,e),this.overlays=new zy(zv.comparator),this.mi=new Map}return ht(e,[{key:"getOverlay",value:function(e,t){return xk.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),xk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),xk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Xy(),i=t.length+1,a=new zv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return xk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new zy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Xy(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Xy(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return xk.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Rk(t,n));var a=this.mi.get(t);void 0===a&&(a=ng(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),Ib=function(){function e(){pt(this,e),this.gi=new Wy(Sb.yi),this.pi=new Wy(Sb.Ii)}return ht(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Sb(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new Sb(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new zv(new Sv([])),r=new Sb(n,e),i=new Sb(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new zv(new Sv([])),n=new Sb(t,e),r=new Sb(t,e+1),i=ng();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Sb(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Sb=function(){function e(t,n){pt(this,e),this.key=t,this.Vi=n}return ht(e,null,[{key:"yi",value:function(e,t){return zv.comparator(e.key,t.key)||yv(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return yv(e.Vi,t.Vi)||zv.comparator(e.key,t.key)}}]),e}(),Nb=function(){function e(t,n){pt(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new Wy(Sb.yi)}return ht(e,[{key:"checkEmpty",value:function(e){return xk.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new Ak(i,t,n,r);this.$s.push(a);var o,s=ct(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Si=this.Si.add(new Sb(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return xk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return xk.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return xk.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return xk.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return xk.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Sb(t,0),i=new Sb(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),xk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wy(yv);return t.forEach((function(e){var t=new Sb(e,0),i=new Sb(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),xk.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;zv.isDocumentKey(i)||(i=i.child(""));var a=new Sb(new zv(i),0),o=new Wy(yv);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),xk.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;tv(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return xk.forEach(t.mutations,(function(i){var a=new Sb(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Sb(t,0),r=this.Si.firstAfterOrEqual(n);return xk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,xk.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),Tb=function(){function e(t){pt(this,e),this.ki=t,this.docs=new zy(zv.comparator),this.size=0}return ht(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return xk.resolve(n?n.document.mutableCopy():dm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Qy();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():dm.newInvalidDocument(e))})),xk.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Qy(),i=new zv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||xm(gm(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return xk.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ev()}},{key:"Mi",value:function(e,t){return xk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Cb(this)}},{key:"getSize",value:function(e){return xk.resolve(this.size)}}]),e}(),Cb=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this)).qn=e,r}return ht(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),xk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(Vx),jb=function(){function e(t){pt(this,e),this.persistence=t,this.Oi=new By((function(e){return _m(e)}),Em),this.lastRemoteSnapshotVersion=bv.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Ib,this.targetCount=0,this.Bi=Sx.mn()}return ht(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),xk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return xk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return xk.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),xk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),xk.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new Sx(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,xk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),xk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,xk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),xk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return xk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return xk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),xk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),xk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),xk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return xk.resolve(n)}},{key:"containsKey",value:function(e,t){return xk.resolve(this.$i.containsKey(t))}}]),e}(),Db=function(){function e(t,n){var r=this;pt(this,e),this.Li={},this.overlays={},this.ts=new pv(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new jb(this),this.indexManager=new cx,this.fs=new Tb((function(e){return r.referenceDelegate.Ui(e)})),this.M=new Mk(n),this.ds=new _b(this.M)}return ht(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Eb,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new Nb(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Qp("MemoryPersistence","Starting transaction:",e);var i=new Ab(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return xk.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ab=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ht(n)}(kk),Ob=function(){function e(t){pt(this,e),this.persistence=t,this.Qi=new Ib,this.ji=null}return ht(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw ev()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),xk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),xk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),xk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xk.forEach(this.zi,(function(r){var i=zv.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,bv.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return xk.or([function(){return xk.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function Rb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Pb(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Mb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Lb=function(){function e(t,n,r,i){pt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ht(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new iv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):($p("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Fb=function(){function e(t,n,r){pt(this,e),this.targetId=t,this.state=n,this.error=r}return ht(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new iv(i.error.code,i.error.message))),a?new e(t,i.state,r):($p("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Vb=function(){function e(t,n){pt(this,e),this.clientId=t,this.activeTargetIds=n}return ht(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ig(),o=0;i&&o<r.activeTargetIds.length;++o)i=Bv(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):($p("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ub=function(){function e(t,n){pt(this,e),this.clientId=t,this.onlineState=n}return ht(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):($p("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),qb=function(){function e(){pt(this,e),this.activeTargetIds=ig()}return ht(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Bb=function(){function e(t,n,r,i,a){pt(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new zy(yv),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Rb(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new qb),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ht(e,[{key:"start",value:function(){var e=dt(mt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,d,f=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=ct(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Rb(this.persistenceKey,i)))&&(o=Vb.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(s=this.storage.getItem(this.lr))&&(u=this.wr(s))&&this.mr(u),c=ct(this.ir);try{for(c.s();!(l=c.n()).done;)d=l.value,this.nr(d)}catch(h){c.e(h)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Mb(this.persistenceKey,e));if(n){var r=Fb.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Mb(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Qp("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Qp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Qp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Qp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void $p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(dt(mt().mark((function e(){var r,i,a,o,s,u,c;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}u=function(e){var t=pv.A;if(null!=e)try{var n=JSON.parse(e);tv("number"==typeof n),t=n}catch(e){$p("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==pv.A&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Lb(this.currentUser,e,t,n),i=Pb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=Pb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Mb(this.persistenceKey,e),i=new Fb(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Vb.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Lb.Ji(new Wp(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Fb.Ji(r,t)}},{key:"wr",value:function(e){return Ub.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Qp("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Or(o,s).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=ig();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),zb=function(){function e(){pt(this,e),this.Fr=new qb,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ht(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new qb,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Hb=function(){function e(){pt(this,e)}return ht(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Gb=function(){function e(){var t=this;pt(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return ht(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Qp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ct(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Qp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ct(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Wb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yb=function(){function e(t){pt(this,e),this.jr=t.jr,this.Wr=t.Wr}return ht(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Zb=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ht(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Hp;o.listenOnce(Vp.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Fp.NO_ERROR:var t=o.getResponseJson();Qp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Fp.TIMEOUT:Qp("Connection",'RPC "'+e+'" timed out'),a(new iv(rv.DEADLINE_EXCEEDED,"Request time out"));break;case Fp.HTTP_ERROR:var n=o.getStatus();if(Qp("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(rv).indexOf(t)>=0?t:rv.UNKNOWN}(r.status);a(new iv(s,r.message))}else a(new iv(rv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new iv(rv.UNAVAILABLE,"Connection failed."));break;default:ev()}}finally{Qp("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Mp(),a=Lp(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Bp({})),this.uo(o.initMessageHeaders,t,n),Mt()||Vt()||Pt().indexOf("Electron/")>=0||Ut()||Pt().indexOf("MSAppHost/")>=0||Ft()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Qp("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,d=new Yb({jr:function(e){l?Qp("Connection","Not sending because WebChannel is closed:",e):(c||(Qp("Connection","Opening WebChannel transport."),u.open(),c=!0),Qp("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,zp.EventType.OPEN,(function(){l||Qp("Connection","WebChannel transport opened.")})),f(u,zp.EventType.CLOSE,(function(){l||(l=!0,Qp("Connection","WebChannel transport closed"),d.eo())})),f(u,zp.EventType.ERROR,(function(e){l||(l=!0,Jp("Connection","WebChannel transport errored:",e),d.eo(new iv(rv.UNAVAILABLE,"The operation could not be completed")))})),f(u,zp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];tv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Qp("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Py[e];if(void 0!==t)return qy(t)}(a),s=i.message;void 0===o&&(o=rv.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,d.eo(new iv(o,s)),u.close()}else Qp("Connection","WebChannel received:",n),d.no(n)}})),f(a,Up.STAT_EVENT,(function(e){e.stat===qp.PROXY?Qp("Connection","Detected buffering proxy"):e.stat===qp.NOPROXY&&Qp("Connection","Detected no buffering proxy")})),setTimeout((function(){d.Zr()}),0),d}}]),n}(function(){function e(t){pt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ht(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Qp("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return Qp("RestConnection","Received: ",e),e}),(function(t){throw Jp("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Wb[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Kb(){return"undefined"!=typeof window?window:null}function Qb(){return"undefined"!=typeof document?document:null}function $b(e){return new mg(e,!0)}var Jb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;pt(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ht(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Qp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),Xb=function(){function e(t,n,r,i,a,o,s,u){pt(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Jb(t,n)}return ht(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===rv.RESOURCE_EXHAUSTED?($p(n.toString()),$p("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===rv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=be(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new iv(rv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(dt(mt().mark((function t(){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Qp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(Qp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ew=function(e){kt(n,e);var t=Et(n);function n(e,r,i,a,o,s){var u;return pt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return ht(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ev()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(tv(void 0===t||"string"==typeof t),jv.fromBase64String(t||"")):(tv(void 0===t||t instanceof Uint8Array),jv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?rv.UNKNOWN:qy(e.code);return new iv(t,e.message||"")}(o);n=new cg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Eg(e,u.document.name),l=xg(u.document.updateTime),d=new cm({mapValue:{fields:u.document.fields}}),f=dm.newFoundDocument(c,l,d),h=u.targetIds||[],p=u.removedTargetIds||[];n=new sg(h,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Eg(e,v.document),y=v.readTime?xg(v.readTime):bv.min(),g=dm.newNoDocument(m,y),k=v.removedTargetIds||[];n=new sg([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var x=t.documentRemove;x.document;var b=Eg(e,x.document),w=x.removedTargetIds||[];n=new sg([],w,b,null)}else{if(!("filter"in t))return ev();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new Vy(E),S=_.targetId;n=new ug(S,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return bv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?bv.min():t.readTime?xg(t.readTime):bv.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Ng(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Im(r)?{documents:Rg(e,r)}:{query:Pg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=gg(e,t.resumeToken):t.snapshotVersion.compareTo(bv.min())>0&&(n.readTime=yg(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ev()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Ng(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(Xb),tw=function(e){kt(n,e);var t=Et(n);function n(e,r,i,a,o,s){var u;return pt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.Wo=!1,u}return ht(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,kr(xt(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(tv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(tv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?xg(e.updateTime):xg(t);return n.isEqual(bv.min())&&(n=xg(t)),new by(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=xg(e.commitTime);return this.listener.Jo(n,t)}return tv(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Ng(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ag(t.M,e)}))};this.Oo(n)}}]),n}(Xb),nw=function(e){kt(n,e);var t=Et(n);function n(e,r,i,a){var o;return pt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return ht(n,[{key:"tu",value:function(){if(this.Zo)throw new iv(rv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=be(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new iv(rv.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=be(i,2),o=a[0],s=a[1];return r.bo.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===rv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new iv(rv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ht((function e(){pt(this,e)}))}()),rw=function(){function e(t,n){pt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ht(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?($p(t),this.su=!1):Qp("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),iw=ht((function e(t,n,r,i,a){var o=this;pt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=vw(o),!e.t0){e.next=5;break}return Qp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=nv(t)).lu.add(4),e.next=4,sw(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,aw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new rw(r,i)}));function aw(e){return ow.apply(this,arguments)}function ow(){return ow=dt(mt().mark((function e(t){var n,r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vw(t)){e.next=18;break}n=ct(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ow.apply(this,arguments)}function sw(e){return uw.apply(this,arguments)}function uw(){return uw=dt(mt().mark((function e(t){var n,r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ct(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),uw.apply(this,arguments)}function cw(e,t){var n=nv(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),pw(n)?hw(n):Hw(n).Co()&&dw(n,t))}function lw(e,t){var n=nv(e),r=Hw(n);n.hu.delete(t),r.Co()&&fw(n,t),0===n.hu.size&&(r.Co()?r.ko():vw(n)&&n._u.set("Unknown"))}function dw(e,t){e.wu.Z(t.targetId),Hw(e).Qo(t)}function fw(e,t){e.wu.Z(t),Hw(e).jo(t)}function hw(e){e.wu=new dg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),Hw(e).start(),e._u.iu()}function pw(e){return vw(e)&&!Hw(e).Do()&&e.hu.size>0}function vw(e){return 0===nv(e).lu.size}function mw(e){e.wu=void 0}function yw(e){return gw.apply(this,arguments)}function gw(){return gw=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){dw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),gw.apply(this,arguments)}function kw(e,t){return xw.apply(this,arguments)}function xw(){return xw=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mw(t),pw(t)?(t._u.uu(n),hw(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),xw.apply(this,arguments)}function bw(e,t,n){return ww.apply(this,arguments)}function ww(){return ww=dt(mt().mark((function e(t,n,r){var i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof cg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=dt(mt().mark((function e(t,n){var r,i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ct(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Qp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,_w(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof sg?t.wu.ut(n):n instanceof ug?t.wu._t(n):t.wu.ht(n),r.isEqual(bv.min())){e.next=29;break}return e.prev=14,e.next=17,ub(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(jv.EMPTY_BYTE_STRING,n.snapshotVersion)),fw(e,t);var r=new Pk(n.target,t,1,n.sequenceNumber);dw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Qp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,_w(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),ww.apply(this,arguments)}function _w(e,t,n){return Ew.apply(this,arguments)}function Ew(){return Ew=dt(mt().mark((function e(t,n,r){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ik(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,sw(t);case 5:t._u.set("Offline"),r||(r=function(){return ub(t.localStore)}),t.asyncQueue.enqueueRetryable(dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,aw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Iw(e,t){return t().catch((function(n){return _w(e,n,t)}))}function Sw(e){return Nw.apply(this,arguments)}function Nw(){return Nw=dt(mt().mark((function e(t){var n,r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nv(t),r=Gw(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!Tw(n)){e.next=19;break}return e.prev=3,e.next=6,db(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Cw(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,_w(n,e.t0);case 17:e.next=2;break;case 19:jw(n)&&Dw(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Nw.apply(this,arguments)}function Tw(e){return vw(e)&&e.cu.length<10}function Cw(e,t){e.cu.push(t);var n=Gw(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function jw(e){return vw(e)&&!Gw(e).Do()&&e.cu.length>0}function Dw(e){Gw(e).start()}function Aw(e){return Ow.apply(this,arguments)}function Ow(){return Ow=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gw(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Rw(e){return Pw.apply(this,arguments)}function Pw(){return Pw=dt(mt().mark((function e(t){var n,r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gw(t),r=ct(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}function Mw(e,t,n){return Lw.apply(this,arguments)}function Lw(){return Lw=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=Ok.from(i,n,r),e.next=3,Iw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Sw(t);case 5:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Fw(e,t){return Vw.apply(this,arguments)}function Vw(){return Vw=dt(mt().mark((function e(t,n){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Gw(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=dt(mt().mark((function e(t,n){var r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Uy(i=n.code)||i===rv.ABORTED){e.next=7;break}return r=t.cu.shift(),Gw(t).No(),e.next=5,Iw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Sw(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:jw(t)&&Dw(t);case 5:case"end":return e.stop()}}),e)}))),Vw.apply(this,arguments)}function Uw(e,t){return qw.apply(this,arguments)}function qw(){return qw=dt(mt().mark((function e(t,n){var r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=nv(t)).asyncQueue.verifyOperationInProgress(),Qp("RemoteStore","RemoteStore received new credentials"),i=vw(r),r.lu.add(3),e.next=6,sw(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,aw(r);case 12:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function Bw(e,t){return zw.apply(this,arguments)}function zw(){return zw=dt(mt().mark((function e(t,n){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nv(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,aw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,sw(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function Hw(e){return e.mu||(e.mu=function(e,t,n){var r=nv(e);return r.tu(),new ew(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:yw.bind(null,e),Jr:kw.bind(null,e),Ko:bw.bind(null,e)}),e.fu.push(function(){var t=dt(mt().mark((function t(n){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),pw(e)?hw(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:mw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Gw(e){return e.gu||(e.gu=function(e,t,n){var r=nv(e);return r.tu(),new tw(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:Aw.bind(null,e),Jr:Fw.bind(null,e),Yo:Rw.bind(null,e),Jo:Mw.bind(null,e)}),e.fu.push(function(){var t=dt(mt().mark((function t(n){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Sw(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(Qp("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var Ww=function(){function e(t,n,r,i,a){pt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new av,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ht(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new iv(rv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Yw(e,t){if($p("AsyncQueue","".concat(t,": ").concat(e)),Ik(e))return new iv(rv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Zw=function(){function e(t){pt(this,e),this.comparator=t?function(e,n){return t(e,n)||zv.comparator(e.key,n.key)}:function(e,t){return zv.comparator(e.key,t.key)},this.keyedMap=Jy(),this.sortedSet=new zy(this.comparator)}return ht(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Kw=function(){function e(){pt(this,e),this.yu=new zy(zv.comparator)}return ht(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ev():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Qw=function(){function e(t,n,r,i,a,o,s,u){pt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return ht(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Zw.emptySet(n),a,r,i,!0,!1)}}]),e}(),$w=ht((function e(){pt(this,e),this.Iu=void 0,this.listeners=[]})),Jw=ht((function e(){pt(this,e),this.queries=new By((function(e){return Xm(e)}),Jm),this.onlineState="Unknown",this.Tu=new Set}));function Xw(e,t){return e_.apply(this,arguments)}function e_(){return e_=dt(mt().mark((function e(t,n){var r,i,a,o,s;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $w),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Yw(e.t0,"Initialization of query '".concat(ey(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&a_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=dt(mt().mark((function e(t,n){var r,i,a,o,s;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){var n,r=nv(e),i=!1,a=ct(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ct(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(d){l.e(d)}finally{l.f()}u.Iu=o}}}catch(d){a.e(d)}finally{a.f()}i&&a_(r)}function i_(e,t,n){var r=nv(e),i=r.queries.get(t);if(i){var a,o=ct(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function a_(e){e.Tu.forEach((function(e){e.next()}))}var o_=function(){function e(t,n,r){pt(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ht(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ct(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Qw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Qw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),s_=function(){function e(t,n){pt(this,e),this.payload=t,this.byteLength=n}return ht(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),u_=function(){function e(t){pt(this,e),this.M=t}return ht(e,[{key:"li",value:function(e){return Eg(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?jg(this.M,e.document,!1):dm.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return xg(e)}}]),e}(),c_=function(){function e(t,n,r){pt(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=l_(t)}return ht(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Sv.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new u_(this.M),i=ct(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.li(a.metadata.name),u=ct(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||ng()).add(s);n.set(c,l)}}catch(d){u.e(d)}finally{u.f()}}}}catch(d){i.e(d)}finally{i.f()}return n}},{key:"complete",value:function(){var e=dt(mt().mark((function e(){var t,n,r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kb(this.localStore,new u_(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=ct(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,bb(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function l_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var d_=ht((function e(t){pt(this,e),this.key=t})),f_=ht((function e(t){pt(this,e),this.key=t})),h_=function(){function e(t,n){pt(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=ng(),this.mutatedKeys=ng(),this.Lu=ry(t),this.Uu=new Zw(this.Lu)}return ht(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new Kw,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Hm(this.query)&&i.size===this.query.limit?i.last():null,c=Gm(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),d=ty(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),h=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;l&&d?l.data.isEqual(d.data)?f!==h&&(r.track({type:3,doc:d}),p=!0):n.Qu(l,d)||(r.track({type:2,doc:d}),p=!0,(u&&n.Lu(d,u)>0||c&&n.Lu(d,c)<0)&&(s=!0)):!l&&d?(r.track({type:0,doc:d}),p=!0):l&&!d&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(d?(o=o.add(d),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Hm(this.query)||Gm(this.query))for(;o.size>this.query.limit;){var l=Hm(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ev()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new Qw(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new Kw,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=ng(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new f_(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new d_(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=ng();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Qw.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),p_=ht((function e(t,n,r){pt(this,e),this.query=t,this.targetId=n,this.view=r})),v_=ht((function e(t){pt(this,e),this.key=t,this.Xu=!1})),m_=function(){function e(t,n,r,i,a,o){pt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new By((function(e){return Xm(e)}),Jm),this.ea=new Map,this.na=new Set,this.sa=new zy(zv.comparator),this.ia=new Map,this.ra=new Ib,this.oa={},this.ua=new Map,this.aa=Sx.gn(),this.onlineState="Unknown",this.ca=void 0}return ht(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function y_(e,t){return g_.apply(this,arguments)}function g_(){return g_=dt(mt().mark((function e(t,n){var r,i,a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lE(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,fb(r.localStore,Qm(n));case 8:return s=e.sent,r.isPrimaryClient&&cw(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,k_(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t,n,r){return x_.apply(this,arguments)}function x_(){return x_=dt(mt().mark((function e(t,n,r,i){var a,o,s,u,c,l;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=dt(mt().mark((function e(t,n,r,i){var a,o,s;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,vb(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(U_(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,vb(t.localStore,n,!0);case 3:return a=e.sent,o=new h_(n,a.hi),s=o.Gu(a.documents),u=og.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),U_(t,r,c.zu),l=new p_(n,r,o),e.abrupt("return",(t.ta.set(n,l),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function b_(e,t){return w_.apply(this,arguments)}function w_(){return w_=dt(mt().mark((function e(t,n){var r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nv(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!Jm(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,hb(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),lw(r.remoteStore,i.targetId),F_(r,i.targetId)})).catch(Dx);case 9:e.next=14;break;case 11:return F_(r,i.targetId),e.next=14,hb(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function __(e,t,n){return E_.apply(this,arguments)}function E_(){return E_=dt(mt().mark((function e(t,n,r){var i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dE(t),e.prev=1,e.next=4,function(e,t){var n,r=nv(e),i=xv.now(),a=t.reduce((function(e,t){return e.add(t.key)}),ng());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,s=[],u=ct(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Ny(c,n.get(c.key));null!=l&&s.push(new Dy(c.key,l,lm(l.value.mapValue),wy.exists(!0)))}}catch(d){u.e(d)}finally{u.f()}return r.$s.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new zy(yv)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,z_(i,a.changes);case 9:return e.next=11,Sw(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Yw(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),E_.apply(this,arguments)}function I_(e,t){return S_.apply(this,arguments)}function S_(){return S_=dt(mt().mark((function e(t,n){var r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.prev=1,e.next=4,cb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(tv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?tv(n.Xu):e.removedDocuments.size>0&&(tv(n.Xu),n.Xu=!1))})),e.next=8,z_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Dx(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),S_.apply(this,arguments)}function N_(e,t,n){var r=nv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=nv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ct(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&a_(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function T_(e,t,n){return C_.apply(this,arguments)}function C_(){return C_=dt(mt().mark((function e(t,n,r){var i,a,o,s,u,c;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=nv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new zy(zv.comparator)).insert(o,dm.newNoDocument(o,bv.min())),u=ng().add(o),c=new ag(bv.min(),new Map,new Wy(yv),s,u),e.next=9,I_(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),B_(i),e.next=16;break;case 14:return e.next=16,hb(i.localStore,n,!1).then((function(){return F_(i,n,r)})).catch(Dx);case 16:case"end":return e.stop()}}),e)}))),C_.apply(this,arguments)}function j_(e,t){return D_.apply(this,arguments)}function D_(){return D_=dt(mt().mark((function e(t,n){var r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),i=n.batch.batchId,e.prev=1,e.next=4,sb(r.localStore,n);case 4:return a=e.sent,L_(r,i,null),M_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,z_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),D_.apply(this,arguments)}function A_(e,t,n){return O_.apply(this,arguments)}function O_(){return O_=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nv(t),e.prev=1,e.next=4,function(e,t){var n=nv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return tv(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,L_(i,n,r),M_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,z_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),O_.apply(this,arguments)}function R_(e,t){return P_.apply(this,arguments)}function P_(){return P_=dt(mt().mark((function e(t,n){var r,i,a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vw((r=nv(t)).remoteStore)||Qp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=nv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Yw(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),P_.apply(this,arguments)}function M_(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function L_(e,t,n){var r=nv(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function F_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ct(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||V_(e,t)}))}function V_(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(lw(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),B_(e))}function U_(e,t,n){var r,i=ct(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof d_?(e.ra.addReference(a.key,t),q_(e,a)):a instanceof f_?(Qp("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||V_(e,a.key)):ev()}}catch(o){i.e(o)}finally{i.f()}}function q_(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(Qp("SyncEngine","New document in limbo: "+n),e.na.add(r),B_(e))}function B_(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new zv(Sv.fromString(t)),r=e.aa.next();e.ia.set(r,new v_(n)),e.sa=e.sa.insert(n,r),cw(e.remoteStore,new Pk(Qm(zm(n.path)),r,2,pv.A))}}function z_(e,t,n){return H_.apply(this,arguments)}function H_(){return H_=dt(mt().mark((function e(t,n,r){var i,a,o,s;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=nv(t),a=[],o=[],s=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){s.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=tb.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=dt(mt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return xk.forEach(n,(function(t){return xk.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return xk.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ik(e.t0)){e.next=10;break}throw e.t0;case 10:Qp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ct(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.si.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(s,l))}catch(d){i.e(d)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function G_(e,t){return W_.apply(this,arguments)}function W_(){return W_=dt(mt().mark((function e(t,n){var r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=nv(t)).currentUser.isEqual(n)){e.next=11;break}return Qp("SyncEngine","User change. New user:",n.toKey()),e.next=5,ab(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new iv(rv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,z_(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function Y_(e,t){var n=nv(e),r=n.ia.get(t);if(r&&r.Xu)return ng().add(r.key);var i=ng(),a=n.ea.get(t);if(!a)return i;var o,s=ct(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ta.get(u);i=i.unionWith(c.view.qu)}}catch(l){s.e(l)}finally{s.f()}return i}function Z_(e,t){return K_.apply(this,arguments)}function K_(){return K_=dt(mt().mark((function e(t,n){var r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.next=3,vb(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&U_(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),K_.apply(this,arguments)}function Q_(e,t){return $_.apply(this,arguments)}function $_(){return $_=dt(mt().mark((function e(t,n){var r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),e.abrupt("return",yb(r.localStore,n).then((function(e){return z_(r,e)})));case 2:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function J_(e,t,n,r){return X_.apply(this,arguments)}function X_(){return X_=dt(mt().mark((function e(t,n,r,i){var a,o;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nv(t),e.next=3,function(e,t){var n=nv(e),r=nv(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):xk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Sw(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(L_(a,n,i||null),M_(a,n),function(e,t){nv(nv(e).$s).dn(t)}(a.localStore,n)):ev();case 11:return e.next=13,z_(a,o);case 13:e.next=16;break;case 15:Qp("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=dt(mt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lE(r=nv(t)),dE(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,nE(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,Bw(r.remoteStore,!0);case 9:o=ct(a);try{for(o.s();!(s=o.n()).done;)u=s.value,cw(r.remoteStore,u)}catch(d){o.e(d)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return F_(r,t),hb(r.localStore,t,!0)})),lw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,nE(r,c);case 21:return function(e){var t=nv(e);t.ia.forEach((function(e,n){lw(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new zy(zv.comparator)}(r),r.ca=!1,e.next=25,Bw(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t,n){return rE.apply(this,arguments)}function rE(){return rE=dt(mt().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f,h,p,v,m,y;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=nv(t),a=[],o=[],s=ct(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(d=i.ea.get(c))||0===d.length){e.next=34;break}return e.next=11,fb(i.localStore,Qm(d[0]));case 11:l=e.sent,f=ct(d),e.prev=13,f.s();case 15:if((h=f.n()).done){e.next=24;break}return p=h.value,v=i.ta.get(p),e.next=20,Z_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,mb(i.localStore,c);case 36:return y=e.sent,e.next=39,fb(i.localStore,y);case 39:return l=e.sent,e.next=42,k_(i,iE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),rE.apply(this,arguments)}function iE(e){return Bm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function aE(e){var t=nv(e);return nv(nv(t.localStore).persistence).Os()}function oE(e,t,n,r){return sE.apply(this,arguments)}function sE(){return sE=dt(mt().mark((function e(t,n,r,i){var a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=nv(t)).ca){e.next=3;break}return e.abrupt("return",void Qp("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,yb(a.localStore,ny(o[0]));case 10:return s=e.sent,u=ag.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,z_(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,hb(a.localStore,n,!0);case 17:return F_(a,n,i),e.abrupt("break",20);case 19:ev();case 20:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function uE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=dt(mt().mark((function e(t,n,r){var i,a,o,s,u,c,l,d,f;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=lE(t)).ca){e.next=45;break}a=ct(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ea.has(s)){e.next=10;break}return Qp("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,mb(i.localStore,s);case 12:return u=e.sent,e.next=15,fb(i.localStore,u);case 15:return c=e.sent,e.next=18,k_(i,iE(u),c.targetId,!1);case 18:cw(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ct(r),e.prev=30,f=mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,hb(i.localStore,t,!1).then((function(){lw(i.remoteStore,t),F_(i,t)})).catch(Dx);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((d=l.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),cE.apply(this,arguments)}function lE(e){var t=nv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=I_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=T_.bind(null,t),t.Zu.Ko=r_.bind(null,t.eventManager),t.Zu.la=i_.bind(null,t.eventManager),t}function dE(e){var t=nv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=j_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=A_.bind(null,t),t}function fE(e,t,n){var r=nv(e);(function(){var e=dt(mt().mark((function e(t,n,r){var i,a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=nv(e),r=xg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(l_(i)),a=new c_(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,z_(t,u.Ou,void 0);case 31:return e.next=33,function(e,t){var n=nv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Jp("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var hE=function(){function e(){pt(this,e),this.synchronizeTabs=!1}return ht(e,[{key:"initialize",value:function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=$b(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return ib(this.persistence,new nb,e.initialUser,this.M)}},{key:"_a",value:function(e){return new Db(Ob.Wi,this.M)}},{key:"da",value:function(e){return new zb}},{key:"terminate",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pE=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ht(n,[{key:"initialize",value:function(){var e=dt(mt().mark((function e(t){var r=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(xt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,dE(this.ga.syncEngine);case 6:return e.next=8,Sw(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return ib(this.persistence,new nb,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Px(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=Xx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gx.withCacheSize(this.cacheSizeBytes):gx.DEFAULT;return new Qx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Kb(),Qb(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new zb}}]),n}(hE),vE=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ht(n,[{key:"initialize",value:function(){var e=dt(mt().mark((function e(t){var r,i=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(xt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof Bb,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:J_.bind(null,r),Mr:oE.bind(null,r),Or:uE.bind(null,r),Os:aE.bind(null,r),Nr:Q_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eE(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=Kb();if(!Bb.vt(t))throw new iv(rv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Xx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(pE),mE=function(){function e(){pt(this,e)}return ht(e,[{key:"initialize",value:function(){var e=dt(mt().mark((function e(t,n){var r=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return N_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=G_.bind(null,this.syncEngine),e.next=12,Bw(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Jw}},{key:"createDatastore",value:function(e){var t,n=$b(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Zb(t));return function(e,t,n,r){return new nw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return N_(o.syncEngine,e,0)},a=Gb.vt()?new Gb:new Hb,new iw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new m_(e,t,n,r,i,a);return o&&(s.ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nv(t),Qp("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,sw(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function yE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return dt(mt().mark((function r(){var i;return mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var gE=function(){function e(t){pt(this,e),this.observer=t,this.muted=!1}return ht(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),kE=function(){function e(t,n){var r=this;pt(this,e),this.Ia=t,this.M=n,this.metadata=new av,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ht(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=dt(mt().mark((function e(){var t,n,r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new s_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=dt(mt().mark((function e(){var t,n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=dt(mt().mark((function e(){var t,n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),xE=function(){function e(t){pt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ht(e,[{key:"lookup",value:function(){var e=dt(mt().mark((function e(t){var n,r=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new iv(rv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=dt(mt().mark((function e(t,n){var r,i,a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),i=Ng(r.M)+"/documents",a={documents:n.map((function(e){return _g(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Dg(r.M,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());tv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ly(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=dt(mt().mark((function e(){var t,n=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=zv.fromPath(t);n.mutations.push(new Fy(r,n.precondition(r)))})),e.next=7,function(){var e=dt(mt().mark((function e(t,n){var r,i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nv(t),i=Ng(r.M)+"/documents",a={writes:n.map((function(e){return Ag(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ev();t=bv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new iv(rv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?wy.updateTime(t):wy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bv.min()))throw new iv(rv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wy.updateTime(t)}return wy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),bE=function(){function e(t,n,r,i){pt(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new Jb(this.asyncQueue,"transaction_retry")}return ht(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(dt(mt().mark((function t(){var n,r;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new xE(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!Uv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Uy(t)}return!1}}]),e}(),wE=function(){function e(t,n,r,i){var a=this;pt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wp.UNAUTHENTICATED,this.clientId=mv.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qp("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Qp("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ht(e,[{key:"getConfiguration",value:function(){var e=dt(mt().mark((function e(){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new iv(rv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new av;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(dt(mt().mark((function n(){var r;return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Yw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function _E(e,t){return EE.apply(this,arguments)}function EE(){return EE=dt(mt().mark((function e(t,n){var r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Qp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,ab(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function IE(e,t){return SE.apply(this,arguments)}function SE(){return SE=dt(mt().mark((function e(t,n){var r,i;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,NE(t);case 3:return r=e.sent,Qp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Uw(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Uw(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function NE(e){return TE.apply(this,arguments)}function TE(){return TE=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Qp("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,_E(t,new hE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(e){return jE.apply(this,arguments)}function jE(){return jE=dt(mt().mark((function e(t){return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Qp("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,IE(t,new mE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function DE(e){return NE(e).then((function(e){return e.persistence}))}function AE(e){return NE(e).then((function(e){return e.localStore}))}function OE(e){return CE(e).then((function(e){return e.remoteStore}))}function RE(e){return CE(e).then((function(e){return e.syncEngine}))}function PE(e){return ME.apply(this,arguments)}function ME(){return ME=dt(mt().mark((function e(t){var n,r;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=y_.bind(null,n.syncEngine),r.onUnlisten=b_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function LE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new av;return e.asyncQueue.enqueueAndForget(dt(mt().mark((function i(){return mt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gE({next:function(a){t.enqueueAndForget((function(){return t_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new iv(rv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new iv(rv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new o_(zm(n.path),a,{includeMetadataChanges:!0,Du:!0});return Xw(e,o)},i.next=3,PE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function FE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new av;return e.asyncQueue.enqueueAndForget(dt(mt().mark((function i(){return mt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gE({next:function(n){t.enqueueAndForget((function(){return t_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new iv(rv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new o_(n,a,{includeMetadataChanges:!0,Du:!0});return Xw(e,o)},i.next=3,PE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var VE=new Map;function UE(e,t,n){if(!n)throw new iv(rv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qE(e,t,n,r){if(!0===t&&!0===r)throw new iv(rv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function BE(e){if(!zv.isDocumentKey(e))throw new iv(rv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function zE(e){if(zv.isDocumentKey(e))throw new iv(rv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function HE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ev()}function GE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new iv(rv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=HE(e);throw new iv(rv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function WE(e,t){if(t<=0)throw new iv(rv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var YE=function(){function e(t){var n;if(pt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new iv(rv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new iv(rv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ht(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ZE=function(){function e(t,n,r){pt(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,t instanceof Vv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new iv(rv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vv(e.options.projectId)}(t))}return ht(e,[{key:"app",get:function(){if(!this._app)throw new iv(rv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new iv(rv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sv;switch(e.type){case"gapi":var t=e.client;return tv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new dv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new iv(rv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=VE.get(e);t&&(Qp("ComponentProvider","Removing Datastore"),VE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function KE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=GE(e,ZE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Jp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Wp.MOCK_USER;else{o=Rt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new iv(rv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Wp(u)}e._authCredentials=new uv(new ov(o,s))}}var QE=function(){function e(t,n,r){pt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ht(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new JE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$E=function(){function e(t,n,r){pt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ht(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),JE=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this,e,r,zm(i)))._path=i,a.type="collection",a}return ht(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new QE(this.firestore,null,new zv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($E);function XE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),UE("collection","path",t),e instanceof ZE){var a=Sv.fromString.apply(Sv,[t].concat(r));return zE(a),new JE(e,null,a)}if(!(e instanceof QE||e instanceof JE))throw new iv(rv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Sv.fromString.apply(Sv,[t].concat(r)));return zE(o),new JE(e.firestore,null,o)}function eI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tn(e),1===arguments.length&&(t=mv.R()),UE("doc","path",t),e instanceof ZE){var a=Sv.fromString.apply(Sv,[t].concat(r));return BE(a),new QE(e,null,new zv(a))}if(!(e instanceof QE||e instanceof JE))throw new iv(rv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Sv.fromString.apply(Sv,[t].concat(r)));return BE(o),new QE(e.firestore,e instanceof JE?e.converter:null,new zv(o))}function tI(e,t){return e=tn(e),t=tn(t),(e instanceof QE||e instanceof JE)&&(t instanceof QE||t instanceof JE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nI(e,t){return e=tn(e),t=tn(t),e instanceof $E&&t instanceof $E&&e.firestore===t.firestore&&Jm(e._query,t._query)&&e.converter===t.converter}var rI=function(){function e(){var t=this;pt(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Jb(this,"async_queue_retry"),this.Ua=function(){var e=Qb();e&&Qp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Qb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return ht(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=Qb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new av;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=dt(mt().mark((function e(){var t=this;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ik(e.t0)){e.next=12;break}throw e.t0;case 12:Qp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw $p("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=Ww.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&ev()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=dt(mt().mark((function e(){var t;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=ct(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ct(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function iI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ct(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var aI=function(){function e(){pt(this,e),this._progressObserver={},this._taskCompletionResolver=new av,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ht(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),oI=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new rI,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ht(n,[{key:"_terminate",value:function(){return this._firestoreClient||uI(this),this._firestoreClient.terminate()}}]),n}(ZE);function sI(e){return e._firestoreClient||uI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Fv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new wE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function cI(e,t,n){var r=new av;return e.asyncQueue.enqueue(dt(mt().mark((function i(){return mt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_E(e,n);case 3:return i.next=5,IE(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===rv.FAILED_PRECONDITION||e.code===rv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function lI(e){return function(e){return e.asyncQueue.enqueue(dt(mt().mark((function t(){var n,r;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,DE(e);case 2:return n=t.sent,t.next=5,OE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=nv(e);return t.lu.delete(0),aw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sI(e=GE(e,oI)))}function dI(e){return function(e){return e.asyncQueue.enqueue(dt(mt().mark((function t(){var n,r;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,DE(e);case 2:return n=t.sent,t.next=5,OE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=nv(t)).lu.add(0),e.next=4,sw(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sI(e=GE(e,oI)))}function fI(e,t){var n=sI(e=GE(e,oI)),r=new aI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new kE(e,t)}(function(e,t){if(e instanceof Uint8Array)return yE(e,t);if(e instanceof ArrayBuffer)return yE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,$b(t));e.asyncQueue.enqueueAndForget(dt(mt().mark((function t(){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fE,t.next=3,RE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function hI(e,t){return function(e,t){return e.asyncQueue.enqueue(dt(mt().mark((function n(){return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=nv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,AE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sI(e=GE(e,oI)),t).then((function(t){return t?new $E(e,null,t.query):null}))}function pI(e){if(e._initialized||e._terminated)throw new iv(rv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vI=function(){function e(){pt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new iv(rv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tv(n)}return ht(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var mI=function(){function e(t){pt(this,e),this._byteString=t}return ht(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(jv.fromBase64String(t))}catch(t){throw new iv(rv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(jv.fromUint8Array(t))}}]),e}(),yI=ht((function e(t){pt(this,e),this._methodName=t})),gI=function(){function e(t,n){if(pt(this,e),!isFinite(t)||t<-90||t>90)throw new iv(rv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new iv(rv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ht(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return yv(this._lat,e._lat)||yv(this._long,e._long)}}]),e}(),kI=/^__.*__$/,xI=function(){function e(t,n,r){pt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ht(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Dy(e,this.data,this.fieldMask,t,this.fieldTransforms):new jy(e,this.data,t,this.fieldTransforms)}}]),e}(),bI=function(){function e(t,n,r){pt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ht(e,[{key:"toMutation",value:function(e,t){return new Dy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function wI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ev()}}var _I=function(){function e(t,n,r,i,a,o){pt(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ht(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return zI(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(wI(this.Ya)&&kI.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),EI=function(){function e(t,n,r){pt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||$b(t)}return ht(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _I({Ya:e,methodName:t,oc:n,path:Tv.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function II(e){var t=e._freezeSettings(),n=$b(e._databaseId);return new EI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function SI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);VI("Data must be an object, but it was:",o,r);var s,u,c=LI(r,o);if(a.merge)s=new Cv(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,d=[],f=ct(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var h=l.value,p=UI(t,h,n);if(!o.contains(p))throw new iv(rv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));HI(d,p)||d.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new Cv(d),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new xI(new cm(c),s,u)}var NI=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.apply(this,arguments)}return ht(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yI);function TI(e,t,n){return new _I({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var CI=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.apply(this,arguments)}return ht(n,[{key:"_toFieldTransform",value:function(e){return new xy(e.path,new fy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yI),jI=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e)).ac=r,i}return ht(n,[{key:"_toFieldTransform",value:function(e){var t=TI(this,e,!0),n=this.ac.map((function(e){return MI(e,t)})),r=new hy(n);return new xy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yI),DI=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e)).ac=r,i}return ht(n,[{key:"_toFieldTransform",value:function(e){var t=TI(this,e,!0),n=this.ac.map((function(e){return MI(e,t)})),r=new vy(n);return new xy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yI),AI=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e)).cc=r,i}return ht(n,[{key:"_toFieldTransform",value:function(e){var t=new yy(e.M,sy(e.M,this.cc));return new xy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yI);function OI(e,t,n,r){var i=e.uc(1,t,n);VI("Data must be an object, but it was:",i,r);var a=[],o=cm.empty();_v(r,(function(e,r){var s=BI(t,e,n);r=tn(r);var u=i.nc(s);if(r instanceof NI)a.push(s);else{var c=MI(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Cv(a);return new bI(o,s,i.fieldTransforms)}function RI(e,t,n,r,i,a){var o=e.uc(1,t,n),s=[UI(t,r,n)],u=[i];if(a.length%2!=0)throw new iv(rv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(UI(t,a[c])),u.push(a[c+1]);for(var l=[],d=cm.empty(),f=s.length-1;f>=0;--f)if(!HI(l,s[f])){var h=s[f],p=u[f];p=tn(p);var v=o.nc(h);if(p instanceof NI)l.push(h);else{var m=MI(p,v);null!=m&&(l.push(h),d.set(h,m))}}var y=new Cv(l);return new bI(d,y,o.fieldTransforms)}function PI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return MI(n,e.uc(r?4:3,t))}function MI(e,t){if(FI(e=tn(e)))return VI("Unsupported field value:",t,e),LI(e,t);if(e instanceof yI)return function(e,t){if(!wI(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ct(e);try{for(a.s();!(n=a.n()).done;){var o=MI(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=tn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sy(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=xv.fromDate(e);return{timestampValue:yg(t.M,n)}}if(e instanceof xv){var r=new xv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yg(t.M,r)}}if(e instanceof gI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mI)return{bytesValue:gg(t.M,e._byteString)};if(e instanceof QE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:bg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(HE(e)))}(e,t)}function LI(e,t){var n={};return Ev(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_v(e,(function(e,r){var i=MI(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function FI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xv||e instanceof gI||e instanceof mI||e instanceof QE||e instanceof yI)}function VI(e,t,n){if(!FI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=HE(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function UI(e,t,n){if((t=tn(t))instanceof vI)return t._internalPath;if("string"==typeof t)return BI(e,t);throw zI("Field path arguments must be of type string or ",e,!1,void 0,n)}var qI=new RegExp("[~\\*/\\[\\]]");function BI(e,t,n){if(t.search(qI)>=0)throw zI("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return It(vI,cn(t.split(".")))._internalPath}catch(r){throw zI("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function zI(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new iv(rv.INVALID_ARGUMENT,s+e+u)}function HI(e,t){return e.some((function(e){return e.isEqual(t)}))}var GI=function(){function e(t,n,r,i,a){pt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ht(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new QE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new WI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(YI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),WI=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.apply(this,arguments)}return ht(n,[{key:"data",value:function(){return kr(xt(n.prototype),"data",this).call(this)}}]),n}(GI);function YI(e,t){return"string"==typeof t?BI(e,t):t instanceof vI?t._internalPath:t._delegate._internalPath}var ZI=function(){function e(t,n){pt(this,e),this.hasPendingWrites=t,this.fromCache=n}return ht(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),KI=function(e){kt(n,e);var t=Et(n);function n(e,r,i,a,o,s){var u;return pt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return ht(n,[{key:"exists",value:function(){return kr(xt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new QI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(YI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(GI),QI=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.apply(this,arguments)}return ht(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kr(xt(n.prototype),"data",this).call(this,e)}}]),n}(KI),$I=function(){function e(t,n,r,i){pt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ZI(i.hasPendingWrites,i.fromCache),this.query=r}return ht(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new QI(n._firestore,n._userDataWriter,r.key,r,new ZI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new iv(rv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new QI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ZI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new QI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ZI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:JI(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function JI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ev()}}function XI(e,t){return e instanceof KI&&t instanceof KI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $I&&t instanceof $I&&e._firestore===t._firestore&&nI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function eS(e){if(Gm(e)&&0===e.explicitOrderBy.length)throw new iv(rv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tS=ht((function e(){pt(this,e)}));function nS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var rS=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return ht(n,[{key:"_apply",value:function(e){var t=II(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new iv(rv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){pS(o,a);var u,c=[],l=ct(o);try{for(l.s();!(u=l.n()).done;){var d=u.value;c.push(hS(r,e,d))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=hS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||pS(o,a),s=PI(n,"where",o,"in"===a||"not-in"===a);var f=Nm.create(i,a,s);return function(e,t){if(t.S()){var n=Ym(e);if(null!==n&&!n.isEqual(t.field))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Wm(e);null!==r&&vS(e,t.field,r)}var i=function(e,t){var n,r=ct(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new iv(rv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new iv(rv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new $E(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new qm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(tS);var iS=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return ht(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new iv(rv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new iv(rv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Lm(t,n);return function(e,t){if(null===Wm(e)){var n=Ym(e);null!==n&&vS(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new $E(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new qm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(tS);var aS=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return ht(n,[{key:"_apply",value:function(e){return new $E(e.firestore,e.converter,$m(e._query,this._c,this.wc))}}]),n}(tS);var oS=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return ht(n,[{key:"_apply",value:function(e){var t=fS(e,this.type,this.mc,this.gc);return new $E(e.firestore,e.converter,function(e,t){return new qm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(tS);function sS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oS("startAt",t,!0)}function uS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oS("startAfter",t,!1)}var cS=function(e){kt(n,e);var t=Et(n);function n(e,r,i){var a;return pt(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return ht(n,[{key:"_apply",value:function(e){var t=fS(e,this.type,this.mc,this.gc);return new $E(e.firestore,e.converter,function(e,t){return new qm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(tS);function lS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cS("endBefore",t,!1)}function dS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cS("endAt",t,!0)}function fS(e,t,n,r){if(n[0]=tn(n[0]),n[0]instanceof GI)return function(e,t,n,r,i){if(!r)throw new iv(rv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=ct(Km(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Xv(t,r.key));else{var c=r.data.field(u.field);if(Pv(c))throw new iv(rv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new iv(rv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(d){s.e(d)}finally{s.f()}return new Mm(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=II(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new iv(rv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new iv(rv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Zm(e)&&-1!==c.indexOf("/"))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Sv.fromString(c));if(!zv.isDocumentKey(l))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var d=new zv(l);s.push(Xv(t,d))}else{var f=PI(n,r,c);s.push(f)}}return new Mm(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function hS(e,t,n){if("string"==typeof(n=tn(n))){if(""===n)throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zm(t)&&-1!==n.indexOf("/"))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Sv.fromString(n));if(!zv.isDocumentKey(r))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Xv(e,new zv(r))}if(n instanceof QE)return Xv(e,n._key);throw new iv(rv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(HE(n),"."))}function pS(e,t){if(!Array.isArray(e)||0===e.length)throw new iv(rv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new iv(rv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function vS(e,t,n){if(!n.isEqual(t))throw new iv(rv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var mS=function(){function e(){pt(this,e)}return ht(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Wv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ov(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ev()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return _v(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new gI(Ov(e.latitude),Ov(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Mv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Av(e);return new xv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Sv.fromString(e);tv(Gg(n));var r=new Vv(n.get(1),n.get(3)),i=new zv(n.popFirst(5));return r.isEqual(t)||$p("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gS=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this)).firestore=e,r}return ht(n,[{key:"convertBytes",value:function(e){return new mI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new QE(this.firestore,null,t)}}]),n}(mS),kS=function(){function e(t,n){pt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=II(t)}return ht(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=xS(e,this._firestore),i=yS(r.converter,t,n),a=SI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,wy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=xS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=tn(t))||t instanceof vI?RI(this._dataReader,"WriteBatch.update",i._key,t,n,o):OI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,wy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=xS(e,this._firestore);return this._mutations=this._mutations.concat(new Ly(t._key,wy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new iv(rv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function xS(e,t){if((e=tn(e)).firestore!==t)throw new iv(rv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var bS=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this)).firestore=e,r}return ht(n,[{key:"convertBytes",value:function(e){return new mI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new QE(this.firestore,null,t)}}]),n}(mS);function wS(e){e=GE(e,QE);var t=GE(e.firestore,oI),n=sI(t),r=new bS(t);return function(e,t){var n=new av;return e.asyncQueue.enqueueAndForget(dt(mt().mark((function r(){return mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=dt(mt().mark((function e(t,n,r){var i,a;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=nv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new iv(rv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Yw(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,AE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new KI(t,r,e._key,n,new ZI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function _S(e){e=GE(e,$E);var t=GE(e.firestore,oI),n=sI(t),r=new bS(t);return function(e,t){var n=new av;return e.asyncQueue.enqueueAndForget(dt(mt().mark((function r(){return mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=dt(mt().mark((function e(t,n,r){var i,a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vb(t,n,!0);case 3:i=e.sent,a=new h_(n,i.hi),o=a.Gu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Yw(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,AE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new $I(t,r,e,n)}))}function ES(e,t,n){e=GE(e,QE);var r=GE(e.firestore,oI),i=yS(e.converter,t,n);return TS(r,[SI(II(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,wy.none())])}function IS(e,t,n){e=GE(e,QE);for(var r=GE(e.firestore,oI),i=II(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return TS(r,[("string"==typeof(t=tn(t))||t instanceof vI?RI(i,"updateDoc",e._key,t,n,o):OI(i,"updateDoc",e._key,t)).toMutation(e._key,wy.exists(!0))])}function SS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=tn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||iI(n[u])||(s=n[u],u++);var c,l,d,f={includeMetadataChanges:s.includeMetadataChanges};if(iI(n[u])){var h=n[u];n[u]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[u+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[u+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof QE)l=GE(e.firestore,oI),d=zm(e._key.path),c={next:function(t){n[u]&&n[u](CS(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=GE(e,$E);l=GE(p.firestore,oI),d=p._query;var v=new bS(l);c={next:function(e){n[u]&&n[u](new $I(l,v,p,e))},error:n[u+1],complete:n[u+2]},eS(e._query)}return function(e,t,n,r){var i=new gE(r),a=new o_(t,i,n);return e.asyncQueue.enqueueAndForget(dt(mt().mark((function t(){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xw,t.next=3,PE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(dt(mt().mark((function t(){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=t_,t.next=3,PE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sI(l),d,f,c)}function NS(e,t){return function(e,t){var n=new gE(t);return e.asyncQueue.enqueueAndForget(dt(mt().mark((function t(){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){nv(e).Tu.add(t),t.next()},t.next=3,PE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(dt(mt().mark((function t(){return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){nv(e).Tu.delete(t)},t.next=3,PE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sI(e=GE(e,oI)),iI(t)?t:{next:t})}function TS(e,t){return function(e,t){var n=new av;return e.asyncQueue.enqueueAndForget(dt(mt().mark((function r(){return mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=__,r.next=3,RE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sI(e),t)}function CS(e,t,n){var r=n.docs.get(t._key),i=new bS(e);return new KI(e,i,t._key,r,new ZI(n.hasPendingWrites,n.fromCache),t.converter)}var jS=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e,r))._firestore=e,i}return ht(n,[{key:"get",value:function(e){var t=this,r=xS(e,this._firestore),i=new bS(this._firestore);return kr(xt(n.prototype),"get",this).call(this,e).then((function(e){return new KI(t._firestore,i,r._key,e._document,new ZI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){pt(this,e),this._firestore=t,this._transaction=n,this._dataReader=II(t)}return ht(e,[{key:"get",value:function(e){var t=this,n=xS(e,this._firestore),r=new gS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ev();var i=e[0];if(i.isFoundDocument())return new GI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new GI(t._firestore,r,n._key,null,n.converter);throw ev()}))}},{key:"set",value:function(e,t,n){var r=xS(e,this._firestore),i=yS(r.converter,t,n),a=SI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=xS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=tn(t))||t instanceof vI?RI(this._dataReader,"Transaction.update",i._key,t,n,o):OI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=xS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function DS(e,t){return function(e,t){var n=new av;return e.asyncQueue.enqueueAndForget(dt(mt().mark((function r(){var i;return mt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return CE(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new bE(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(sI(e=GE(e,oI)),(function(n){return t(new jS(e,n))}))}function AS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jI("arrayUnion",t)}function OS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Yp=e}(qn),Rn(new ln("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new oI(i,new cv(e.getProvider("auth-internal")),new hv(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Yn(Gp,"3.4.7",e),Yn(Gp,"3.4.7","esm2017")}();function RS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new iv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function PS(){if("undefined"===typeof Uint8Array)throw new iv("unimplemented","Uint8Arrays are not available in this environment.")}function MS(){if("undefined"==typeof atob)throw new iv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var LS=function(){function e(t){pt(this,e),this._delegate=t}return ht(e,[{key:"toBase64",value:function(){return MS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return PS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return MS(),new e(mI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return PS(),new e(mI.fromUint8Array(t))}}]),e}();function FS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ct(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var VS=function(){function e(){pt(this,e)}return ht(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){pI(e=GE(e,oI));var n=sI(e),r=e._freezeSettings(),i=new mE;return cI(n,i,new pE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){pI(e=GE(e,oI));var t=sI(e),n=e._freezeSettings(),r=new mE;return cI(t,r,new vE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new iv(rv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new av;return e._queue.enqueueAndForgetEvenWhileRestricted(dt(mt().mark((function n(){return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=dt(mt().mark((function e(t){var n;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wk.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,wk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Xx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),US=function(){function e(t,n,r){var i=this;pt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Vv||(this._appCompat=t)}return ht(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Jp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};KE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return lI(this._delegate)}},{key:"disableNetwork",value:function(){return dI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&qE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new av;return e.asyncQueue.enqueueAndForget(dt(mt().mark((function n(){return mt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=R_,n.next=3,RE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sI(e=GE(e,oI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return NS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new iv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new eN(this,XE(this._delegate,e))}catch(t){throw WS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new GS(this,eI(this._delegate,e))}catch(t){throw WS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new $S(this,function(e,t){if(e=GE(e,ZE),UE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new iv(rv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $E(e,null,function(e){return new qm(Sv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw WS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return DS(this._delegate,(function(n){return e(new BS(t,n))}))}},{key:"batch",value:function(){var e=this;return sI(this._delegate),new zS(new kS(this._delegate,(function(t){return TS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return fI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return hI(this._delegate,e).then((function(e){return e?new $S(t,e):null}))}}]),e}(),qS=function(e){kt(n,e);var t=Et(n);function n(e){var r;return pt(this,n),(r=t.call(this)).firestore=e,r}return ht(n,[{key:"convertBytes",value:function(e){return new LS(new mI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return GS.forKey(t,this.firestore,null)}}]),n}(mS);var BS=function(){function e(t,n){pt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new qS(t)}return ht(e,[{key:"get",value:function(e){var t=this,n=tN(e);return this._delegate.get(n).then((function(e){return new KS(t._firestore,new KI(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=tN(e);return n?(RS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=tN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tN(e);return this._delegate.delete(t),this}}]),e}(),zS=function(){function e(t){pt(this,e),this._delegate=t}return ht(e,[{key:"set",value:function(e,t,n){var r=tN(e);return n?(RS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=tN(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=tN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),HS=function(){function e(t,n,r){pt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ht(e,[{key:"fromFirestore",value:function(e,t){var n=new QI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new QS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new qS(t),n),i.set(n,a)),a}}]),e}();HS.INSTANCES=new WeakMap;var GS=function(){function e(t,n){pt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qS(t)}return ht(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new eN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new eN(this.firestore,XE(this._delegate,e))}catch(t){throw WS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=tn(e))instanceof QE&&tI(this._delegate,e)}},{key:"set",value:function(e,t){t=RS("DocumentReference.set",t);try{return t?ES(this._delegate,e,t):ES(this._delegate,e)}catch(n){throw WS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?IS(this._delegate,e):IS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw WS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return TS(GE(e.firestore,oI),[new Ly(e._key,wy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=YS(n),a=ZS(n,(function(t){return new KS(e.firestore,new KI(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return SS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?wS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=GE(e,QE);var t=GE(e.firestore,oI);return LE(sI(t),e._key,{source:"server"}).then((function(n){return CS(t,e,n)}))}(this._delegate):function(e){e=GE(e,QE);var t=GE(e.firestore,oI);return LE(sI(t),e._key).then((function(n){return CS(t,e,n)}))}(this._delegate),t.then((function(e){return new KS(n.firestore,new KI(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(HS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new iv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new QE(n._delegate,r,new zv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new QE(n._delegate,r,t))}}]),e}();function WS(e,t,n){return e.message=e.message.replace(t,n),e}function YS(e){var t,n=ct(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!FS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function ZS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=FS(e[0])?e[0]:FS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var KS=function(){function e(t,n){pt(this,e),this._firestore=t,this._delegate=n}return ht(e,[{key:"ref",get:function(){return new GS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return XI(this._delegate,e._delegate)}}]),e}(),QS=function(e){kt(n,e);var t=Et(n);function n(){return pt(this,n),t.apply(this,arguments)}return ht(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ev()}(void 0!==t),t}}]),n}(KS),$S=function(){function e(t,n){pt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qS(t)}return ht(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,nS(this._delegate,function(e,t,n){var r=t,i=YI("where",e);return new rS(i,r,n)}(t,n,r)))}catch(i){throw WS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,nS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=YI("orderBy",e);return new iS(n,t)}(t,n)))}catch(r){throw WS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,nS(this._delegate,function(e){return WE("limit",e),new aS("limit",e,"F")}(t)))}catch(n){throw WS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,nS(this._delegate,function(e){return WE("limitToLast",e),new aS("limitToLast",e,"L")}(t)))}catch(n){throw WS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,nS(this._delegate,sS.apply(void 0,arguments)))}catch(t){throw WS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,nS(this._delegate,uS.apply(void 0,arguments)))}catch(t){throw WS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,nS(this._delegate,lS.apply(void 0,arguments)))}catch(t){throw WS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,nS(this._delegate,dS.apply(void 0,arguments)))}catch(t){throw WS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return nI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_S(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=GE(e,$E);var t=GE(e.firestore,oI),n=sI(t),r=new bS(t);return FE(n,e._query,{source:"server"}).then((function(n){return new $I(t,r,e,n)}))}(this._delegate):function(e){e=GE(e,$E);var t=GE(e.firestore,oI),n=sI(t),r=new bS(t);return eS(e._query),FE(n,e._query).then((function(n){return new $I(t,r,e,n)}))}(this._delegate),t.then((function(e){return new XS(n.firestore,new $I(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=YS(n),a=ZS(n,(function(t){return new XS(e.firestore,new $I(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return SS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(HS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),JS=function(){function e(t,n){pt(this,e),this._firestore=t,this._delegate=n}return ht(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new QS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),XS=function(){function e(t,n){pt(this,e),this._firestore=t,this._delegate=n}return ht(e,[{key:"query",get:function(){return new $S(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new QS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new JS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new QS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return XI(this._delegate,e._delegate)}}]),e}(),eN=function(e){kt(n,e);var t=Et(n);function n(e,r){var i;return pt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ht(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new GS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new GS(this.firestore,void 0===e?eI(this._delegate):eI(this._delegate,e))}catch(t){throw WS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=GE(e.firestore,oI),r=eI(e),i=yS(e.converter,t);return TS(n,[SI(II(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,wy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new GS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return tI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(HS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}($S);function tN(e){return GE(e,QE)}var nN=function(){function e(){pt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=It(vI,n)}return ht(e,[{key:"isEqual",value:function(e){return(e=tn(e))instanceof vI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Tv.keyField().canonicalString())}}]),e}(),rN=function(){function e(t){pt(this,e),this._delegate=t}return ht(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new CI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new NI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=AS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=OS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new AI("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),iN={Firestore:US,GeoPoint:gI,Timestamp:xv,Blob:LS,Transaction:BS,WriteBatch:zS,DocumentReference:GS,DocumentSnapshot:KS,Query:$S,QueryDocumentSnapshot:QS,QuerySnapshot:XS,CollectionReference:eN,FieldPath:nN,FieldValue:rN,setLogLevel:function(e){!function(e){Zp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ln("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},iN)))}(e,(function(e,t){return new US(e,t,new VS)})),e.registerVersion("@firebase/firestore-compat","0.1.16")}(yr);var aN={apiKey:"AIzaSyCT-Re7m9DYEkBZ2B0QK-f-LSeF58AZft0",authDomain:"galere-14c89.firebaseapp.com",projectId:"galere-14c89",storageBucket:"galere-14c89.appspot.com",messagingSenderId:"674093868586",appId:"1:674093868586:web:422957069521bbe104c553"},oN=ht((function e(){var t=this;pt(this,e),this.signupUser=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.loginUser=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.signoutUser=function(){return t.auth.signOut()},this.passwordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.user=function(e){return t.db.doc("users/".concat(e))},this.client=function(e){return t.db.doc("clients/".concat(e))},this.dossier=function(e){return t.db.doc("dossiers/".concat(e))},this.deleteDocument=function(e,n){return t.db.collection(e).doc(n).delete()},this.updateDocument=function(e,n,r){return t.db.collection(e).doc(n).update(r)},this.addDocument=function(e,n){return t.db.collection("dossiers").doc(e).set(n)},this.addDossier=function(e,n){return t.db.collection("dossiers").doc(e).set(n)},this.deleteDossier=function(e){return t.db.collection("dossiers").doc(e).delete()},this.addExo=function(e,n){return t.db.collection("exos").doc(e).set(n)},this.updateExo=function(e,n){return t.db.collection("exos").doc(e).update(n)},this.addClient=function(e,n){return t.db.collection("clients").doc(e).set(n)},this.deleteClient=function(e){return t.db.collection("clients").doc(e).delete()},this.addTarif=function(e,n){return t.db.collection("tarifs").doc(e).set(n)},this.listener=function(e){return t.db.collection(e)},this.getDocuments=function(){var e=dt(mt().mark((function e(n){var r,i,a,o,s,u;return mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.db.collection(n),e.next=3,r.get();case 3:i=e.sent,a=[],o=ct(i.docs);try{for(o.s();!(s=o.n()).done;)u=s.value,a.push(u.data())}catch(c){o.e(c)}finally{o.f()}return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yr.initializeApp(aN),console.log(yr),this.auth=yr.auth(),this.db=yr.firestore()})),sN=oN,uN="ADD_DOSSIER",cN="DELETE_DOSSIER",lN="UPDATE_DOSSIER",dN=(new sN,function(e){return console.log(e),{type:lN,payload:e}}),fN=n(523),hN=n.n(fN),pN=function(e,t){document.addEventListener("mousedown",(function(n){t.current&&t.current.contains(n.target)?e.current.classList.toggle("active"):e.current&&!e.current.contains(n.target)&&e.current.classList.remove("active")}))},vN=function(e){var n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=(0,t.useRef)(null);return pN(r,n),pN(i,n),(0,ve.jsxs)("div",{className:"menu",children:[(0,ve.jsxs)("button",{ref:n,className:"menu__toggle",style:{width:e.toggle_width&&e.toggle_width},children:[e.icon&&(0,ve.jsx)(hN(),{path:e.icon,title:e.title?e.title:"",size:e.size?e.size:.8,color:e.color&&e.color}),e.badge?(0,ve.jsx)("span",{className:"menu__toggle-badge",children:e.badge}):"",e.customtoggle?e.customtoggle():""]}),(0,ve.jsxs)("div",{style:e.content&&e.style,ref:r,className:"menu_content",children:[e.content&&e.render?e.content.map((function(t,n){return e.render(t,n)})):"",e.renderFooter?(0,ve.jsx)("div",{className:"menu__footer",children:e.renderFooter()}):""]}),(0,ve.jsx)("div",{style:e.view&&e.style,ref:i,className:"view_content",children:e.view&&e.view})]})},mN=function(e){var n=be((0,t.useState)(0),2),r=n[0],i=n[1],a=(0,ve.jsx)("div",{style:{display:"flex"},children:e.ongletHeaders&&e.ongletHeaders.map((function(t,n){return(0,ve.jsxs)("div",{className:r===n?" onglet-active":"onglet",style:{display:"flex",alignItems:"center"},onClick:function(){e.active&&e.active(t),function(e){i(e)}(n)},children:[t," ",e.icon&&e.icon]},n)}))});return(0,ve.jsxs)("div",{className:"container ",children:[(0,ve.jsxs)("div",{className:"header-onglets",children:[a,e.menu," "]}),(0,ve.jsx)("div",{className:"contenu-onglets ",children:e.ongletBody&&e.ongletBody[r]})]})},yN=function(e){var t=e.showAlert,n=e.children;return t?(0,ve.jsx)("div",{className:"alertBackground",children:(0,ve.jsx)("div",{className:"alertContainer",children:n})}):""},gN=function(e){var t=ut((function(e){return e.dossiers}));console.log(t);var n=e.dossier;e.index;return console.log("props",n),(0,ve.jsxs)("div",{className:"dossiers",children:[(0,ve.jsx)("section",{className:"header",children:(0,ve.jsx)("div",{className:"col-12",children:(0,ve.jsx)("h4",{children:"RECAPITULATIF"})})}),(0,ve.jsx)("div",{className:"trait"}),(0,ve.jsx)("section",{className:"body",children:(0,ve.jsxs)("table",{children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{children:"Numero"}),(0,ve.jsx)("th",{children:"Date"}),(0,ve.jsx)("th",{children:"Ref\xe9rence"}),(0,ve.jsx)("th",{children:"Exp\xe9diteur"}),(0,ve.jsx)("th",{children:"Destinataire"}),(0,ve.jsx)("th",{children:"Colis"}),(0,ve.jsx)("th",{children:"Designation"})]})}),(0,ve.jsx)("tbody",{children:t.map((function(e,t){return(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{children:e.numero}),(0,ve.jsx)("td",{children:De(e.date)}),(0,ve.jsx)("td",{children:e.reference}),(0,ve.jsx)("td",{children:e.expediteur}),(0,ve.jsx)("td",{children:e.destinataire}),(0,ve.jsx)("td",{children:e.quantite}),(0,ve.jsx)("td",{children:e.description})]})}))})]})})]})},kN=[{icon:He,content:"Nouveau",route:"/newDossier"},{icon:ze,content:"Modifier",route:"/dossiers"},{icon:Be,content:"Supprimer",route:"/dossiers"}],xN=function(e,t){return(0,ve.jsx)(fe,{to:e.route,children:(0,ve.jsxs)("div",{className:"item",style:{cursor:"pointer"},onClick:function(){return console.log(e.content)},children:[(0,ve.jsx)(hN(),{path:e.icon,size:.8,color:"var(--main-color)"}),(0,ve.jsx)("span",{children:e.content})]})},t)},bN=function(e,t){document.addEventListener("click",(function(n){t.current&&t.current.contains(n.target)||e.current&&!e.current.contains(n.target)&&(e.current.classList.remove("active"),document.getElementsByClassName("select").item(0)&&document.getElementsByClassName("select").item(0).classList.remove("select"))}))},wN={dossierIndex:"",itemIndex:""},_N=function(){var e=it(),n=be((0,t.useState)(!1),2),r=n[0],i=n[1],o=be((0,t.useState)(!1),2),s=o[0],u=o[1],c=be((0,t.useState)(!1),2),l=c[0],d=c[1],f=be((0,t.useState)(Ee),2),h=f[0],p=f[1],v=be((0,t.useState)(wN),2),m=v[0],y=v[1],g=be((0,t.useState)({}),2),k=g[0],x=g[1],b=be((0,t.useState)(Ie[0]),2),w=(b[0],b[1]),_=(0,t.useRef)(),E=(0,t.useRef)(),I=(0,t.useRef)(),S=(0,t.useRef)(null),N=(0,t.useRef)(null),T=(0,t.useRef)(null),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{poids:3},{poids:3},{poids:3},{poids:3}],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"poids";return e.reduce((function(e,n){return e+=parseInt(n[t])}),0)},j=(0,Oe.useReactToPrint)({content:function(){return E.current},documentTitle:"Minute"}),D=(0,Oe.useReactToPrint)({content:function(){return I.current},documentTitle:"Dossiers"}),A=ut((function(e){return e.dossiers}));console.log("dossier",h),bN(N,S),bN(T,S);var O=(0,ve.jsx)(vN,{icon:Ue,color:"white",size:.6,style:{display:"flex",flexDirection:"column",right:-10,marginTop:5,backgroundColor:"white"},content:kN,render:function(e,t){return xN(e,t)}}),R=(0,ve.jsx)(vN,{icon:qe,style:{display:"flex",flexDirection:"column",marginTop:5,backgroundColor:"white"},content:kN,render:function(e,t){return xN(e,t)}}),P=(0,ve.jsx)("div",{style:{display:"flex"},children:(0,ve.jsxs)("div",{className:" modele col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"col-12 ",children:[(0,ve.jsxs)("table",{className:"col-12 m_left",style:{display:"flex",flexDirection:"column",marginTop:15},children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsx)("th",{className:"col-1",children:"Num\xe9ro"}),(0,ve.jsx)("th",{className:"col-1",children:"Date"}),(0,ve.jsx)("th",{className:"col-2",children:"Ref\xe9rence"}),(0,ve.jsx)("th",{className:"col-2",children:"Exp\xe9diteur"}),(0,ve.jsx)("th",{className:"col-2",children:"Destinataire"}),(0,ve.jsx)("th",{className:"col-1",children:"Colis"}),(0,ve.jsx)("th",{className:"col-3",children:"Description"})]})}),(0,ve.jsx)("tbody",{style:{height:"35vh",overflowY:"auto"},ref:S,children:A.map((function(e,t){return(0,ve.jsxs)("tr",{className:m.dossierIndex===t?"modele_toggle col-12":"modele_toggle col-12 ",style:{display:"flex"},onDoubleClick:function(){console.log("dble Click",e)},onClick:function(){y((0,a.Z)((0,a.Z)({},m),{},{dossierIndex:t})),p(e),x({index:t,operation:k}),N.current.classList.add("active"),T.current.classList.add("active")},children:[(0,ve.jsx)("td",{className:"col-1 ".concat(m.dossierIndex===t&&"select"),children:e.numero}),(0,ve.jsx)("td",{className:"col-1 ".concat(m.dossierIndex===t&&"select"),children:De(e.date)}),(0,ve.jsx)("td",{className:"col-2 ".concat(m.dossierIndex===t&&"select"),children:e.reference}),(0,ve.jsx)("td",{className:"col-2 ".concat(m.dossierIndex===t&&"select"),children:e.expediteur}),(0,ve.jsx)("td",{className:"col-2 ".concat(m.dossierIndex===t&&"select"),children:e.destinataire}),(0,ve.jsx)("td",{className:"col-1 ".concat(m.dossierIndex===t&&"select"),children:"".concat(e.quantite," ").concat(e.type)}),(0,ve.jsxs)("td",{className:"col-3 ".concat(m.dossierIndex===t&&"select"),style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingInline:5},children:[e.description?e.description:"-",m.dossierIndex===t&&(0,ve.jsx)(vN,{style:{display:"flex",backgroundColor:"white",alignSelf:"center"},icon:Ue,size:.5,color:"white",title:"Options",content:[{content:"Aper\xe7u",route:""},{content:"T1",route:"/t1"},{content:"Minute",route:"/minute"},{content:"D\xe9claration",route:"/ddu"},{content:"Editer",route:"/newDossier"},{content:"Supprimer",route:"/dossiers"}],render:function(e,t){return function(e,t){return(0,ve.jsx)("div",{className:"",style:{margin:"5px 0"},onClick:function(){i(!0),document.getElementsByClassName("menu_content active")[0].classList.remove("active")},children:(0,ve.jsx)(fe,{to:"".concat(e.route,"/").concat(JSON.stringify(m)),children:(0,ve.jsx)("span",{className:"option-item",children:e.content})})},t)}(e,t)}})]})]},t)}))})]}),(0,ve.jsxs)("div",{ref:T,className:"",style:{marginTop:15,height:"25vh",overflowY:"auto"},children:[h.t1.length>0&&(0,ve.jsxs)("fieldset",{className:"listing",children:[(0,ve.jsx)("legend",{children:"T1"}),(0,ve.jsxs)("table",{className:"col-12 m_left",children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{className:"col-1",children:"Ref\xe9rence"}),(0,ve.jsx)("th",{className:"col-2",children:"Num\xe9ro Trans."}),(0,ve.jsx)("th",{className:"col-2",children:"Camion"}),(0,ve.jsx)("th",{className:"col-2",children:"B. Fronti\xe8re"}),(0,ve.jsx)("th",{className:"col-2",children:"B. Destination"}),(0,ve.jsx)("th",{className:"col-2",children:"Quantit\xe9"}),(0,ve.jsx)("th",{className:"col-2",children:"Poids"}),(0,ve.jsx)("th",{className:"col-2",children:"Position"}),(0,ve.jsx)("th",{className:"",children:"..."})]})}),(0,ve.jsx)("tbody",{children:h.t1.map((function(e,t){return(0,ve.jsxs)("tr",{onClick:function(){y((0,a.Z)((0,a.Z)({},m),{},{itemIndex:t}))},children:[(0,ve.jsx)("td",{className:"col-1",children:e.reference}),(0,ve.jsx)("td",{className:"col-2",children:"".concat(e.numero," du ").concat(De(e.date))}),(0,ve.jsx)("td",{className:"col-2",children:e.camion}),(0,ve.jsx)("td",{className:"col-2",children:e.burEntree}),(0,ve.jsx)("td",{className:"col-2",children:e.burDestination}),(0,ve.jsx)("td",{className:"col-2",children:e.quantite}),(0,ve.jsx)("td",{className:"col-2",children:e.poids}),(0,ve.jsx)("td",{className:"col-2",children:e.position}),(0,ve.jsx)("td",{className:"",style:{border:0},children:m.itemIndex===t&&(0,ve.jsx)(vN,{style:{display:"flex",backgroundColor:"white",marginTop:10},icon:Ue,size:.5,color:"white",title:"Options",content:[{content:"Editer",route:"/t1"},{content:"Supprimer",route:""}],render:function(e,t){return function(e,t){return(0,ve.jsx)("div",{className:"option",style:{margin:"5px 0"},onClick:function(){i(!0),document.getElementsByClassName("menu_content active")[0].classList.remove("active")},children:e.route?(0,ve.jsx)(fe,{to:"".concat(e.route,"/").concat(JSON.stringify(m)),children:(0,ve.jsx)("span",{className:"option-item",children:e.content})}):(0,ve.jsx)("span",{className:"option-item",children:e.content})},t)}(e,t)}})})]},t)}))}),(0,ve.jsx)("tfoot",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{className:"col-7"}),(0,ve.jsx)("td",{className:"col-2",children:"Total"}),(0,ve.jsx)("td",{className:"col-2",children:C(h.t1,"quantite")}),(0,ve.jsx)("td",{className:"col-2",children:C(h.t1,"poids")}),(0,ve.jsx)("td",{className:"col-2"}),(0,ve.jsx)("td",{className:"",children:"..."})]})})]})]}),h.minute.length>0&&(0,ve.jsxs)("fieldset",{className:"listing",children:[(0,ve.jsx)("legend",{children:"Minutes"}),(0,ve.jsxs)("table",{className:"col-12 m_left",children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{className:"col-1",children:"R\xe9p"}),(0,ve.jsx)("th",{className:"col-2",children:"T1"}),(0,ve.jsx)("th",{className:"col-2",children:"Regime"}),(0,ve.jsx)("th",{className:"col-2",children:"Exo"}),(0,ve.jsx)("th",{className:"col-2",children:"Val. Douane"}),(0,ve.jsx)("th",{className:"col-2",children:"Val. Droits"}),(0,ve.jsx)("th",{className:"col-2",children:"Taxes G."}),(0,ve.jsx)("th",{className:"col-2",children:"Total D\xe9cl."})]})}),(0,ve.jsx)("tbody",{children:h.minute.map((function(e,t){return(0,ve.jsxs)("tr",{onClick:function(){y((0,a.Z)((0,a.Z)({},m),{},{itemIndex:t}))},onDoubleClick:function(){u(!0),console.log("Double Click",e)},children:[(0,ve.jsx)("td",{className:"col-1",children:e.repertoire}),(0,ve.jsx)("td",{className:"col-2",children:e.t1}),(0,ve.jsx)("td",{className:"col-2",children:e.regime}),(0,ve.jsx)("td",{className:"col-2",children:e.exo}),(0,ve.jsx)("td",{className:"col-2",children:parseInt(e.fob)+parseInt(e.fret)+parseInt(e.assurance)+parseInt(e.autres)}),(0,ve.jsx)("td",{className:"col-2",children:"Val Droits"}),(0,ve.jsx)("td",{className:"col-2",children:parseInt(e.chemise)+parseInt(e.ri)+parseInt(e.scanner)}),(0,ve.jsx)("td",{className:"col-2",children:e.total}),(0,ve.jsx)("td",{className:"",style:{border:0},children:m.itemIndex===t&&(0,ve.jsx)(vN,{style:{display:"flex",marginTop:10},icon:Ue,size:.5,color:"white",title:"Options",content:[{content:"Editer",route:"/minute"},{content:"Supprimer",route:""}],render:function(e,t){return function(e,t){return(0,ve.jsx)("div",{className:"option",style:{margin:"5px 0"},onClick:function(){i(!0),document.getElementsByClassName("menu_content active")[0].classList.remove("active")},children:e.route?(0,ve.jsx)(fe,{to:"".concat(e.route,"/").concat(JSON.stringify(m)),children:(0,ve.jsx)("span",{className:"option-item",children:e.content})}):(0,ve.jsx)("span",{className:"option-item",children:e.content})},t)}(e,t)}})})]},t)}))}),(0,ve.jsx)("tfoot",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{className:"col-7"}),(0,ve.jsx)("td",{className:"col-2",children:"Total"}),(0,ve.jsx)("td",{className:"col-2",children:C(h.minute,"quantite")}),(0,ve.jsx)("td",{className:"col-2",children:C(h.minute,"poids")}),(0,ve.jsx)("td",{className:"col-2",children:C(h.minute,"poids")})]})})]})]}),h.declaration.length>0&&(0,ve.jsxs)("fieldset",{children:[(0,ve.jsx)("legend",{children:"D\xe9clarations"}),(0,ve.jsxs)("table",{className:"col-12 m_left",children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{className:"col-2",children:"Bureau"}),(0,ve.jsx)("th",{className:"col-2",children:"R\xe9f Douane"}),(0,ve.jsx)("th",{className:"col-2",children:"Valeur Stat."}),(0,ve.jsx)("th",{className:"col-2",children:"Montant Impos."}),(0,ve.jsx)("th",{className:"col-2",children:"Taxes G."}),(0,ve.jsx)("th",{className:"col-2",children:"Total D\xe9cl."}),(0,ve.jsx)("th",{className:"col-2",children:"N\xb0 Liquidation"}),(0,ve.jsx)("th",{className:"col-2",children:"N\xb0 Quittance"}),(0,ve.jsx)("th",{className:"col-2",children:"..."})]})}),(0,ve.jsx)("tbody",{children:h.declaration.map((function(e,t){return(0,ve.jsxs)("tr",{onClick:function(){y((0,a.Z)((0,a.Z)({},m),{},{itemIndex:t}))},children:[(0,ve.jsx)("td",{className:"col-2",children:e.bureau}),(0,ve.jsx)("td",{className:"col-2",children:"".concat(e.reference," du ").concat(e.reference)}),(0,ve.jsx)("td",{className:"col-2",children:"Valeur Stat."}),(0,ve.jsx)("td",{className:"col-2",children:"Montant Impos."}),(0,ve.jsx)("td",{className:"col-2",children:"Taxes G."}),(0,ve.jsx)("td",{className:"col-2",children:"Total D\xe9cl."}),(0,ve.jsx)("td",{className:"col-2",children:"Liquidation"}),(0,ve.jsx)("td",{className:"col-2",children:"Quittance"}),(0,ve.jsx)("td",{className:"",style:{border:0},children:m.itemIndex===t&&(0,ve.jsx)(vN,{style:{display:"flex",marginTop:10},icon:Ue,size:.5,color:"white",title:"Options",content:[{content:"Editer",route:"/ddu"},{content:"Supprimer",route:""}],render:function(e,t){return function(e,t){return(0,ve.jsx)("div",{className:"option",style:{margin:"5px 0"},onClick:function(){i(!0),document.getElementsByClassName("menu_content active")[0].classList.remove("active")},children:e.route?(0,ve.jsx)(fe,{to:"".concat(e.route,"/").concat(JSON.stringify(m)),children:(0,ve.jsx)("span",{className:"option-item",children:e.content})}):(0,ve.jsx)("span",{className:"option-item",children:e.content})},t)}(e,t)}})})]},t)}))}),(0,ve.jsx)("tfoot",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{className:"col-7"}),(0,ve.jsx)("td",{className:"col-2",children:"Total"}),(0,ve.jsx)("td",{className:"col-2",children:"Total"}),(0,ve.jsx)("td",{className:"col-2",children:"Total"}),(0,ve.jsx)("td",{className:"",children:"..."})]})})]})]})]})]}),(0,ve.jsx)("div",{ref:N,className:"col-2 ",children:(0,ve.jsxs)("table",{className:"col-12 ",style:{marginTop:14},children:[(0,ve.jsx)("thead",{className:"col-12",children:(0,ve.jsx)("tr",{children:(0,ve.jsx)("th",{className:"col-12",children:"D\xe9tails"})})}),(0,ve.jsxs)("tbody",{className:"col-12",children:[(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column",marginTop:3},children:[" ",(0,ve.jsx)("span",{children:"BL/LTA"})," ",(0,ve.jsx)("span",{children:A[m.dossierIndex]&&A[m.dossierIndex].document})," "]})}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Transport"})," ",(0,ve.jsx)("span",{children:A[m.dossierIndex]&&A[m.dossierIndex].mode})," "]})}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"D\xe9part"})," ",(0,ve.jsx)("span",{children:A[m.dossierIndex]&&De(A[m.dossierIndex].depart)})," "]})}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Arriv\xe9e"})," ",(0,ve.jsx)("span",{children:A[m.dossierIndex]&&De(A[m.dossierIndex].arrivee)})," "]})}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Origine"})," ",(0,ve.jsx)("span",{children:A[m.dossierIndex]&&A[m.dossierIndex].origine})," "]})}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Provenance"})," ",(0,ve.jsx)("span",{children:A[m.dossierIndex]&&A[m.dossierIndex].provenance})," "]})}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Status"})," ",(0,ve.jsx)("span",{children:A[m.dossierIndex]&&A[m.dossierIndex].status})," "]})})]})]})})]})});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsx)("h4",{children:"Dossiers"})})}),(0,ve.jsx)("div",{className:"card",children:(0,ve.jsx)(mN,{icon:O,menu:R,active:w,ongletHeaders:Ie,ongletBody:[P,P,P,P,P]})}),(0,ve.jsxs)(yN,{showAlert:r,setAlert:i,children:[(0,ve.jsx)("div",{className:"alertHeader",children:"Alerte - Supression !!!"}),(0,ve.jsx)("div",{className:"alertBody ",children:"Etes-vous s\xfbr de vouloir continuer? "}),(0,ve.jsxs)("div",{className:"alertFooter",children:[(0,ve.jsx)("button",{className:"alertBtn",onClick:function(){var t;e((t=A[m.dossierIndex].numero,{type:cN,payload:t})),i(!1)},children:"Oui"}),(0,ve.jsx)("button",{className:"alertBtn",onClick:function(){i(!1)},children:"Non"})]})]}),(0,ve.jsxs)(Ae,{showPrint:s,setPrint:u,children:[(0,ve.jsx)("div",{className:"printHeader",children:"Aper\xe7u"}),(0,ve.jsx)("div",{ref:E,className:"printBody ",children:(0,ve.jsx)(Me,{dossier:A[m.dossierIndex],index:m.itemIndex,ref:_})}),(0,ve.jsxs)("div",{className:"printFooter",children:[(0,ve.jsx)("button",{className:"printBtn",onClick:function(){j()},children:"Imprimer"}),(0,ve.jsx)("button",{className:"printBtn",onClick:function(){u(!1)},children:"Annuler"})]})]}),(0,ve.jsxs)(Ae,{showPrint:l,setPrint:d,children:[(0,ve.jsx)("div",{className:"printHeader",children:"Aper\xe7u  "}),(0,ve.jsx)("div",{ref:I,className:"printBody ",children:(0,ve.jsx)(gN,{})}),(0,ve.jsxs)("div",{className:"printFooter",children:[(0,ve.jsx)("button",{className:"printBtn",onClick:function(){D(),d(!1)},children:"Imprimer"}),(0,ve.jsx)("button",{className:"printBtn",onClick:function(){d(!1)},children:"Annuler"})]})]}),(0,ve.jsx)("div",{onClick:function(){return d(!0)},style:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",right:25,bottom:25,backgroundColor:"var(--main-color)",color:"white",borderRadius:"50%",width:25,height:25},children:"hi"})]})},EN=["Achat","Vente","Tr\xe9sorerie","Diverse"],IN=["Dossier","Minutes","Exon\xe9rations","Clients","Autres"],SN=function(){var e,n,r=be((0,t.useState)(!1),2),i=r[0],a=r[1],o=be((0,t.useState)([]),2),s=o[0],u=o[1],c=be((0,t.useState)({}),2),l=c[0],d=c[1],f=be((0,t.useState)(EN[0]),2),h=f[0],p=f[1],v=ut((function(e){return e.modele.modeles})),m=(0,t.useRef)(null),y=(0,t.useRef)(null);e=y,n=m,document.addEventListener("click",(function(t){n.current&&n.current.contains(t.target)||e.current&&!e.current.contains(t.target)&&(e.current.classList.remove("active"),document.getElementsByClassName("select").item(0)&&document.getElementsByClassName("select").item(0).classList.remove("select"))})),console.log(s,v,h);var g=(0,ve.jsxs)("div",{style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:" modele col-12",style:{display:"flex"},children:[(0,ve.jsx)("div",{className:"col-7 ",children:(0,ve.jsxs)("table",{className:"col-12 m_left",style:{display:"flex",justifyContent:"space-between",flexDirection:"column",fontSize:12,marginTop:15},children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsx)("th",{className:"col-1",children:"#"}),(0,ve.jsx)("th",{className:"col-6",children:"Mod\xe8les"}),(0,ve.jsx)("th",{className:"col-5",children:"Commentaires"})]})}),(0,ve.jsx)("tbody",{style:{height:"65vh",overflowY:"auto"},ref:m,children:v.map((function(e,t){return(0,ve.jsxs)("tr",{className:l.index===t?"modele_toggle col-12":"modele_toggle col-12 ",style:{display:"flex"},onClick:function(){console.log("modele",e),d({index:t,operation:l}),u(e.operation),y.current.classList.add("active")},children:[(0,ve.jsx)("td",{className:"col-1 ".concat(l.index===t&&"select"),children:t+1}),(0,ve.jsx)("td",{className:"col-6 ".concat(l.index===t&&"select"),children:e.intitule}),(0,ve.jsxs)("td",{className:"col-5 ".concat(l.index===t&&"select"),style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingInline:10},children:[e.commentaires," ",l.index===t&&(0,ve.jsx)(vN,{style:{display:"flex",backgroundColor:"white",right:-10,alignSelf:"center"},icon:Ue,size:.5,color:"white",title:"Options",content:["Dupliquer","Modifier","Supprimer"],render:function(e,t){return function(e,t){return(0,ve.jsx)("div",{className:"option",onClick:function(t){console.log(e),document.getElementsByClassName("menu_content active")[0].classList.remove("active")},children:(0,ve.jsx)("span",{className:"option-item",children:e})},t)}(e,t)}})]})]},t)}))})]})}),(0,ve.jsx)("div",{ref:y,className:"content  col-5 ",children:(0,ve.jsxs)("table",{className:"col-12 m_right",children:[(0,ve.jsx)("thead",{className:"col-12",children:(0,ve.jsxs)("tr",{style:{display:"flex"},children:[(0,ve.jsx)("th",{className:"col-3",children:"Mouvement"}),(0,ve.jsx)("th",{className:"col-2",children:"Compte"}),(0,ve.jsx)("th",{className:"col-7",children:"Libell\xe9"})]})}),(0,ve.jsx)("tbody",{className:"col-12",children:s.map((function(e,t){return(0,ve.jsxs)("tr",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsx)("td",{className:"col-3",children:e.type}),(0,ve.jsx)("td",{className:"col-2",children:e.compte}),(0,ve.jsx)("td",{className:"col-7",children:e.libelle})]},t)}))})]})})]}),(0,ve.jsx)("div",{className:"content_journal   col-1 ",children:(0,ve.jsxs)("table",{className:"col-12 m_right",children:[(0,ve.jsx)("thead",{className:"",style:{fontSize:"0.9rem"},children:(0,ve.jsx)("tr",{style:{backgroundColor:"var(--main-color)",color:"white"},children:(0,ve.jsx)("th",{className:"col-12",style:{borderRadius:5,border:"1px solid var(--main-color)"},children:"Journal"})})}),(0,ve.jsx)("tbody",{children:EN.map((function(e,t){return(0,ve.jsx)("tr",{onClick:function(){return console.log(e)},children:(0,ve.jsx)("td",{className:"col-12",style:{textAlign:"center",fontSize:"0.8rem",paddingInline:5,borderRadius:5,border:"1px solid var(--main-color)",marginTop:15},children:e})},t)}))})]})})]}),k=function(e,t){return(0,ve.jsxs)("div",{className:"item",children:[(0,ve.jsx)(hN(),{path:e.icon,size:.8}),(0,ve.jsx)("span",{children:e.content})]},t)},x=[{icon:Le,content:"Profile"},{icon:We,content:"Param\xe8tre"},{icon:Fe,content:"D\xe9connexion"}],b=(0,ve.jsx)(vN,{icon:Ue,color:"white",size:.6,style:{display:"flex",flexDirection:"column",right:-10,marginTop:5,backgroundColor:"white"},content:x,render:function(e,t){return k(e,t)}}),w=(0,ve.jsx)(vN,{icon:qe,style:{display:"flex",flexDirection:"column",marginTop:5,backgroundColor:"red"},content:x,render:function(e,t){return k(e,t)}});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-12",children:(0,ve.jsxs)("div",{className:"page-header-item col-12",style:{display:"flex",justifyContent:"space-between"},children:[(0,ve.jsx)("h4",{children:"Transit"}),(0,ve.jsx)("button",{className:"modalBtn",onClick:function(){console.log("Mdel",i),a(!0)},children:(0,ve.jsx)("i",{className:" bx bx-list-plus",style:{fontSize:24}})})]})}),(0,ve.jsx)("div",{className:"card",children:(0,ve.jsx)(mN,{active:p,ongletHeaders:[].concat(IN,[(0,ve.jsx)(hN(),{path:Ge,size:.6,title:"Nouveau"})]),ongletBody:[g,g,g],icon:b,Menu:w})})]})},NN=[{icon:He,content:"Nouveau",route:"/newExo"},{icon:ze,content:"Modifier",route:"/dossiers"},{icon:Be,content:"Supprimer",route:"/dossiers"}],TN=function(e,t){return(0,ve.jsx)(fe,{to:e.route,children:(0,ve.jsxs)("div",{className:"item",style:{cursor:"pointer"},onClick:function(){return console.log(e.content)},children:[(0,ve.jsx)(hN(),{path:e.icon,size:.8,color:"var(--main-color)"}),(0,ve.jsx)("span",{children:e.content})]})},t)},CN=function(){var e=be((0,t.useState)(0),2),n=e[0],r=e[1],i=be((0,t.useState)(null),2),a=i[0],o=i[1],s=be((0,t.useState)(Ie[0]),2),u=s[0],c=s[1],l=(0,t.useRef)(null),d=(0,t.useRef)(null),f=ut((function(e){return e.exos})),h=function(e){return f.filter((function(t){return t.numero===e}))[0].details.reduce((function(e,t){return console.log(e),e={quantite:e.quantite+parseInt(t.quantite),poids:e.poids+parseInt(t.poids)}}),{quantite:0,poids:0})};console.log("initial",h("1699"));var p,v,m=ut((function(e){return e.dossiers}));console.log(m),p=d,v=l,document.addEventListener("click",(function(e){v.current&&v.current.contains(e.target)||p.current&&!p.current.contains(e.target)&&(p.current.classList.remove("active"),document.getElementsByClassName("select").item(0)&&document.getElementsByClassName("select").item(0).classList.remove("select"))}));var y=(0,ve.jsx)(vN,{icon:Ue,color:"white",size:.6,style:{display:"flex",flexDirection:"column",right:-10,marginTop:5,backgroundColor:"white"},content:NN,render:function(e,t){return TN(e,t)}}),g=(0,ve.jsx)(vN,{icon:qe,style:{display:"flex",flexDirection:"column",marginTop:5,backgroundColor:"white"},content:NN,render:function(e,t){return TN(e,t)}});console.log(u);var k=(0,ve.jsx)("div",{style:{display:"flex"},children:(0,ve.jsxs)("div",{className:" modele col-12",style:{display:"flex"},children:[(0,ve.jsx)("div",{className:"col-12 ",children:(0,ve.jsxs)("table",{className:"col-12 m_left",style:{display:"flex",justifyContent:"space-between",flexDirection:"column",fontSize:12,marginTop:15},children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsx)("th",{className:"col-1",children:"Num\xe9ro"}),(0,ve.jsx)("th",{className:"col-1",children:"Emission"}),(0,ve.jsx)("th",{className:"col-1",children:"Expiration"}),(0,ve.jsx)("th",{className:"col-2",children:"Importateur"}),(0,ve.jsx)("th",{className:"col-2",children:"B\xe9n\xe9ficiaire"}),(0,ve.jsx)("th",{className:"col-2",children:"Lieu d'util."}),(0,ve.jsx)("th",{className:"col-2",children:"Bureau douane"}),(0,ve.jsx)("th",{className:"col-1",children:"Autres"})]})}),(0,ve.jsx)("tbody",{style:{height:"65vh",overflowY:"auto"},ref:l,children:f.map((function(e,t){return(0,ve.jsxs)("tr",{className:n===t?"modele_toggle col-12":"modele_toggle col-12 ",style:{display:"flex"},onClick:function(){r(t),o(e.numero),d.current.classList.add("active")},children:[(0,ve.jsx)("td",{className:"col-1 ".concat(n===t&&"select"),children:e.numero}),(0,ve.jsx)("td",{className:"col-1 ".concat(n===t&&"select"),children:De(e.emission)}),(0,ve.jsx)("td",{className:"col-1 ".concat(n===t&&"select"),children:De(e.expiration)}),(0,ve.jsx)("td",{className:"col-2 ".concat(n===t&&"select"),children:e.importateur}),(0,ve.jsx)("td",{className:"col-2 ".concat(n===t&&"select"),children:e.beneficiaire}),(0,ve.jsx)("td",{className:"col-2 ".concat(n===t&&"select"),children:e.lieu}),(0,ve.jsx)("td",{className:"col-2 ".concat(n===t&&"select"),children:e.bureau}),(0,ve.jsxs)("td",{className:"col-1 ".concat(n===t&&"select"),style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingInline:5},children:[e.commentaires?e.commentaires:"-",n===t&&(0,ve.jsx)(vN,{style:{display:"flex",backgroundColor:"white",right:-5,alignSelf:"center"},icon:Ue,size:.5,color:"white",title:"Options",content:[{content:"Aper\xe7u",route:""},{content:"Editer",route:"/newExo"},{content:"Supprimer",route:""}],render:function(e,t){return function(e,t){return(0,ve.jsx)(fe,{to:"".concat(e.route,"/").concat(n),children:(0,ve.jsx)("div",{className:"option",onClick:function(t){console.log(e),document.getElementsByClassName("menu_content active")[0].classList.remove("active")},children:(0,ve.jsx)("span",{className:"option-item",children:e.content})},t)},t)}(e,t)}})]})]},t)}))})]})}),(0,ve.jsx)("div",{ref:d,className:"content  col-2 ",children:(0,ve.jsxs)("table",{className:"col-12 m_right",children:[(0,ve.jsx)("thead",{className:"col-12",children:(0,ve.jsx)("tr",{style:{display:"flex"},children:(0,ve.jsx)("th",{className:"col-12",children:"D\xe9tails"})})}),(0,ve.jsxs)("tbody",{className:"col-12",children:[(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Initial"})," "]})}),(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-6",children:"Quantit\xe9"}),(0,ve.jsx)("td",{className:"col-6",children:"Poids"})]}),(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-6",style:{backgroundColor:"white",color:"var(--main-color)"},children:a&&h(a)&&h(a).quantite}),(0,ve.jsx)("td",{style:{backgroundColor:"white",color:"var(--main-color)"},className:"col-6",children:a&&h(a)&&h(a).poids})]}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Imputations"})," "]})}),(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-6",style:{backgroundColor:"white",color:"var(--main-color)"},children:"10000"}),(0,ve.jsx)("td",{style:{backgroundColor:"white",color:"var(--main-color)"},className:"col-6",children:"20000"})]}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Solde"})," "]})}),(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-6",style:{backgroundColor:"white",color:"var(--main-color)"},children:"10000"}),(0,ve.jsx)("td",{style:{backgroundColor:"white",color:"var(--main-color)"},className:"col-6",children:"20000"})]})]})]})})]})});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsx)("h4",{children:"Exon\xe9rations"})})}),(0,ve.jsx)("div",{className:"card",children:(0,ve.jsx)(mN,{icon:y,menu:g,active:c,ongletHeaders:["Active","Prorog\xe9e","Expir\xe9e"],ongletBody:[k,k,k,,]})})]})},jN="ADD_CLIENT",DN="DELETE_CLIENT",AN="UPDATE_CLIENT",ON=[{icon:He,content:"Nouveau",route:"/newClient"},{icon:ze,content:"Modifier",route:"/client"},{icon:Be,content:"Supprimer",route:"/client"}],RN=function(e,t){return(0,ve.jsx)(fe,{to:e.route,children:(0,ve.jsxs)("div",{className:"item",style:{cursor:"pointer"},onClick:function(){return console.log(e.content)},children:[(0,ve.jsx)(hN(),{path:e.icon,size:.8,color:"var(--main-color)"}),(0,ve.jsx)("span",{children:e.content})]})},t)},PN=function(){var e,n,r=it(),i=be((0,t.useState)(0),2),a=i[0],o=i[1],s=be((0,t.useState)(!1),2),u=s[0],c=s[1],l=be((0,t.useState)(null),2),d=(l[0],l[1]),f=be((0,t.useState)(Ie[0]),2),h=f[0],p=f[1],v=(0,t.useRef)(null),m=(0,t.useRef)(null),y=ut((function(e){return e.clients})),g=[{content:"Aper\xe7u",route:"/client"},{content:"Editer",route:"/newClient"},{content:"Supprimer",route:"/client"}];console.log(y),e=m,n=v,document.addEventListener("click",(function(t){n.current&&n.current.contains(t.target)||e.current&&!e.current.contains(t.target)&&(e.current.classList.remove("active"),document.getElementsByClassName("select").item(0)&&document.getElementsByClassName("select").item(0).classList.remove("select"))}));var k=(0,ve.jsx)(vN,{icon:Ue,color:"white",size:.6,style:{display:"flex",flexDirection:"column",right:-10,marginTop:5,backgroundColor:"white"},content:ON,render:function(e,t){return RN(e,t)}}),x=(0,ve.jsx)(vN,{icon:qe,style:{display:"flex",flexDirection:"column",marginTop:5,backgroundColor:"white"},content:ON,render:function(e,t){return RN(e,t)}});console.log(h);var b=(0,ve.jsx)("div",{style:{display:"flex"},children:(0,ve.jsxs)("div",{className:" modele col-12",style:{display:"flex"},children:[(0,ve.jsx)("div",{className:"col-12 ",children:(0,ve.jsxs)("table",{className:"col-12 m_left",style:{display:"flex",justifyContent:"space-between",flexDirection:"column",fontSize:12,marginTop:15},children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsx)("th",{className:"col-1",children:"NIF"}),(0,ve.jsx)("th",{className:"col-3",children:"Nom, Raison sociale"}),(0,ve.jsx)("th",{className:"col-2",children:"T\xe9l\xe9phone"}),(0,ve.jsx)("th",{className:"col-1",children:"BP"}),(0,ve.jsx)("th",{className:"col-3",children:"Adresse"}),(0,ve.jsx)("th",{className:"col-1",children:"Exon\xe9r\xe9"}),(0,ve.jsx)("th",{className:"col-1",children:"N\xb0 Tiers"}),(0,ve.jsx)("th",{className:"",children:"..."})]})}),(0,ve.jsx)("tbody",{style:{height:"65vh",overflowY:"auto"},ref:v,children:y.map((function(e,t){return(0,ve.jsxs)("tr",{className:a===t?"modele_toggle col-12":"modele_toggle col-12 ",style:{display:"flex"},onClick:function(){o(t),d(e.nif),m.current.classList.add("active")},children:[(0,ve.jsx)("td",{className:"col-1 ".concat(a===t&&"select"),children:e.nif}),(0,ve.jsx)("td",{className:"col-3 ".concat(a===t&&"select"),children:e.nom}),(0,ve.jsx)("td",{className:"col-2 ".concat(a===t&&"select"),children:e.tel}),(0,ve.jsx)("td",{className:"col-1 ".concat(a===t&&"select"),children:e.bp}),(0,ve.jsx)("td",{className:"col-3 ".concat(a===t&&"select"),children:e.adresse}),(0,ve.jsx)("td",{className:"col-1 ".concat(a===t&&"select"),children:e.exo?"Oui":"Non"}),(0,ve.jsx)("td",{className:"col-1 ".concat(a===t&&"select"),children:e.compte}),(0,ve.jsx)("td",{className:" ".concat(a===t&&"select"),children:a===t&&(0,ve.jsx)(vN,{style:{display:"flex",backgroundColor:"white",right:-5,alignSelf:"center"},icon:Ue,size:.5,color:"white",title:"Options",content:g,render:function(e,t){return function(e,t){return(0,ve.jsx)("div",{className:"option",onClick:function(t){console.log(e),c(!0),document.getElementsByClassName("menu_content active")[0].classList.remove("active")},children:(0,ve.jsx)(fe,{to:"".concat(e.route,"/").concat(a),children:(0,ve.jsx)("span",{className:"option-item",children:e.content})},t)},t)}(e,t)}})})]},t)}))})]})}),(0,ve.jsx)("div",{ref:m,className:"content  col-2 ",children:(0,ve.jsxs)("table",{className:"col-12 m_right",children:[(0,ve.jsx)("thead",{className:"col-12",children:(0,ve.jsx)("tr",{style:{display:"flex"},children:(0,ve.jsx)("th",{className:"col-12",children:"D\xe9tails"})})}),(0,ve.jsxs)("tbody",{className:"col-12",children:[(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Initial"})," "]})}),(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-6",children:"Quantit\xe9"}),(0,ve.jsx)("td",{className:"col-6",children:"Poids"})]}),(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-6",style:{backgroundColor:"white",color:"var(--main-color)"}}),(0,ve.jsx)("td",{style:{backgroundColor:"white",color:"var(--main-color)"},className:"col-6"})]}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Imputations"})," "]})}),(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-6",style:{backgroundColor:"white",color:"var(--main-color)"},children:"10000"}),(0,ve.jsx)("td",{style:{backgroundColor:"white",color:"var(--main-color)"},className:"col-6",children:"20000"})]}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Solde"})," "]})}),(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-6",style:{backgroundColor:"white",color:"var(--main-color)"},children:"10000"}),(0,ve.jsx)("td",{style:{backgroundColor:"white",color:"var(--main-color)"},className:"col-6",children:"20000"})]})]})]})})]})});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsx)("h4",{children:"Clients"})})}),(0,ve.jsx)("div",{className:"card",children:(0,ve.jsx)(mN,{icon:k,menu:x,active:p,ongletHeaders:["Importateurs","Exportateurs","+"],ongletBody:[b,b,b,,]})}),(0,ve.jsxs)(yN,{showAlert:u,setAlert:c,children:[(0,ve.jsx)("div",{className:"alertHeader",children:"Alerte - Supression !!!"}),(0,ve.jsx)("div",{className:"alertBody ",children:"Etes-vous s\xfbr de vouloir continuer? "}),(0,ve.jsxs)("div",{className:"alertFooter",children:[(0,ve.jsx)("button",{className:"alertBtn",onClick:function(){var e;console.log("Oui"),console.log(y[a]),r((e=y[a].nif,{type:DN,payload:e})),c(!1)},children:"Oui"}),(0,ve.jsx)("button",{className:"alertBtn",onClick:function(){c(!1)},children:"Non"})]})]})]})},MN=function(e){var n,r,i=(0,t.useRef)(null),a=(0,t.useRef)(null);n=a,r=i,document.addEventListener("mousedown",(function(e){r.current&&r.current.contains(e.target)?n.current.classList.toggle("active"):n.current&&!n.current.contains(e.target)&&n.current.classList.remove("active")}));var o=be((0,t.useState)(!1),2),s=o[0],u=o[1];return(0,ve.jsxs)("div",{className:"listing",style:{marginTop:4},children:[(0,ve.jsx)(hN(),{ref:i,style:{borderRadius:"5px",marginLeft:-25},path:e.icon?e.icon:Ve,size:.8}),(0,ve.jsx)("div",{ref:a,className:"listing-item ",onClick:function(){return u(!s)},children:e.content&&e.content.map((function(t,n){return e.render(t,n)}))})]})},LN=function(e){console.log(e.location.pathname.match(/(\d+)/));var n=it(),r=ut((function(e){return e.dossiers})),i=ut((function(e){return e.clients})),o=i.map((function(e){return e.nom})),s=be((0,t.useState)(Ee),2),u=s[0],c=s[1],l=function(e){c((0,a.Z)((0,a.Z)({},u),{},(0,yt.Z)({},e.target.id,e.target.value)))},d=e.location.pathname.match(/(\d+)/);console.log(r[parseInt(d)]),console.log(u),(0,t.useEffect)((function(){d&&r[parseInt(d)]&&c((0,a.Z)({},r[parseInt(d)]))}),[]);var f=(0,ve.jsxs)("div",{className:"dossier__form",children:[(0,ve.jsxs)("fieldset",{children:[(0,ve.jsx)("legend",{children:"Infos Commande"}),!d&&(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"numero",value:u.numero,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"numero",children:"Num\xe9ro"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"date",value:u.date,type:"date",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"date",children:"Date"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"reference",value:u.reference,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"reference",children:"Ref\xe9rence"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"destinataire",value:u.destinataire,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"destinataire",children:"Destinataire"}),(0,ve.jsx)(MN,{content:o,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e),console.log("client",i[t]),c((0,a.Z)((0,a.Z)({},u),{},{destinataire:e,client:i[t]}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"expediteur",value:u.expediteur,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"expediteur",children:"Exp\xe9diteur"})]})]}),(0,ve.jsxs)("fieldset",{children:[(0,ve.jsx)("legend",{children:"Document d'exp\xe9dition"}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"document",value:u.document,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"document",children:"Document"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"depart",value:u.depart,type:"date",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"depart",children:"D\xe9part"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"arrivee",value:u.arrivee,type:"date",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"arrivee",children:"Arriv\xe9e"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"mode",value:u.mode,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"mode",children:"Mode"}),(0,ve.jsx)(MN,{content:Se,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e),c((0,a.Z)((0,a.Z)({},u),{},{mode:e}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"origine",value:u.origine,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"origine",children:"Origine"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"provenance",value:u.provenance,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"provenance",children:"Provenance"}),(0,ve.jsx)(MN,{content:Ne,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e),c((0,a.Z)((0,a.Z)({},u),{},{provenance:e}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]})]}),(0,ve.jsxs)("fieldset",{children:[(0,ve.jsx)("legend",{children:"Colisage des marchandises"}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"quantite",value:u.quantite,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"quantite",children:"Nombre"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"type",value:u.type,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"type",children:"Type"}),(0,ve.jsx)(MN,{content:Te,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e),c((0,a.Z)((0,a.Z)({},u),{},{type:e}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]}),(0,ve.jsxs)("div",{className:"inputBox col-8",children:[(0,ve.jsx)("input",{id:"description",value:u.description,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"description",children:"Description des marchandises"})]})]}),(0,ve.jsxs)("fieldset",{children:[(0,ve.jsx)("legend",{children:"Suivi Interne"}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"status",value:u.status,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"status",children:"Status"}),(0,ve.jsx)(MN,{content:Ie,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e),c((0,a.Z)((0,a.Z)({},u),{},{status:e}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]})]}),(0,ve.jsx)("fieldset",{className:"p_none",children:(0,ve.jsx)("div",{className:"inputBox col-2",children:(0,ve.jsx)("button",{className:"button col-12",onClick:function(){console.log(u),n(d?dN(u):{type:uN,payload:u}),console.log("valider"),c(Ee)},children:d?"Valider":"Sauvegarder"})})})]});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsxs)("h4",{children:[(0,ve.jsx)(fe,{to:"/dossiers",children:"Dossier"})," /"," ",d?"Edition - dossier N\xb0 ".concat(u.numero):"Nouveau"]})})}),(0,ve.jsx)("div",{className:"card col-",children:f})]})},FN=["Achat","Vente","Tr\xe9sorerie","Diverse"],VN=["Dossier","Minutes","Exon\xe9rations","Clients","Autres"],UN=function(){var e=be((0,t.useState)([]),2),n=e[0],r=e[1],i=be((0,t.useState)({}),2),a=i[0],o=i[1],s=be((0,t.useState)(FN[0]),2),u=s[0],c=s[1],l=ut((function(e){return e.modele.modeles}));console.log(n,l,u);var d=(0,ve.jsx)("div",{style:{display:"flex"},children:(0,ve.jsx)("div",{className:" modele col-12",style:{display:"flex"},children:(0,ve.jsx)("div",{className:"col-7 ",children:(0,ve.jsxs)("table",{className:"col-12 m_left",style:{display:"flex",justifyContent:"space-between",flexDirection:"column",fontSize:12,marginTop:15},children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsx)("th",{className:"col-1",children:"#"}),(0,ve.jsx)("th",{className:"col-6",children:"Mod\xe8les"}),(0,ve.jsx)("th",{className:"col-5",children:"Commentaires"})]})}),(0,ve.jsx)("tbody",{style:{height:"65vh",overflowY:"auto"},children:l.map((function(e,t){return(0,ve.jsxs)("tr",{className:a.index===t?"modele_toggle col-12":"modele_toggle col-12 ",style:{display:"flex"},onClick:function(){console.log("modele",e),o({index:t,operation:a}),r(e.operation)},children:[(0,ve.jsx)("td",{className:"col-1 ".concat(a.index===t&&"select"),children:t+1}),(0,ve.jsx)("td",{className:"col-6 ".concat(a.index===t&&"select"),children:e.intitule}),(0,ve.jsxs)("td",{className:"col-5 ".concat(a.index===t&&"select"),style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingInline:10},children:[e.commentaires," ",a.index===t&&(0,ve.jsx)(vN,{style:{display:"flex",backgroundColor:"white",right:-10,alignSelf:"center"},icon:Ue,size:.5,color:"white",title:"Options",content:["Dupliquer","Modifier","Supprimer"],render:function(e,t){return function(e,t){return(0,ve.jsx)("div",{className:"option",onClick:function(){console.log(e),document.getElementsByClassName("menu_content active")[0].classList.remove("active")},children:(0,ve.jsx)("span",{className:"option-item",children:e})},t)}(e,t)}})]})]},t)}))})]})})})}),f=(FN.map((function(e,t){return(0,ve.jsx)("tr",{onClick:function(){return console.log(e)},children:(0,ve.jsx)("td",{className:"col-12",style:{textAlign:"center",fontSize:"0.8rem",paddingInline:5,borderRadius:5,border:"1px solid var(--main-color)",marginTop:15},children:e})},t)})),function(e,t){return(0,ve.jsxs)("div",{className:"item",children:[(0,ve.jsx)(hN(),{path:e.icon,size:.8}),(0,ve.jsx)("span",{children:e.content})]},t)}),h=[{icon:Le,content:"Profile"},{icon:We,content:"Param\xe8tre"},{icon:Fe,content:"D\xe9connexion"}],p=(0,ve.jsx)(vN,{icon:Ue,color:"white",size:.6,style:{display:"flex",flexDirection:"column",right:-10,marginTop:5,backgroundColor:"white"},content:h,render:function(e,t){return f(e,t)}}),v=(0,ve.jsx)(vN,{icon:qe,style:{display:"flex",flexDirection:"column",marginTop:5,backgroundColor:"red"},content:h,render:function(e,t){return f(e,t)}});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",style:{display:"flex",justifyContent:"space-between"},children:(0,ve.jsx)("h4",{children:"Param\xe8trages | Configurations | Constantes"})})}),(0,ve.jsx)("div",{className:"card",style:{display:"flex"},children:(0,ve.jsx)(mN,{active:c,ongletHeaders:[].concat(VN,[(0,ve.jsx)(hN(),{path:Ge,size:.6,title:"Nouveau"})]),ongletBody:[d,d,d],icon:p,Menu:v})})]})},qN=function(e){var t=(0,ve.jsxs)("div",{className:"inputBox",children:[(0,ve.jsx)("input",{id:"status",type:"text",style:{color:"white"},onChange:function(e){return console.log(e.value)},autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"status",children:"Status"})]});return(0,ve.jsxs)("div",{className:"card",style:{fontSize:"0.8rem",padding:10},children:[(0,ve.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:5,backgroundColor:"var(--main-color)",color:"white",padding:"2px 5px",borderRadius:5},children:[(0,ve.jsx)("span",{children:e.title}),(0,ve.jsx)(vN,{style:{left:-170,marginTop:10},icon:Ge,size:.7,color:"white",title:"Nouveau",view:t})]}),(0,ve.jsx)("ul",{style:{border:"1px solid var(--main-color)",borderRadius:5},children:e.data&&e.data.map((function(e,t){return(0,ve.jsxs)("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:5},children:[(0,ve.jsxs)("span",{children:["".concat(t+1," - ").concat(e)," "]})," ",(0,ve.jsx)(hN(),{path:"M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19M8,9H16V19H8V9M15.5,4L14.5,3H9.5L8.5,4H5V6H19V4H15.5Z",size:"0.7rem",onClick:function(){return console.log(e)}})]},t)}))})]})},BN=["D\xe9bours","Interventions","Autres"],zN=function(){var e=be((0,t.useState)(0),2),n=e[0],r=e[1],i=(0,ve.jsxs)("div",{style:{display:"flex"},className:"transit col-12",children:[(0,ve.jsx)("div",{className:"left ",children:BN.map((function(e,t){return(0,ve.jsx)("div",{className:"".concat(t===n?"toggle active":"toggle"),onClick:function(){return r(t)},children:e},t)}))}),(0,ve.jsx)("div",{className:"right col-6 ",children:(0,ve.jsxs)("table",{className:"col-12",children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("th",{className:"col-8",children:"D\xe9signation"}),(0,ve.jsx)("th",{className:"col-4",children:"Montant*"})]})}),(0,ve.jsxs)("tbody",{children:[(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-8",children:"D\xe9signation"}),(0,ve.jsx)("td",{className:"col-4",children:"Montant*"})]}),(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{className:"col-8",children:"D\xe9signation"}),(0,ve.jsx)("td",{className:"col-4"})]})]})]})})]});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",style:{display:"flex",justifyContent:"space-between"},children:(0,ve.jsxs)("h4",{children:[" ",(0,ve.jsx)(fe,{to:"/settings",children:" Param\xe8trages"})," / Transit"]})})}),(0,ve.jsx)("div",{className:"card",style:{display:"flex"},children:(0,ve.jsx)(mN,{ongletHeaders:["D\xe9bours","Interventions","Autres"],ongletBody:[i,(0,ve.jsx)("div",{children:"Interventions"}),(0,ve.jsx)("div",{children:"Autres"})]})}),(0,ve.jsxs)("div",{style:{display:"",justifyContent:"space-around"},children:[(0,ve.jsx)(qN,{title:"Type",data:Te}),(0,ve.jsx)(qN,{title:"Mode",data:Se}),(0,ve.jsx)(qN,{title:"Status",data:Ie}),(0,ve.jsx)(qN,{title:"D\xe9bours",data:je}),(0,ve.jsx)(qN,{title:"Interventions",data:Ce})]})]})},HN="ADD_EXO",GN="DELETE_EXO",WN="UPDATE_EXO",YN=(new sN,{annee:"",code:"",numero:"",emission:"",expiration:"",importateur:"",beneficiaire:"",quantite:"",unite:"",valeur:"",position:"",lieu:"",bureau:"",prorogation:!1,status:"Active",commentaires:"",details:[]}),ZN={quantite:"",poids:"",designation:"",valeur:"",position:""},KN=function(e){console.log(e.location.pathname.match(/(\d+)/));var n=it(),r=ut((function(e){return e.exos})),i=be((0,t.useState)(YN),2),o=i[0],s=i[1],u=be((0,t.useState)([]),2),c=u[0],l=u[1],d=be((0,t.useState)(ZN),2),f=d[0],h=d[1],p=function(e){s((0,a.Z)((0,a.Z)({},o),{},(0,yt.Z)({},e.target.id,e.target.value)))},v=function(e){h((0,a.Z)((0,a.Z)({},f),{},(0,yt.Z)({},e.target.id,e.target.value)))},m=e.location.pathname.match(/(\d+)/);console.log(r[parseInt(m)]),(0,t.useEffect)((function(){m&&r[parseInt(m)]&&s((0,a.Z)({},r[parseInt(m)])),m&&r[parseInt(m)]&&l(r[parseInt(m)].details)}),[]);var y=(0,ve.jsxs)("div",{className:"",children:[(0,ve.jsxs)("fieldset",{className:"",style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"Descriptions"}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-1",children:[(0,ve.jsx)("input",{id:"annee",value:o.annee,type:"number",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"annee",children:"Ann\xe9e"})]}),(0,ve.jsxs)("div",{className:"inputBox col-1",children:[(0,ve.jsx)("input",{id:"code",value:o.code,type:"number",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"code",children:"Code"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"numero",value:o.numero,type:"number",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"numero",children:"Num\xe9ro"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"emission",value:o.emission,type:"date",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"emission",children:"Emission"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"expiration",value:o.expiration,type:"date",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"expiration",children:"Expiration"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"prorogation",value:o.prorogation,type:"text",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"prorogation",children:"Prorogation"})]})]}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"importateur",value:o.importateur,type:"text",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"importateur",children:"Importateur"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"beneficiaire",value:o.beneficiaire,type:"text",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"beneficiaire",children:"B\xe9n\xe9ficiaire"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"lieu",value:o.lieu,type:"text",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"lieu",children:"Lieu d'utilisation"})]}),(0,ve.jsxs)("div",{className:"inputBox col-4",children:[(0,ve.jsx)("input",{id:"bureau",value:o.bureau,type:"text",onChange:p,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"bureau",children:"Bureau de d\xe9douanement"})]})]})]}),(0,ve.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"D\xe9tails"}),(0,ve.jsxs)("div",{style:{display:"flex"},className:"col-12",children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"quantite",value:f.quantite,type:"text",onChange:v,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"quantite",children:"Quantit\xe9"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"poids",value:f.poids,type:"text",onChange:v,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"poids",children:"Poids"})]}),(0,ve.jsxs)("div",{className:"inputBox col-4",children:[(0,ve.jsx)("input",{id:"designation",value:f.designation,type:"text",onChange:v,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"designation",children:"D\xe9signations"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"valeur",value:f.valeur,type:"text",onChange:v,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"valeur",children:"Valeur HD"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"position",value:f.position,type:"text",onChange:v,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"position",children:"Position Tarifaire"})]})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("button",{className:"modalBtn col-12",onClick:function(){console.log(f),l([].concat(cn(c),[f])),h(ZN)},children:"Ajouter"}),(0,ve.jsx)("button",{className:"modalBtn col-12",onClick:function(){console.log(f),h(ZN)},children:"Annuler"})]}),(0,ve.jsx)("div",{className:"col-12 ",children:(0,ve.jsxs)("table",{className:"col-12 ",style:{display:"flex",justifyContent:"space-between",flexDirection:"column",fontSize:12,marginTop:15},children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsx)("th",{className:"col-2",children:"Quantit\xe9"}),(0,ve.jsx)("th",{className:"col-2",children:"Poids"}),(0,ve.jsx)("th",{className:"col-4",children:"D\xe9signations"}),(0,ve.jsx)("th",{className:"col-3",children:"Valeur"}),(0,ve.jsx)("th",{className:"col-3",children:"Position"})]})}),(0,ve.jsx)("tbody",{children:c.map((function(e,t){return(0,ve.jsxs)("tr",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsx)("td",{className:"col-2",children:e.quantite}),(0,ve.jsx)("td",{className:"col-2",children:e.poids}),(0,ve.jsx)("td",{className:"col-4",children:e.designation}),(0,ve.jsx)("td",{className:"col-3",children:e.valeur}),(0,ve.jsx)("td",{className:"col-3",children:e.position})]},t)}))})]})})]}),(0,ve.jsx)("fieldset",{children:(0,ve.jsx)("div",{className:"inputBox col-2",children:(0,ve.jsx)("button",{className:"modalBtn col-12",onClick:function(){n(function(e){return{type:HN,payload:e}}((0,a.Z)((0,a.Z)({},o),{},{details:c}))),s(YN),l([])},children:"Enr\xe9gistrer"})})})]});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsxs)("h4",{children:[(0,ve.jsx)(fe,{to:"/exo",children:"Exon\xe9ration"})," /"," ",m?"Edition":"Nouveau"]})})}),(0,ve.jsx)("div",{className:"card :",children:y})]})},QN={nom:"",email:"",bp:"",tel:"",nif:"",compte:"411",adresse:"",exo:!1},$N=function(e){console.log(e.location.pathname.match(/(\d+)/));var n=it(),r=ut((function(e){return e.clients})),i=be((0,t.useState)(QN),2),o=i[0],s=i[1];console.log(o);var u=function(e){s((0,a.Z)((0,a.Z)({},o),{},(0,yt.Z)({},e.target.id,e.target.value)))},c=e.location.pathname.match(/(\d+)/);console.log(r[parseInt(c)]),(0,t.useEffect)((function(){c&&r[parseInt(c)]&&s((0,a.Z)({},r[parseInt(c)]))}),[]);var l=(0,ve.jsxs)("div",{className:"",children:[(0,ve.jsxs)("fieldset",{className:"",style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"Informations du compte"}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"nif",value:o.nif,type:"number",onChange:u,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"nif",children:"NIF"})]}),(0,ve.jsxs)("div",{className:"inputBox col-6",children:[(0,ve.jsx)("input",{id:"nom",value:o.nom,type:"text",onChange:u,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"nom",children:"Nom, Raison sociale"})]})]}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"tel",value:o.tel,type:"tel",onChange:u,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"tel",children:"T\xe9l\xe9phone"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"bp",value:o.bp,type:"number",onChange:u,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"bp",children:"Boite Postale"})]}),(0,ve.jsxs)("div",{className:"inputBox col-4",children:[(0,ve.jsx)("input",{id:"adresse",value:o.adresse,type:"text",onChange:u,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"adresse",children:"Adresse"})]})]}),(0,ve.jsx)("div",{className:"col-12",style:{display:"flex"},children:(0,ve.jsxs)("div",{className:"inputBox col-6",children:[(0,ve.jsx)("input",{id:"email",value:o.email,type:"email",onChange:u,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"email",children:"Email"})]})}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"compte",value:o.compte,type:"text",onChange:u,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"compte",children:"Compte tiers"})]}),(0,ve.jsxs)("div",{className:" ",style:{display:"flex",fontSize:"0.8rem",alignItems:"center",justifyContent:"space-around",paddingInline:5,border:"1px solid var(--main-color)",borderRadius:"var(--border-radius)"},children:[(0,ve.jsx)("input",{id:"exo",checked:o.exo,type:"checkbox",onChange:function(e){s((0,a.Z)((0,a.Z)({},o),{},(0,yt.Z)({},e.target.id,e.target.checked)))},autoComplete:"off",required:!0}),(0,ve.jsx)("span",{style:{marginLeft:5},children:""}),(0,ve.jsx)("label",{htmlFor:"exo",children:" Exon\xe9ration TVA"})]})]})]}),(0,ve.jsx)("fieldset",{children:(0,ve.jsx)("div",{className:"inputBox col-2",children:(0,ve.jsx)("button",{className:"modalBtn col-12",onClick:function(){var e;console.log(o.nif&&o.nom),n(c?(e=o,console.log(e),{type:AN,payload:e}):function(e){return{type:jN,payload:e}}(o)),s(QN)},children:c?"Valider":"Enr\xe9gistrer"})})})]});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsxs)("h4",{children:[(0,ve.jsx)(fe,{to:"/client",children:"Client"})," /"," ",c?"Edition":"Nouveau"]})})}),(0,ve.jsx)("div",{className:"card :",children:l})]})},JN=["NE029 Gaya","Torodi","Konni","Dan Issa"],XN=["NE001 Niamey Route","NE002 Niamey Fret","Niamey Rive Droite","NE056 Niamey Sp\xe9cial Moyens","Torodi","Gaya","Maradi","Konni","Agadez","Zinder"],eT=["B\xe9nin","C\xf4te d'ivoire","Ghana","Nig\xe9ria","Togo"],tT={reference:"",numero:"",date:_e()().format("YYYY-MM-DD"),paysExport:"",camion:"",burEntree:"",burDestination:"",position:"",marchandise:"",quantite:"",poids:"",volume:"",sommier:"",dateSommier:""},nT=function(e){var n=JSON.parse(e.match.params.param);console.log("param",n);var r=it(),i=ut((function(e){return e})),o=i.dossiers,s=i.tarifs,u=s.map((function(e){return e.nts})),c=be((0,t.useState)(tT),2),l=c[0],d=c[1];console.log(o[n.dossierIndex]);var f=function(e){d((0,a.Z)((0,a.Z)({},l),{},(0,yt.Z)({},e.target.id,e.target.value)))};(0,t.useEffect)((function(){o[n.dossierIndex].t1.length>0&&o[n.dossierIndex].t1[n.itemIndex]&&d(o[n.dossierIndex].t1[n.itemIndex])}),[]);var h=(0,ve.jsxs)("div",{className:"t1_form",children:[(0,ve.jsxs)("fieldset",{className:"",style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"D\xe9claration T1"}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"reference",value:l.reference,type:"number",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"reference",children:"Ref\xe9rence"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"numero",value:l.numero,type:"number",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"numero",children:"Num\xe9ro"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"date",value:l.date,type:"date",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"date",children:"Date"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"paysExport",value:l.paysExport,type:"text",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"paysExport",children:"Pays d'export."}),(0,ve.jsx)(MN,{content:eT,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e),d((0,a.Z)((0,a.Z)({},l),{},{paysExport:e}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]})]}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"camion",value:l.camion,type:"text",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"camion",children:"Camion/Transport"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"burEntree",value:l.burEntree,type:"text",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"burEntree",children:"Bur. d'entr\xe9e Fronti\xe8re"}),(0,ve.jsx)(MN,{content:JN,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e),d((0,a.Z)((0,a.Z)({},l),{},{burEntree:e}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"burDestination",value:l.burDestination,type:"text",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"burDestination",children:"Bur. de Destination"}),(0,ve.jsx)(MN,{content:XN,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e),d((0,a.Z)((0,a.Z)({},l),{},{burDestination:e}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]})]}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"position",value:l.position,type:"text",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"position",children:"Position NTS"}),(0,ve.jsx)(MN,{content:u,render:function(e,t){return(0,ve.jsx)("div",{style:{padding:5,margin:5},onClick:function(){console.log("item",e),d((0,a.Z)((0,a.Z)({},l),{},{position:e,marchandise:s[t].designation}))},children:(0,ve.jsx)("span",{className:"col-6",children:e})},t)},min:155,max:155})]}),(0,ve.jsxs)("div",{className:"inputBox col-6",children:[(0,ve.jsx)("input",{id:"marchandise",value:l.marchandise,type:"text",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"marchandise",children:"Marchandises"})]})]}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"quantite",value:l.quantite,type:"number",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"quantite",children:"Quantit\xe9"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"poids",value:l.poids,type:"number",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"poids",children:"Poids"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"volume",value:l.volume,type:"number",onChange:f,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"volume",children:"Volume"})]})]})]}),(0,ve.jsx)("fieldset",{className:"p_none",children:(0,ve.jsx)("div",{className:"inputBox col-2",children:(0,ve.jsx)("button",{className:"modalBtn col-12",onClick:function(){if(console.log(o[n.dossierIndex].t1),o[n.dossierIndex].t1[n.itemIndex]){console.log("vrai"),console.log(l);var e=o[n.dossierIndex].t1.map((function(e,t){return t===n.itemIndex?l:e}));console.log(e);var t=(0,a.Z)((0,a.Z)({},o[n.dossierIndex]),{},{t1:e});r(dN(t))}else{console.log("faux");var i=(0,a.Z)((0,a.Z)({},o[n.dossierIndex]),{},{t1:[].concat(cn(o[n.dossierIndex].t1),[l])});r(dN(i))}d(tT)},children:n.dossierIndex+1?"Ajouter":"Editer"})})})]});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsxs)("h4",{children:[(0,ve.jsx)(fe,{to:"/dossiers",children:"Dossiers / T1"})," /"," ",n.dossierIndex+1?"Edition":"Nouveau"]})})}),(0,ve.jsx)("div",{className:"card :",children:h})]})},rT={repertoire:"0",reference:"",date:_e()().format("YYYY-MM-DD"),bureau:"",quantite:"",unite:"U",poids:"",volume:"",position:"",valeur:"",taxe:"",total:"",liquidation:"",dateLiquid:"",quittance:"",dateQuit:"",camion:"",exo:"",nts:""},iT=function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e)},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},aT=function(e){var n=JSON.parse(e.match.params.param);console.log("param",e.match);var r=(0,t.useRef)();(0,Oe.useReactToPrint)({content:function(){return r.current},documentTitle:"DDU"});console.log(e.location.pathname.match(/(\d+)/));var i=it(),o=ut((function(e){return e.dossiers})),s=be((0,t.useState)(rT),2),u=s[0],c=s[1];console.log(u);var l=function(e){c((0,a.Z)((0,a.Z)({},u),{},(0,yt.Z)({},e.target.id,e.target.value)))},d=e.location.pathname.match(/(\d+)/),f=(0,ve.jsxs)("div",{ref:r,className:"ddu_form",children:[(0,ve.jsxs)("fieldset",{className:"",style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"Infos DDU"}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"repertoire",value:u.repertoire,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"repertoire",children:"R\xe9pertoire"}),(0,ve.jsx)(MN,{content:["rep 1","rep 2"],render:iT,min:155,max:155})]}),(0,ve.jsxs)("div",{className:"inputBox col-5",children:[(0,ve.jsx)("input",{id:"bureau",value:u.bureau,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"bureau",children:"Bureau de D\xe9douanement"}),(0,ve.jsx)(MN,{content:["rep 1","rep 2"],render:iT,min:155,max:155})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"reference",value:u.reference,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"reference",children:"R\xe9f. Douane"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"date",value:u.date,type:"date",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"date",children:"Date"})]})]}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"quantite",value:u.quantite,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"quantite",children:"Quantit\xe9"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"poids",value:u.poids,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"poids",children:"Poids"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"volume",value:u.volume,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"volume",children:"Volume"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"position",value:u.position,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"position",children:"Position"}),(0,ve.jsx)(MN,{content:["rep 1","rep 2"],render:iT,min:155,max:155})]}),(0,ve.jsxs)("div",{className:"inputBox col-4",children:[(0,ve.jsx)("input",{id:"descrition",value:u.descrition,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"descrition",children:"Marchandises"})]})]}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"valeur",value:u.valeur,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"valeur",children:"Valeur statistique"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"taxe",value:u.taxe,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"taxe",children:"Taxe Globale"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"total",value:u.total,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"total",children:"Total Decl."})]})]}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"camion",value:u.camion,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"camion",children:"camion"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"exo",value:u.exo,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"exo",children:"exo"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"nts",value:u.nts,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"nts",children:"nts"})]})]}),(0,ve.jsxs)("div",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"liquidation",value:u.liquidation,type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"liquidation",children:"N\xb0 liquidation"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"dateLiquid",value:u.dateLiquid,type:"date",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"dateLiquid",children:"Date"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"quittance",value:u.quittance,type:"text",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"quittance",children:"N\xb0 Quittance"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"dateQuit",value:u.dateQuit,type:"date",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"dateQuit",children:"Date"})]})]})]}),(0,ve.jsx)("fieldset",{children:(0,ve.jsx)("div",{className:"inputBox col-2",children:(0,ve.jsx)("button",{className:"modalBtn col-12",onClick:function(){if(o[n.dossierIndex].t1[n.itemIndex]){console.log("vrai");var e=o[n.dossierIndex].declaration.map((function(e,t){return t===n.itemIndex?u:e})),t=(0,a.Z)((0,a.Z)({},o[n.dossierIndex]),{},{declaration:e});i(dN(t))}else{console.log("faux");var r=(0,a.Z)((0,a.Z)({},o[parseInt(d)]),{},{declaration:[].concat(cn(o[parseInt(d)].declaration),[u])});i(dN(r))}c(rT)},children:d?"Valider":"Enr\xe9gistrer"})})})]});return(0,t.useEffect)((function(){o[n.dossierIndex].declaration.length>0&&o[n.dossierIndex].declaration[n.itemIndex]&&c(o[n.dossierIndex].declaration[n.itemIndex])}),[]),(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsxs)("h4",{children:[(0,ve.jsx)(fe,{to:"/dossiers",children:"Dossiers/ D\xe9claration / "}),d?"Edition":"Nouveau"]})})}),(0,ve.jsx)("div",{className:"card :",children:f})]})},oT={reference:"",numero:"",date:_e()().format("YYYY-MM-DD"),repertoire:"",t1:"",code:"",regime:"",typeregime:"",burEntree:"",provenance:"",origine:"",burDestination:"",mode:"",importateur:"",destinataire:"",type:"",colis:"",document:"",camion:"",exo:"eXr01",license:"1235",sommier:"",quantite:"0",poids:"0",volume:"0",position:"",tarif:{nts:"",designation:"",us:"",entree:[],sortie:[]},designation:"",fob:"0",fret:"0",assurance:"0",autres:"0",base:"",taxes:"",valeur:"",baseTva:"",droits:"",declaration:"",chemise:"2500",scanner:"25000",ri:"5000",documents:[{type:"Bordereau",checked:!0},{type:"Deprec",checked:!0},{type:"Exon\xe9ration",checked:!1},{type:"License",checked:!1},{type:"FactCom",checked:!0},{type:"Colisage",checked:!1},{type:"Assurance",checked:!0},{type:"DispBIC",checked:!1},{type:"Fiche",checked:!1},{type:"NIF",checked:!0},{type:"ARF",checked:!1},{type:"CO",checked:!1},{type:"FaFret",checked:!1}]},sT=[{regime:"Importaion",code:"8000"},{regime:"Consommation",code:"4000"},{regime:"Reexportation",code:"3000"},{regime:"Autres",code:"0000"}],uT=function(e){var n=JSON.parse(e.match.params.param),r=be((0,t.useState)(oT),2),i=r[0],o=r[1],s=it(),u=ut((function(e){return e})),c=u.dossiers,l=u.tarifs,d=l.map((function(e){return e.nts})),f=parseInt(i.fob)+parseInt(i.fret)+parseInt(i.assurance)+parseInt(i.autres),h=parseInt(i.chemise)+parseInt(i.ri)+parseInt(i.scanner),p=i.tarif.entree&&i.tarif.entree.reduce((function(e,t){return t.checked&&"TVA"!==Object.keys(t)[0]&&"DA"!==Object.keys(t)[0]&&"TVI"!==Object.keys(t)[0]?e+f*Object.values(t)[0]/100:t.checked&&"DA"===Object.keys(t)[0]?e+parseInt(i.quantite)*Object.values(t)[0]:e}),0),v=i.tarif.entree&&i.tarif.entree.reduce((function(e,t){return t.checked&&"TVA"!==Object.keys(t)[0]&&"DA"!==Object.keys(t)[0]?e+f*Object.values(t)[0]/100:t.checked&&"DA"===Object.keys(t)[0]?e+parseInt(i.quantite)*Object.values(t)[0]:t.checked&&"TVA"===Object.keys(t)[0]?e+(f+p)*Object.values(t)[0]/100:e}),0),m=i.tarif.entree&&i.tarif.sortie.reduce((function(e,t){return t.checked?e+f*Object.values(t)[0]/100:e}),0),y="3000"===i.code?m+h:v+h,g="3000"===i.code?m:v,k=c[n.dossierIndex].t1.length>0&&c[n.dossierIndex].t1.map((function(e){return e.numero})),x=function(e){return l.filter((function(t){return t.nts===e}))},b=function(e){o((0,a.Z)((0,a.Z)({},i),{},(0,yt.Z)({},e.target.id,e.target.value)))},w=(0,ve.jsxs)("div",{className:"minute__form",children:[(0,ve.jsxs)("div",{className:"col-12 line",children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"numero",value:"370/".concat(i.numero),type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"destinataire",children:"N\xb0 Transit"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"date",value:i.date,type:"date",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"date",children:"Date"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"repertoire",value:i.repertoire,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"repertoire",children:"R\xe9pertoire"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"colis",value:i.type,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"type",children:"Type Colis"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"document",value:i.document,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"document",children:"BL/LTA"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"mode",value:i.mode,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"mode",children:"Mode Transp."})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"origine",value:i.origine,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"origine",children:"Origine"})]})]}),(0,ve.jsxs)("div",{className:"col-12 line",children:[(0,ve.jsxs)("div",{className:"inputBox col-6",children:[(0,ve.jsx)("input",{id:"importateur",value:i.importateur,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"importateur",children:"Importateur"})]}),(0,ve.jsxs)("div",{className:"inputBox col-6",children:[(0,ve.jsx)("input",{id:"destinataire",value:i.destinataire,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"destinataire",children:"Destinataire"})]})]}),(0,ve.jsxs)("fieldset",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"Colisage T1"}),(0,ve.jsxs)("section",{className:"col-12",style:{display:"flex",paddingInline:5},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"t1",value:i.t1,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"t1",children:"N\xb0 T1"}),(0,ve.jsx)(MN,{content:k,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){var r=c[n.dossierIndex].t1[t],s=x(r.position).length>0?x(r.position)[0]:{nts:"",designation:""};o((0,a.Z)((0,a.Z)({},i),{},{numero:c[n.dossierIndex].numero,importateur:c[n.dossierIndex].importateur,destinataire:c[n.dossierIndex].destinataire,t1:e,burEntree:r.burEntree,burDestination:r.burDestination,origine:c[n.dossierIndex].origine,provenance:c[n.dossierIndex].provenance,camion:r.camion,type:c[n.dossierIndex].type,mode:c[n.dossierIndex].mode,colis:c[n.dossierIndex].quantite,document:c[n.dossierIndex].document,tarif:s,quantite:r.quantite,poids:r.poids,volume:r.volume}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"burEntree",value:i.burEntree,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"burEntree",children:"Bureau Fronti\xe8re"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"burDestination",value:i.burDestination,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"burDestination",children:"Bureau Destination"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"provenance",value:i.provenance,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"provenance",children:"Provenance"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"camion",value:i.camion,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"camion",children:"Moyen de Transp."})]})]}),(0,ve.jsxs)("section",{className:"col-12",style:{display:"flex",paddingInline:5},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"quantite",value:i.quantite,type:"number",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"quantite",children:"Quantit\xe9"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"poids",value:i.poids,type:"number",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"poids",children:"Poids"})]}),(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"nts",value:i.tarif.nts,type:"text",onChange:function(e){var t=(0,a.Z)((0,a.Z)({},i.tarif),{},(0,yt.Z)({},e.target.id,e.target.value));o((0,a.Z)((0,a.Z)({},i),{},{tarif:t}))},autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"nts",children:"Position"}),(0,ve.jsx)(MN,{content:d,render:function(e,t){return(0,ve.jsx)("div",{style:{padding:5,margin:5},onClick:function(){o((0,a.Z)((0,a.Z)({},i),{},{tarif:l[t]}))},children:(0,ve.jsx)("span",{className:"col-6",children:e})},t)},min:455,max:555})]}),(0,ve.jsxs)("div",{className:"inputBox col-5",children:[(0,ve.jsx)("input",{id:"designation",value:i.tarif.designation,type:"text",onChange:function(e){var t=(0,a.Z)((0,a.Z)({},i.tarif),{},(0,yt.Z)({},e.target.id,e.target.value));o((0,a.Z)((0,a.Z)({},i),{},{tarif:t}))},autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"designation",children:"D\xe9signation de la marchandise"})]}),(0,ve.jsxs)("div",{className:"inputBox col-1",children:[(0,ve.jsx)("input",{id:"us",value:i.tarif.us,type:"text",onChange:function(e){var t=(0,a.Z)((0,a.Z)({},i.tarif),{},(0,yt.Z)({},e.target.id,e.target.value));o((0,a.Z)((0,a.Z)({},i),{},{tarif:t}))},autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"us",children:"Us"})]})]})]}),(0,ve.jsx)("section",{children:(0,ve.jsxs)("div",{className:"col-12 line",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"col-6",style:{display:"flex",justifyContent:"space-between"},children:[(0,ve.jsxs)("div",{className:"inputBox col-4",children:[(0,ve.jsx)("input",{id:"reference",value:i.reference,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"reference",children:"Ref\xe9rence douane"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"exo",value:i.exo,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"exo",children:"N\xb0 Exo"})]}),(0,ve.jsxs)("div",{className:"inputBox col-3",children:[(0,ve.jsx)("input",{id:"license",value:i.license,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"license",children:"N\xb0 License"})]})]}),(0,ve.jsxs)("div",{className:"col-4",style:{display:"flex",justifyContent:"space-around"},children:[(0,ve.jsxs)("div",{className:"inputBox col-8",children:[(0,ve.jsx)("input",{id:"regime",value:i.regime,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"regime",children:"R\xe9gime"}),(0,ve.jsx)(MN,{content:sT,render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){return o((0,a.Z)((0,a.Z)({},i),{},{regime:e.regime,code:e.code}))},children:(0,ve.jsx)("span",{className:"col-4",children:e.regime})},t)}})]}),(0,ve.jsxs)("div",{className:"inputBox col-4",children:[(0,ve.jsx)("input",{id:"code",value:i.code,type:"text",onChange:b,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"regime",children:"Code"})]})]})]})}),(0,ve.jsxs)("div",{style:{display:"flex"},children:[(0,ve.jsxs)("fieldset",{className:"col-6",style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"Valeurs de la marchandise"}),(0,ve.jsx)("section",{className:"col-12",style:{display:"flex",paddingInline:5},children:(0,ve.jsxs)("table",{className:"col-12",children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{children:"Fob"}),(0,ve.jsx)("th",{children:"Fret"}),(0,ve.jsx)("th",{children:"Assurance"}),(0,ve.jsx)("th",{children:"Autres"})]})}),(0,ve.jsx)("tbody",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{className:"col-3",children:(0,ve.jsx)("input",{className:"inputBox col-12",id:"fob",value:i.fob,type:"number",onChange:b,autoComplete:"off",required:!0})}),(0,ve.jsx)("td",{className:"col-3",children:(0,ve.jsx)("input",{className:"inputBox col-12",id:"fret",value:i.fret,type:"number",onChange:b,autoComplete:"off",required:!0})}),(0,ve.jsx)("td",{className:"col-3",children:(0,ve.jsx)("input",{className:"inputBox col-12",id:"assurance",value:i.assurance,type:"number",onChange:b,autoComplete:"off",required:!0})}),(0,ve.jsx)("td",{className:"col-3",children:(0,ve.jsx)("input",{className:"inputBox col-12",id:"autres",value:i.autres,type:"number",onChange:b,autoComplete:"off",required:!0})})]})})]})}),(0,ve.jsx)("section",{className:"col-12",style:{display:"flex",paddingInline:5},children:(0,ve.jsxs)("table",{className:"col-12",children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{children:"Chemise"}),(0,ve.jsx)("th",{children:"Redev. Inf"}),(0,ve.jsx)("th",{children:"Scanner"}),(0,ve.jsx)("th",{children:"Autres"})]})}),(0,ve.jsx)("tbody",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{className:"col-3",children:(0,ve.jsx)("input",{className:"inputBox col-12",id:"chemise",value:i.chemise,type:"number",onChange:b,autoComplete:"off",required:!0})}),(0,ve.jsx)("td",{className:"col-3",children:(0,ve.jsx)("input",{className:"inputBox col-12",id:"ri",value:i.ri,type:"number",onChange:b,autoComplete:"off",required:!0})}),(0,ve.jsx)("td",{className:"col-3",children:(0,ve.jsx)("input",{className:"inputBox col-12",id:"scanner",value:i.scanner,type:"number",onChange:b,autoComplete:"off",required:!0})}),(0,ve.jsx)("td",{className:"col-3",children:"Autres"})]})})]})})]}),(0,ve.jsxs)("fieldset",{className:"col-4",style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"Calcul des impositions"}),(0,ve.jsxs)("section",{className:"col-12",style:{display:"flex",height:95,overflowY:"scroll",marginBottom:5},children:[i.tarif.entree&&"4000"===i.code&&(0,ve.jsxs)("table",{className:"col-12",children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{children:"#"}),(0,ve.jsx)("th",{children:"Type"}),(0,ve.jsx)("th",{children:"Base"}),(0,ve.jsx)("th",{children:"Taux"}),(0,ve.jsx)("th",{children:"Montant"})]})}),(0,ve.jsx)("tbody",{children:i.tarif.entree.map((function(e,t){return(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{children:(0,ve.jsx)("input",{type:"checkbox",checked:Object.values(e)[1],onChange:function(t){return function(e,t,n){var r=i.tarif.entree.map((function(n){if(Object.keys(n)[0]==Object.keys(t)[0])switch(Object.keys(t)[0]){case"DA":var r=e.target.checked&&Object.values(t)[0]*i.quantite;return r?(0,a.Z)((0,a.Z)({},t),{},{checked:e.target.checked,montant:r}):(0,a.Z)((0,a.Z)({},t),{},{checked:e.target.checked});case"TVA":var o=e.target.checked&&Object.values(t)[0]*(f+p)/100;return o?(0,a.Z)((0,a.Z)({},t),{},{checked:e.target.checked,montant:o}):(0,a.Z)((0,a.Z)({},t),{},{checked:e.target.checked});default:var s=e.target.checked&&Object.values(t)[0]*f/100;return s?(0,a.Z)((0,a.Z)({},t),{},{checked:e.target.checked,montant:s}):(0,a.Z)((0,a.Z)({},t),{},{checked:e.target.checked})}return n})),s=(0,a.Z)((0,a.Z)({},i.tarif),{},{entree:r});o((0,a.Z)((0,a.Z)({},i),{},{tarif:s}))}(t,e)}})}),(0,ve.jsx)("td",{children:Object.keys(e)[0]}),(0,ve.jsx)("td",{children:"DA"===Object.keys(e)[0]?i.quantite&&parseInt(i.quantite):"TVA"===Object.keys(e)[0]?p+f:f}),(0,ve.jsx)("td",{children:Object.values(e)[0]}),(0,ve.jsx)("td",{children:"DA"===Object.keys(e)[0]?i.quantite&&parseInt(i.quantite)*Object.values(e)[0]:"TVA"===Object.keys(e)[0]?Object.values(e)[0]*(p+f)/100:Object.values(e)[0]*f/100})]},t)}))}),(0,ve.jsx)("tfoot",{children:(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{}),(0,ve.jsx)("td",{}),(0,ve.jsx)("td",{}),(0,ve.jsx)("td",{children:"Total"}),(0,ve.jsx)("td",{children:v})]})})]}),i.tarif.sortie&&"3000"===i.code&&(0,ve.jsxs)("table",{className:"col-12",children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("th",{children:"#"}),(0,ve.jsx)("th",{children:"Type"}),(0,ve.jsx)("th",{children:"Base"}),(0,ve.jsx)("th",{children:"Taux"}),(0,ve.jsx)("th",{children:"Montant"})]})}),(0,ve.jsx)("tbody",{children:i.tarif.sortie.map((function(e,t){return(0,ve.jsxs)("tr",{children:[(0,ve.jsx)("td",{children:(0,ve.jsx)("input",{type:"checkbox",checked:Object.values(e)[1],onChange:function(t){return function(e,t,n){var r=i.tarif.sortie.map((function(n){if(Object.keys(n)[0]==Object.keys(t)[0]){var r=e.target.checked&&Object.values(t)[0]*f/100;return r?(0,a.Z)((0,a.Z)({},t),{},{checked:e.target.checked,montant:r}):(0,a.Z)((0,a.Z)({},t),{},{checked:e.target.checked})}return n})),s=(0,a.Z)((0,a.Z)({},i.tarif),{},{sortie:r});o((0,a.Z)((0,a.Z)({},i),{},{tarif:s}))}(t,e)}})}),(0,ve.jsx)("td",{children:Object.keys(e)[0]}),(0,ve.jsx)("td",{children:f||0}),(0,ve.jsx)("td",{children:Object.values(e)[0]}),(0,ve.jsx)("td",{children:f?Object.values(e)[0]/100*f:0})]},t)}))}),(0,ve.jsx)("tfoot",{children:(0,ve.jsxs)("tr",{className:"col-12",children:[(0,ve.jsx)("td",{}),(0,ve.jsx)("td",{}),(0,ve.jsx)("td",{}),(0,ve.jsx)("td",{children:"Total"}),(0,ve.jsx)("td",{children:m})]})})]})]})]}),(0,ve.jsxs)("div",{className:"col-2",style:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:3},children:[(0,ve.jsxs)("fieldset",{style:{display:"flex",justifyContent:"center"},children:[(0,ve.jsx)("legend",{children:"Valeur"}),(0,ve.jsx)("span",{style:{fontSize:"0.8rem"},children:i.valeur})]}),(0,ve.jsxs)("fieldset",{style:{display:"flex",justifyContent:"center"},children:[(0,ve.jsx)("legend",{children:"Taxes"}),(0,ve.jsx)("span",{style:{fontSize:"0.8rem"},children:i.taxes})]}),(0,ve.jsxs)("fieldset",{style:{display:"flex",justifyContent:"center"},children:[(0,ve.jsx)("legend",{children:"D\xe9claration"}),(0,ve.jsx)("span",{style:{fontSize:"0.8rem"},children:i.declaration})]})]})]}),(0,ve.jsxs)("fieldset",{children:[(0,ve.jsx)("legend",{children:"Documents joints"}),(0,ve.jsx)("section",{className:"col-12",style:{display:"flex",flexFlow:"wrap",padding:5,overflowY:"scroll",margin:0},children:i.documents.map((function(e,t){return(0,ve.jsxs)("section",{style:{display:"flex",fontSize:"0.8rem",alignItems:"center",justifyContent:"space-around",paddingInline:5,marginBottom:5,borderRadius:"var(--border-radius)"},children:[(0,ve.jsx)("input",{id:e.type,checked:e.checked,type:"checkbox",onChange:function(e){return function(e,t){var n=i.documents.map((function(e,n){return n===t?(0,a.Z)((0,a.Z)({},i.documents[t]),{},{checked:!i.documents[t].checked}):e}));o((0,a.Z)((0,a.Z)({},i),{},{documents:n}))}(0,t)},autoComplete:"off",required:!0}),(0,ve.jsx)("span",{style:{marginLeft:5},children:""}),(0,ve.jsx)("label",{htmlFor:e.type,children:e.type})]},t)}))})]}),(0,ve.jsx)("div",{className:"trait",style:{marginTop:10}}),(0,ve.jsx)("div",{style:{marginTop:5},children:(0,ve.jsxs)("section",{className:"inputBox col-2",children:[(0,ve.jsx)("button",{className:"modalBtn col-12",onClick:function(){if(c[n.dossierIndex].minute[n.itemIndex]){var e=c[n.dossierIndex].minute.map((function(e,t){return t===n.itemIndex?i:e})),t=(0,a.Z)((0,a.Z)({},c[n.dossierIndex]),{},{minute:e});s(dN(t))}else{var r=(0,a.Z)((0,a.Z)({},c[parseInt(n.dossierIndex)]),{},{minute:[].concat(cn(c[parseInt(n.dossierIndex)].minute),[i])});s(dN(r))}o(oT)},children:n.dossierIndex?"Valider":"Sauvegarder"}),(0,ve.jsx)("button",{className:"modalBtn col-12",onClick:function(){o(oT)},children:"Annuler"})]})})]});return(0,t.useEffect)((function(){o((0,a.Z)((0,a.Z)({},i),{},{taxes:h,valeur:f,baseTva:p,declaration:y,droits:g}))}),[h,f,p,y,g]),(0,t.useEffect)((function(){c[n.dossierIndex]&&o((0,a.Z)((0,a.Z)({},i),{},{numero:c[n.dossierIndex].numero,importateur:c[n.dossierIndex].client.nom,destinataire:c[n.dossierIndex].destinataire,origine:c[n.dossierIndex].origine,provenance:c[n.dossierIndex].provenance,type:c[n.dossierIndex].type,mode:c[n.dossierIndex].mode,colis:c[n.dossierIndex].quantite,document:c[n.dossierIndex].document}))}),[]),(0,t.useEffect)((function(){c[n.dossierIndex].minute.length>0&&c[n.dossierIndex].minute[n.itemIndex]&&o((0,a.Z)({},c[n.dossierIndex].minute[n.itemIndex]))}),[]),console.log("data",i),(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsxs)("h4",{children:[(0,ve.jsx)(fe,{to:"/dossiers",children:"Dossiers / Minute"})," /"," ",n.dossierIndex?"Edition":"Nouveau"]})})}),(0,ve.jsx)("div",{className:"card :",children:w})]})},cT="ADD_TARIF",lT="DELETE_TARIF",dT="UPDATE_TARIF",fT=[{icon:He,content:"Nouveau",route:"/newTarif"},{icon:ze,content:"Modifier",route:"/tarif"},{icon:Be,content:"Supprimer",route:"/tarif"}],hT=function(e,t){return(0,ve.jsx)(fe,{to:"".concat(e.route,"/999"),children:(0,ve.jsxs)("div",{className:"item",style:{cursor:"pointer"},onClick:function(){return console.log(e.content)},children:[(0,ve.jsx)(hN(),{path:e.icon,size:.8,color:"var(--main-color)"}),(0,ve.jsx)("span",{children:e.content})]})},t)},pT=function(){var e,n,r=it(),i=be((0,t.useState)(0),2),a=i[0],o=i[1],s=be((0,t.useState)(!1),2),u=s[0],c=s[1],l=be((0,t.useState)(Ie[0]),2),d=(l[0],l[1]),f=(0,t.useRef)(null),h=(0,t.useRef)(null),p=ut((function(e){return e.tarifs})),v=[{content:"Editer",route:"/newTarif"},{content:"Supprimer",route:"/tarif"}];e=h,n=f,document.addEventListener("click",(function(t){n.current&&n.current.contains(t.target)||e.current&&!e.current.contains(t.target)&&(e.current.classList.remove("active"),document.getElementsByClassName("select").item(0)&&document.getElementsByClassName("select").item(0).classList.remove("select"))}));var m=(0,ve.jsx)(vN,{icon:Ue,color:"white",size:.6,style:{display:"flex",flexDirection:"column",right:-10,marginTop:5,backgroundColor:"white"},content:fT,render:function(e,t){return hT(e,t)}}),y=(0,ve.jsx)(vN,{icon:qe,style:{display:"flex",flexDirection:"column",marginTop:5,backgroundColor:"white"},content:fT,render:function(e,t){return hT(e,t)}}),g=(0,ve.jsx)("div",{style:{display:"flex"},children:(0,ve.jsxs)("div",{className:" modele col-12",style:{display:"flex"},children:[(0,ve.jsx)("div",{className:"col-12 ",children:(0,ve.jsxs)("table",{className:"col-12 m_left",style:{display:"flex",justifyContent:"space-between",flexDirection:"column",fontSize:12,marginTop:15},children:[(0,ve.jsx)("thead",{children:(0,ve.jsxs)("tr",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsx)("th",{className:"col-2",children:"N.T.S"}),(0,ve.jsx)("th",{className:"col-9",children:"D\xe9signation des marchandises"}),(0,ve.jsx)("th",{className:"col-1",children:"Us"}),(0,ve.jsx)("th",{className:"",children:"..."})]})}),(0,ve.jsx)("tbody",{style:{height:"65vh",overflowY:"auto"},ref:f,children:p.map((function(e,t){return(0,ve.jsxs)("tr",{className:a===t?"modele_toggle col-12":"modele_toggle col-12 ",style:{display:"flex"},onClick:function(){o(t),h.current.classList.add("active")},children:[(0,ve.jsx)("td",{className:"col-2 ".concat(a===t&&"select"),children:e.nts}),(0,ve.jsx)("td",{className:"col-9 ".concat(a===t&&"select"),children:e.designation}),(0,ve.jsx)("td",{className:"col-1 ".concat(a===t&&"select"),children:e.us}),(0,ve.jsx)("td",{className:" ".concat(a===t&&"select"),children:a===t&&(0,ve.jsx)(vN,{style:{display:"flex",backgroundColor:"white",right:-5,alignSelf:"center"},icon:Ue,size:.5,color:"white",title:"Options",content:v,render:function(e,t){return function(e,t){return(0,ve.jsx)("div",{className:"option",onClick:function(t){console.log(e),c(!0),document.getElementsByClassName("menu_content active")[0].classList.remove("active")},children:(0,ve.jsx)(fe,{to:"".concat(e.route,"/").concat(a),children:(0,ve.jsx)("span",{className:"option-item",children:e.content})},t)},t)}(e,t)}})})]},t)}))})]})}),(0,ve.jsx)("div",{ref:h,className:"content  col-2 ",children:(0,ve.jsxs)("table",{className:"col-12 m_right",children:[(0,ve.jsx)("thead",{className:"col-12",children:(0,ve.jsx)("tr",{style:{display:"flex"},children:(0,ve.jsx)("th",{className:"col-12",children:"Droits & taxes"})})}),(0,ve.jsxs)("tbody",{className:"col-12",children:[(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Entr\xe9e"})," "]})}),(0,ve.jsx)("tr",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:p[a]&&p[a].entree.map((function(e,t){return(0,ve.jsx)("td",{className:"col-12",style:{display:"flex",marginBottom:2,paddingInline:15},children:"".concat(Object.keys(e)[0]," : ").concat(Object.values(e)[0]," ").concat("DA"===Object.keys(e)[0]?"F/".concat(p[a].us):"%")},t)}))}),(0,ve.jsx)("tr",{children:(0,ve.jsxs)("td",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:[" ",(0,ve.jsx)("span",{children:"Sortie"})," "]})}),(0,ve.jsx)("tr",{className:"col-12",style:{display:"flex",flexDirection:"column"},children:p[a]&&p[a].sortie.map((function(e,t){return(0,ve.jsx)("td",{className:"col-12",style:{display:"flex",marginBottom:2,paddingInline:15},children:"".concat(Object.keys(e)[0]," : ").concat(Object.values(e)[0])},t)}))})]})]})})]})});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsx)("h4",{children:"Tarif des douanes"})})}),(0,ve.jsx)("div",{className:"card",children:(0,ve.jsx)(mN,{icon:m,menu:y,active:d,ongletHeaders:["Nomenclature"],ongletBody:[g,g]})}),(0,ve.jsxs)(yN,{showAlert:u,setAlert:c,children:[(0,ve.jsx)("div",{className:"alertHeader",children:"Alerte - Supression !!!"}),(0,ve.jsx)("div",{className:"alertBody ",children:"Etes-vous s\xfbr de vouloir continuer? "}),(0,ve.jsxs)("div",{className:"alertFooter",children:[(0,ve.jsx)("button",{className:"alertBtn",onClick:function(){var e;console.log("Oui"),console.log(p[a]),r((e=p[a].nts,{type:lT,payload:e})),c(!1)},children:"Oui"}),(0,ve.jsx)("button",{className:"alertBtn",onClick:function(){c(!1)},children:"Non"})]})]})]})},vT={nts:"",designation:"",us:"kg",entree:[{DD:20,checked:!1},{RSI:1,checked:!1},{TVI:1,checked:!1},{PCS:.8,checked:!1},{PC:.5,checked:!1},{PUA:.2,checked:!1},{TVA:19,checked:!1},{DA:0,checked:!1}],sortie:[{RSE:3,checked:!1},{TSR:5,checked:!1}],observation:""},mT=function(e){var n=e.match.params.param;console.log("param",n);var r=it(),i=ut((function(e){return e.tarifs})),o=be((0,t.useState)(vT),2),s=o[0],u=o[1];console.log(s);var c=function(e){u((0,a.Z)((0,a.Z)({},s),{},(0,yt.Z)({},e.target.id,e.target.value)))},l=function(e){var t=s.entree.map((function(t){return Object.keys(t)[0]===e.target.id?(0,yt.Z)({},e.target.id,parseFloat(e.target.value)):t}));u((0,a.Z)((0,a.Z)({},s),{},{entree:t}))},d=function(e){var t=s.sortie.map((function(t){return Object.keys(t)[0]===e.target.id?(0,yt.Z)({},e.target.id,e.target.value):t}));u((0,a.Z)((0,a.Z)({},s),{},{sortie:t}))};console.log(i[parseInt(n)]),(0,t.useEffect)((function(){console.log("===================================="),console.log(i[n]),console.log("===================================="),n&&i[parseInt(n)]&&u((0,a.Z)({},i[parseInt(n)]))}),[]);var f=(0,ve.jsxs)("div",{className:"tarif__form",children:[(0,ve.jsxs)("section",{className:"col-12",style:{display:"flex"},children:[(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:"nts",value:s.nts,type:"number",onChange:c,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"nts",children:"N.T.S"})]}),(0,ve.jsxs)("div",{className:"inputBox col-5",children:[(0,ve.jsx)("input",{id:"designation",value:s.designation,type:"text",onChange:c,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"designation",children:"D\xe9signation des marchandises"})]}),(0,ve.jsxs)("div",{className:"inputBox col-1",children:[(0,ve.jsx)("input",{id:"us",value:s.us,type:"text",onChange:c,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:"us",children:"Unit\xe9"}),(0,ve.jsx)(MN,{content:["kg","l","u"],render:function(e,t){return(0,ve.jsx)("div",{onClick:function(){console.log("item",e),u((0,a.Z)((0,a.Z)({},s),{},{us:e}))},children:(0,ve.jsx)("span",{className:"col-4",children:e})},t)},min:155,max:155})]})]}),(0,ve.jsxs)("fieldset",{className:"col-10",style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"Entr\xe9e"}),(0,ve.jsx)("section",{className:"col-12",style:{display:"flex"},children:s.entree&&s.entree.map((function(e,t){return(0,ve.jsxs)("div",{className:"inputBox col-2",children:[(0,ve.jsx)("input",{id:Object.keys(e)[0],value:Object.values(e)[0],type:"number",onChange:l,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:Object.keys(e)[0],children:Object.keys(e)[0]})]},t)}))})]}),(0,ve.jsxs)("fieldset",{className:"col-2",style:{display:"flex",flexDirection:"column"},children:[(0,ve.jsx)("legend",{children:"Sorite"}),(0,ve.jsx)("section",{className:"",style:{display:"flex"},children:s.sortie&&s.sortie.map((function(e,t){return(0,ve.jsxs)("div",{className:"inputBox col-12",children:[(0,ve.jsx)("input",{id:Object.keys(e)[0],value:Object.values(e)[0],type:"number",onChange:d,autoComplete:"off",required:!0}),(0,ve.jsx)("label",{htmlFor:Object.keys(e)[0],children:Object.keys(e)[0]})]},t)}))})]}),(0,ve.jsx)("fieldset",{children:(0,ve.jsx)("div",{className:"inputBox col-2",children:(0,ve.jsx)("button",{className:"modalBtn col-12",onClick:function(){var e;console.log(s),r("999"!==n?(e=s,console.log(e),{type:dT,payload:e}):function(e){return{type:cT,payload:e}}(s)),u(vT)},children:"999"!==n?"Valider":"Enr\xe9gistrer"})})})]});return(0,ve.jsxs)("div",{children:[(0,ve.jsx)("div",{className:"page-header col-6",children:(0,ve.jsx)("div",{className:"page-header-item col-12",children:(0,ve.jsxs)("h4",{children:[(0,ve.jsx)(fe,{to:"/tarif",children:"Tarif"})," / ",n?"Edition":"Nouveau"]})})}),(0,ve.jsx)("div",{className:"card :",children:f})]})},yT=function(){return(0,ve.jsxs)(ae,{children:[(0,ve.jsx)(X,{exact:!0,path:"/",component:me}),(0,ve.jsx)(X,{path:"/transit",component:SN}),(0,ve.jsx)(X,{path:"/minute/:param",component:uT}),(0,ve.jsx)(X,{path:"/t1/:param",component:nT}),(0,ve.jsx)(X,{path:"/ddu/:param",component:aT}),(0,ve.jsx)(X,{path:"/dossiers",component:_N}),(0,ve.jsx)(X,{path:"/newDossier",component:LN}),(0,ve.jsx)(X,{path:"/exo",component:CN}),(0,ve.jsx)(X,{path:"/newExo",component:KN}),(0,ve.jsx)(X,{path:"/newClient",component:$N}),(0,ve.jsx)(X,{path:"/client",component:PN}),(0,ve.jsx)(X,{path:"/tarif",component:pT}),(0,ve.jsx)(X,{path:"/newTarif/:param",component:mT}),(0,ve.jsx)(X,{path:"/settings",component:UN}),(0,ve.jsx)(X,{path:"/stransit",component:zN})]})},gT=JSON.parse('[{"display_name":"Dashboard","route":"/","icon":"bx bx-category-alt","sub_menu":[{"display_name":"Statistiques","route":"/#","icon":"bx bx-chevron-right"}]},{"display_name":"Transit","route":"/transit","icon":"bx bx-category-alt","sub_menu":[{"display_name":"Dossiers","route":"/dossiers","icon":"bx bx-chevron-right"},{"display_name":"Carnets","route":"/carnet","icon":"bx bx-chevron-right"},{"display_name":"Minute","route":"/minute","icon":"bx bx-chevron-right"},{"display_name":"DDU","route":"/ddu","icon":"bx bx-chevron-right"},{"display_name":"Exos","route":"/exo","icon":"bx bx-chevron-right"},{"display_name":"Clients","route":"/client","icon":"bx bx-chevron-right"},{"display_name":"NTS","route":"/tarif","icon":"bx bx-chevron-right"}]},{"display_name":"Facturation","route":"/transit","icon":"bx bx-category-alt","sub_menu":[{"display_name":"Test Fact","route":"/transit","icon":"bx bx-chevron-right"}]},{"display_name":"Archives","route":"/folders","icon":"bx bx-package","sub_menu":[]},{"display_name":"Param\xe8tres","route":"/settings","icon":"bx bx-cog","sub_menu":[{"display_name":"Transit","route":"/stransit","icon":"bx bx-chevron-right"}]}]'),kT=function(e){var t=e.active===e.index?"active":"";return(0,ve.jsxs)("div",{className:"sidebar__item",children:[(0,ve.jsx)(fe,{to:e.route,children:(0,ve.jsxs)("div",{className:"sidebar__item-inner ".concat(t),children:[(0,ve.jsx)("i",{className:e.icon}),(0,ve.jsx)("span",{children:e.title})]})}),(0,ve.jsx)("ul",{children:e.sub_menu.map((function(e,n){return(0,ve.jsx)("li",{children:(0,ve.jsx)(fe,{to:"".concat(e.route),children:(0,ve.jsx)("div",{className:"submenu__item",style:{display:t?"block":"none"},children:(0,ve.jsxs)("div",{className:"submenu__item-inner ".concat(t),children:[(0,ve.jsx)("i",{className:e.icon}),(0,ve.jsxs)("span",{style:{marginLeft:5},children:[" ",e.display_name]})]})})})},n)}))})]})},xT=function(e){var n,r,i,a=(0,t.useRef)(null),o=(0,t.useRef)(null),s=be((0,t.useState)(0),2),u=s[0],c=s[1];gT.findIndex((function(t){return t.route===e.location.pathname}));return n=o,r=a,document.addEventListener("mousedown",(function(e){r.current&&r.current.contains(e.target)?n.current.classList.toggle("active"):n.current&&n.current.contains(e.target)})),(0,ve.jsxs)("div",{className:"menu",children:[(0,ve.jsx)("button",{ref:a,className:"menu__toggle",children:(i="Menu",(0,ve.jsxs)("div",{style:{display:"flex",alignItems:"center"},onClick:function(e){e.preventDefault(),document.getElementsByClassName("layout sidebar-width")[0]?(document.getElementsByClassName("layout")[0].classList.remove("sidebar-width"),console.log("existe")):document.getElementsByClassName("layout")[0].classList.add("sidebar-width"),console.log(i)},children:[(0,ve.jsx)(hN(),{path:"M2.8,3L19.67,18.82C19.67,18.82 20,19.27 19.58,19.71C19.17,20.15 18.63,19.77 18.63,19.77L2.8,3M7.81,4.59L20.91,16.64C20.91,16.64 21.23,17.08 20.82,17.5C20.4,17.97 19.86,17.59 19.86,17.59L7.81,4.59M4.29,8L17.39,20.03C17.39,20.03 17.71,20.47 17.3,20.91C16.88,21.36 16.34,21 16.34,21L4.29,8M12.05,5.96L21.2,14.37C21.2,14.37 21.42,14.68 21.13,15C20.85,15.3 20.47,15.03 20.47,15.03L12.05,5.96M5.45,11.91L14.6,20.33C14.6,20.33 14.82,20.64 14.54,20.95C14.25,21.26 13.87,21 13.87,21L5.45,11.91M16.38,7.92L20.55,11.74C20.55,11.74 20.66,11.88 20.5,12.03C20.38,12.17 20.19,12.05 20.19,12.05L16.38,7.92M7.56,16.1L11.74,19.91C11.74,19.91 11.85,20.06 11.7,20.2C11.56,20.35 11.37,20.22 11.37,20.22L7.56,16.1Z",size:1,color:"var(--main-color)"}),(0,ve.jsx)("div",{className:"user",style:{display:"flex",alignItems:"center"},children:i})]}))}),(0,ve.jsx)("div",{ref:o,className:"sidebar view_content",style:{display:"flex",flexDirection:"column",marginTop:5,backgroundColor:"white"},children:(0,ve.jsx)("div",{children:(0,ve.jsx)("ul",{style:{marginTop:4},children:gT.map((function(e,t){return(0,ve.jsx)("li",{onClick:function(){return c(t)},children:(0,ve.jsx)(kT,{title:e.display_name,active:u,index:t,icon:e.icon,route:e.route,sub_menu:e.sub_menu})},t)}))})})})]})},bT=[{icon:Le,content:"Profile"},{icon:We,content:"Param\xe8tre"},{icon:Fe,content:"D\xe9connexion"}],wT=function(e){var t=ut((function(e){return e}));return(0,ve.jsxs)("div",{className:"titlebar col-12",children:[(0,ve.jsx)("div",{className:"left col-4",style:{display:"flex",alignItems:"center"},children:(0,ve.jsx)(xT,(0,a.Z)({},e))}),(0,ve.jsxs)("div",{className:"center col-4",children:[(0,ve.jsx)("input",{type:"text",placeholder:"Unitraf Search",style:{width:"100%",borderRadius:5,textAlign:"center",padding:"5px 5px",border:"1px solid var(--main-color)",backgroundColor:"transparent",color:"var(--main-color)"}}),(0,ve.jsx)("span",{className:"search",style:{},children:(0,ve.jsx)(hN(),{path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",title:"Recherche",size:.8,color:"var(--main-color)",rotate:90})})]}),(0,ve.jsxs)("div",{className:"right col-4",style:{display:"flex",alignItems:"center"},children:[(0,ve.jsx)(vN,{style:{display:"flex",marginTop:5,backgroundColor:"white"},content:bT,customtoggle:function(){return e="admin@unitraf.com",(0,ve.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ve.jsx)(hN(),{path:"M14 20H4V17C4 14.3 9.3 13 12 13C13.5 13 15.9 13.4 17.7 14.3C16.9 14.6 16.3 15 15.7 15.5C14.6 15.1 13.3 14.9 12 14.9C9 14.9 5.9 16.4 5.9 17V18.1H14.2C14.1 18.5 14 19 14 19.5V20M23 19.5C23 21.4 21.4 23 19.5 23S16 21.4 16 19.5 17.6 16 19.5 16 23 17.6 23 19.5M12 6C13.1 6 14 6.9 14 8S13.1 10 12 10 10 9.1 10 8 10.9 6 12 6M12 4C9.8 4 8 5.8 8 8S9.8 12 12 12 16 10.2 16 8 14.2 4 12 4Z",size:.8}),(0,ve.jsxs)("div",{className:"user",style:{display:"flex",alignItems:"center"},children:[e,(0,ve.jsx)(hN(),{path:Ve,size:.8})]})]});var e},render:function(e,t){return function(e,t){return(0,ve.jsxs)("div",{className:"item",children:[(0,ve.jsx)(hN(),{path:e.icon,size:.8}),(0,ve.jsx)("span",{children:e.content})]},t)}(e,t)}}),(0,ve.jsx)("h2",{style:{fontSize:20,color:"var(--main-color)"},children:"|"}),(0,ve.jsx)("span",{children:(0,ve.jsx)(hN(),{path:We,title:"Reduire",size:.8})}),(0,ve.jsx)("span",{children:(0,ve.jsx)(hN(),{path:"M4,4H20V20H4V4M6,8V18H18V8H6Z",vertical:!0,title:"Agrandir",size:.8})}),(0,ve.jsx)("span",{onClick:function(){return window.api.quit(t)},children:(0,ve.jsx)(hN(),{path:"M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z",title:"Fermer",size:.8})}),(0,ve.jsx)("div",{className:"topnav__right-item"})]})]})},_T=function(e){return(0,ve.jsx)(oe,{children:(0,ve.jsx)(X,{render:function(e){return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(wT,(0,a.Z)({},e)),(0,ve.jsx)("div",{className:"layout",children:(0,ve.jsx)("div",{className:"layout__content",style:{marginTop:50},children:(0,ve.jsx)("div",{className:"layout__content-main",children:(0,ve.jsx)(yT,{})})})})]})}})})},ET=["Direction","Transit","Facturation","Comptabilit\xe9","(...)"],IT=function(){var e,n,r,i=be((0,t.useState)(null),2),a=i[0],o=i[1];return(0,ve.jsxs)("div",{className:"footerBar col-12",children:[(0,ve.jsxs)("div",{className:"col-2 f__left",children:[(0,ve.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:12},children:[(0,ve.jsx)(hN(),{path:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z",title:"Database On",size:.8}),(0,ve.jsx)("span",{children:"Database"})]}),(0,ve.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:12},children:[(0,ve.jsx)(hN(),{path:"M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z",title:"D\xe9mo",size:.8}),(0,ve.jsx)("span",{children:"License"})]}),(0,ve.jsx)("div",{style:{display:"flex"},children:(0,ve.jsx)(hN(),{path:"M11,13H13V7H11M21,4H15V10L17.24,7.76C18.32,8.85 19,10.34 19,12C19,14.61 17.33,16.83 15,17.65V19.74C18.45,18.85 21,15.73 21,12C21,9.79 20.09,7.8 18.64,6.36M11,17H13V15H11M3,12C3,14.21 3.91,16.2 5.36,17.64L3,20H9V14L6.76,16.24C5.68,15.15 5,13.66 5,12C5,9.39 6.67,7.17 9,6.35V4.26C5.55,5.15 3,8.27 3,12Z",title:"Alerte synchro",size:.8})})]}),(0,ve.jsx)("div",{className:"center col-8",children:ET.map((function(e,t){return(0,ve.jsxs)("div",{onClick:function(){console.log(e),o(e)},className:"".concat(a===e?"fonction  active":"fonction"),children:[" ",e]},t)}))}),(0,ve.jsxs)("div",{className:"col-2 f__right",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ve.jsxs)("div",{style:(e={display:"flex",alignItems:"center",justifyContent:"center"},(0,yt.Z)(e,"alignItems","center"),(0,yt.Z)(e,"fontSize",12),e),children:[(0,ve.jsx)(hN(),{path:"M13.07 10.41A5 5 0 0 0 13.07 4.59A3.39 3.39 0 0 1 15 4A3.5 3.5 0 0 1 15 11A3.39 3.39 0 0 1 13.07 10.41M5.5 7.5A3.5 3.5 0 1 1 9 11A3.5 3.5 0 0 1 5.5 7.5M7.5 7.5A1.5 1.5 0 1 0 9 6A1.5 1.5 0 0 0 7.5 7.5M16 17V19H2V17S2 13 9 13 16 17 16 17M14 17C13.86 16.22 12.67 15 9 15S4.07 16.31 4 17M15.95 13A5.32 5.32 0 0 1 18 17V19H22V17S22 13.37 15.94 13Z",title:"Forum Group",size:.8,color:"white"}),(0,ve.jsx)("span",{children:"Forum"})]}),(0,ve.jsxs)("div",{style:(n={display:"flex",alignItems:"center",justifyContent:"center"},(0,yt.Z)(n,"alignItems","center"),(0,yt.Z)(n,"fontSize",12),n),children:[(0,ve.jsx)(hN(),{path:"M19 17V11.8C18.5 11.9 18 12 17.5 12H17V18H7V11C7 8.2 9.2 6 12 6C12.1 4.7 12.7 3.6 13.5 2.7C13.2 2.3 12.6 2 12 2C10.9 2 10 2.9 10 4V4.3C7 5.2 5 7.9 5 11V17L3 19V20H21V19L19 17M10 21C10 22.1 10.9 23 12 23S14 22.1 14 21H10M21 6.5C21 8.4 19.4 10 17.5 10S14 8.4 14 6.5 15.6 3 17.5 3 21 4.6 21 6.5",title:"Alerte",size:.8,color:"white"}),(0,ve.jsx)("span",{children:"Alerte"})]}),(0,ve.jsxs)("div",{style:(r={display:"flex",alignItems:"center",justifyContent:"center"},(0,yt.Z)(r,"alignItems","center"),(0,yt.Z)(r,"fontSize",12),r),children:[(0,ve.jsx)(hN(),{path:"M19 3H18V1H16V3H8V1H6V3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.9 20.11 3 19 3M19 19H5V9H19V19M5 7V5H19V7H5M10.56 17.46L16.5 11.53L15.43 10.47L10.56 15.34L8.45 13.23L7.39 14.29L10.56 17.46Z",title:"P\xe9riode",size:.8,color:"white"}),(0,ve.jsx)("span",{children:" 11/2022"})]})]})]})},ST=function(){return(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)(_T,{}),(0,ve.jsx)(IT,{})]})},NT=n(781);function TT(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var CT=TT();CT.withExtraArgument=TT;var jT=CT,DT=n(484),AT="ADD_JOURNAL",OT="DELETE_JOURNAL",RT="UPDATE_JOURNAL",PT="LOAD_JOURNAUX",MT="LOAD_ERRORS",LT=JSON.parse('{"t9":{"isLoading":true,"journaux":[{"ido":"1","idv":"2","idc":"3","code":"","numero":"","reference":"","document":"","date":"","mouvements":[{"type":"D\xe9bit","compte":"601","libelle":"fghjk","montant":"500"},{"type":"Cr\xe9dit","compte":"411","libelle":"fghjk","montant":"500"},{"type":"D\xe9bit","compte":"412","libelle":"vhbjnklm","montant":"600"},{"type":"Cr\xe9dit","compte":"701","libelle":"vhbjnklm","montant":"600"}]},{"ido":"1","idv":"2","idc":"3","code":"","numero":"","reference":"","document":"","date":"","mouvements":[{"type":"D\xe9bit","compte":"512","libelle":"chvjbkn","montant":"12000"},{"type":"Cr\xe9dit","compte":"101","libelle":"chvjbkn","montant":"12000"},{"type":"D\xe9bit","compte":"16","libelle":"xcvb,;n","montant":"90000"},{"type":"Cr\xe9dit","compte":"225","libelle":"xcvb,;n","montant":"90000"}]},{"ido":"1","idv":"2","idc":"3","code":"","numero":"","reference":"","document":"","date":"","mouvements":[{"type":"D\xe9bit","compte":"22","libelle":"ghjk","montant":"300"},{"type":"Cr\xe9dit","compte":"411","libelle":"ghjk","montant":"300"}]},{"ido":"1","idv":"2","idc":"3","code":"","numero":"","reference":"","document":"","date":"","mouvements":[{"type":"D\xe9bit","compte":"22","libelle":"cgkh","montant":"2000"},{"type":"Cr\xe9dit","compte":"512","libelle":"cgkh","montant":"2000"}]},{"ido":"1","idv":"2","idc":"3","code":"","numero":"","reference":"","document":"","date":"","mouvements":[{"type":"D\xe9bit","compte":"245","libelle":"rtyfguiho","montant":"5000"},{"type":"Cr\xe9dit","compte":"4111","libelle":"rtyfguiho","montant":"5000"},{"type":"D\xe9bit","compte":"521","libelle":"ghjbknlm\xf9","montant":"74112"},{"type":"Cr\xe9dit","compte":"2845","libelle":"ghjbknlm\xf9","montant":"74112"}]},{"ido":"1","idv":"2","idc":"3","code":"","numero":"","reference":"","document":"","date":"","mouvements":[{"type":"D\xe9bit","compte":"412","libelle":"dfghjkl","montant":"10000"},{"type":"Cr\xe9dit","compte":"542","libelle":"dfghjkl","montant":"10000"},{"type":"D\xe9bit","compte":"2854","libelle":"fghvjkjl","montant":"100"},{"type":"Cr\xe9dit","compte":"254","libelle":"fghvjkjl","montant":"100"}]},{"ido":"1","idv":"2","idc":"3","code":"","numero":"6","reference":"hgfdfsddfbv","document":"","date":"2022-10-14","mouvements":[{"type":"D\xe9bit","compte":"41201","libelle":"trssf","montant":"5000"},{"type":"Cr\xe9dit","compte":"4111","libelle":"trssf","montant":"5000"},{"type":"D\xe9bit","compte":"41201","libelle":"aertyu","montant":"200"},{"type":"Cr\xe9dit","compte":"41121","libelle":"aertyu","montant":"200"}]},{"ido":"1","idv":"2","idc":"3","code":"","numero":"4","reference":"fact 1256","document":"","date":"2022-10-06","mouvements":[{"type":"D\xe9bit","compte":"411200","libelle":"ventes","montant":"2500"},{"type":"Cr\xe9dit","compte":"5242","libelle":"ventes","montant":"2500"},{"type":"D\xe9bit","compte":"4110","libelle":"test","montant":"1000"},{"type":"Cr\xe9dit","compte":"52140","libelle":"test","montant":"1000"}]},{"ido":"1","idv":"2","idc":"3","code":"","numero":"1","reference":"dfvbn,; ","document":"","date":"2022-10-13","mouvements":[{"type":"D\xe9bit","compte":"411","libelle":"fghjklm\xf9","montant":"25000"},{"type":"Cr\xe9dit","compte":"521","libelle":"fghjklm\xf9","montant":"25000"}]}],"error":""},"IS":{"isLoading":true,"comptes":[{"compte":"701","subdivision":"","fonction":"","intitule":"sdwfxghjkl"},{"compte":"601","subdivision":"","fonction":"","intitule":"sdfxghjkl"},{"compte":"16","subdivision":"","fonction":"","intitule":"wxcxvcvb;n:"},{"compte":"101","subdivision":"","fonction":"","intitule":"capital"},{"compte":"22","subdivision":"","fonction":"","intitule":"sdwfxgchjk"},{"compte":"2845","subdivision":"","fonction":"","intitule":"jklm"},{"compte":"245","subdivision":"","fonction":"","intitule":"hjbklm"},{"compte":"41121","subdivision":"","fonction":"","intitule":"ghjklmo!m"},{"compte":"4112","subdivision":"","fonction":"","intitule":"ghjkgilm!km;"},{"compte":"5242","subdivision":"","fonction":"","intitule":"poiuyftdre"},{"compte":"52140","subdivision":"","fonction":"","intitule":"gjkhl:"},{"compte":"411","subdivision":"53","fonction":"","intitule":"sdfghj"},{"compte":"521","subdivision":"","fonction":"srhjk","intitule":"sdfghj"},{"compte":"41201","subdivision":"","fonction":"","intitule":"autres"},{"compte":"41121","subdivision":"","fonction":"","intitule":"harouna"},{"compte":"4111","subdivision":"","fonction":"","intitule":"mamane"}],"error":""},"hp":{"isLoading":true,"modeles":[{"journal":"Achat","intitule":"Test achat X","commentaires":"No comment","operation":[{"type":"D\xe9bit","compte":"1","libelle":"Compte 1","montant":"1000"},{"type":"D\xe9bit","compte":"2","libelle":"Compte 2","montant":"20"},{"type":"Cr\xe9dit","compte":"2","libelle":"Compte 2","montant":"1020"}]},{"journal":"Achat","intitule":"Test achat Y","commentaires":"No comment","operation":[{"type":"D\xe9bit","compte":"1","libelle":"Compte 1","montant":"100"},{"type":"D\xe9bit","compte":"2","libelle":"Compte 2","montant":"2000"},{"type":"Cr\xe9dit","compte":"2","libelle":"Compte 2","montant":"2100"},{"type":"Cr\xe9dit","compte":"1","libelle":"Compte 1"}]},{"journal":"Vente","intitule":"Ventes","commentaires":"comment...","operation":[{"type":"D\xe9bit","compte":"1","libelle":"Compte 1"},{"type":"Cr\xe9dit","compte":"2","libelle":"Compte 2"}]}],"error":""},"Qs":[{"profile":"admin","pid":1671242642156,"valid":false,"date":"17/12/2022","reference":"ref pieces 1","fichier":"document","journal":"","intitule":"","mouvements":[{"type":"D\xe9bit","compte":"4111","libelle":"client text","montant":" 5000"},{"type":"Cr\xe9dit","compte":"512","libelle":"banque tesx","montant":"5000"}]},{"profile":"admin","pid":1671242642156,"valid":false,"date":"17/12/2022","reference":"ref pieces 1","fichier":"document","journal":"Achat","intitule":"Test achat Y","mouvements":[{"type":"D\xe9bit","compte":"1","libelle":"Compte 1","montant":"100"},{"type":"D\xe9bit","compte":"2","libelle":"Compte 2","montant":"2000"},{"type":"Cr\xe9dit","compte":"2","libelle":"Compte 2","montant":"2100"},{"type":"Cr\xe9dit","compte":"1","libelle":"Compte 1","montant":"2100"}]},{"profile":"admin","pid":1671242642156,"valid":false,"date":"17/12/2022","reference":"ref pieces 6","fichier":"document","journal":"Achat","intitule":"Test achat X","mouvements":[{"type":"D\xe9bit","compte":"1","libelle":"Compte 1","montant":"1000"},{"type":"D\xe9bit","compte":"2","libelle":"Compte 2","montant":"20"},{"type":"Cr\xe9dit","compte":"2","libelle":"Compte 2","montant":"1020"}]}],"$U":[{"id":1674951152652,"date":"2023-01-02","operateur":"admin","eta":"","etd":"","numero":"1","reference":"","expediteur":"","destinataire":"SONICHAR","depart":"2023-01-02","arrivee":"2023-01-20","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"519-50405740","description":"Chantier (80600 kg)","origine":"Belgique","provenance":"Autres","quantite":"2","type":"Camion","poids":"","volume":"","client":{"nom":"SONICHAR","email":"","bp":"78","tel":"","nif":"1760","compte":"411","adresse":"TCHIROZERINE/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[{"repertoire":"012","reference":"C1r524","date":"2023-02-04","bureau":"FRET","quantite":"100","unite":"U","poids":"5000","volume":"5000","position":"654645645","valeur":"6565646","taxe":"45454","total":"3454545","liquidation":"65656","dateLiquid":"2023-03-02","quittance":"65656","dateQuit":"2023-02-17","camion":"","exo":"","nts":""}],"autres":[],"secef":{},"t1":[{"reference":"1381","numero":"481","date":"2023-01-11","paysExport":"B\xe9nin","camion":"AF 2904 RN","burEntree":"fRET","burDestination":"Agadez","position":"84314900","marchandise":"Pi\xe8ces d\xe9tach\xe9es","quantite":"3","poids":"335","volume":"1551.05","sommier":"","dateSommier":""},{"reference":"1382","numero":"482","date":"2023-01-11","paysExport":"B\xe9nin","camion":"AF 2904 RN","burEntree":"fRET","burDestination":"Agadez","position":"24022000","marchandise":"Cigarettes contenant du tabac","quantite":"1","poids":"435","volume":"1551.05","sommier":"","dateSommier":""}],"minute":[{"reference":"pour verif","numero":"1","date":"2023-02-04","repertoire":"58","t1":"481","regime":"Consommation","typeregime":"conso","burEntree":"FRET","provenance":"Autres","origine":"Belgique","burDestination":"Agadez","mode":"A\xe9rien","importateur":"SONICHAR","destinataire":"SONICHAR","type":"Camion","colis":"2","document":"519-50405740","camion":"AF2904/685RN","exo":"512","license":"1235","sommier":"","quantite":"30","poids":"335","volume":"1551.05","position":"","tarif":{"nts":"27101240","designation":"Super carburant","us":"l","entree":[{"DD":10,"checked":true,"montant":6050},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":19,"checked":true,"montant":11922.5},{"DA":75,"checked":true,"montant":2250}],"sortie":[{"RSE":3,"checked":false},{"TSR":5,"checked":false}],"observation":""},"designation":"","fob":"50000","fret":"10000","assurance":"500","autres":"0","base":"","valeur":60500,"baseTVA":"","droits":21372,"chemise":"2500","scanner":"25000","ri":"5000","documents":[{"type":"Bordereau","checked":true},{"type":"Deprec","checked":true},{"type":"Exon\xe9ration","checked":true},{"type":"License","checked":true},{"type":"FactCom","checked":true},{"type":"Colisage","checked":false},{"type":"Assurance","checked":true},{"type":"DispBIC","checked":true},{"type":"Fiche","checked":false},{"type":"NIF","checked":true},{"type":"ARF","checked":false},{"type":"CO","checked":false},{"type":"FaFret","checked":false}],"taxes":32500,"baseTva":8300,"code":"4000","declaration":53872},{"reference":"pour verif","numero":"1","date":"2023-02-04","repertoire":"99","t1":"1482","regime":"Reexportation","typeregime":"conso","burEntree":"Torodi","provenance":"Autres","origine":"Belgique","burDestination":"Agadez","mode":"A\xe9rien","importateur":"SONICHAR","destinataire":"SONICHAR","type":"Camion","colis":"2","document":"519-50405740","camion":"AF 2904 RN","exo":"987","license":"1235","sommier":"","quantite":"1","poids":"435","volume":"1551.05","position":"","tarif":{"nts":"27101240","designation":"Super carburant","us":"l","entree":[{"DD":10,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":19,"checked":false},{"DA":75,"checked":false}],"sortie":[{"RSE":3,"checked":true,"montant":9000},{"TSR":5,"checked":true,"montant":15000}],"observation":""},"designation":"","fob":"250000","fret":"25000","assurance":"5000","autres":"20000","base":"","valeur":300000,"baseTVA":"","droits":24000,"chemise":"2500","scanner":"25000","ri":"5000","documents":[{"type":"Bordereau","checked":true},{"type":"Deprec","checked":true},{"type":"Exon\xe9ration","checked":false},{"type":"License","checked":false},{"type":"FactCom","checked":true},{"type":"Colisage","checked":false},{"type":"Assurance","checked":true},{"type":"DispBIC","checked":false},{"type":"Fiche","checked":false},{"type":"NIF","checked":true},{"type":"ARF","checked":false},{"type":"CO","checked":false},{"type":"FaFret","checked":true}],"taxes":32500,"baseTva":0,"code":"3000","declaration":56500}]},{"id":1674951491655,"date":"2023-01-03","operateur":"admin","eta":"","etd":"","numero":"2","reference":"","expediteur":"","destinataire":"SONICHAR","depart":"2023-01-03","arrivee":"2023-01-29","dimensions":{"long":"","larg":"","haut":""},"mode":"Multi-Modal","document":"bl- rme22110445","description":"Tube (1031 kg)","origine":"","provenance":"","quantite":"1","type":"Palette","poids":"","volume":"","client":{"nom":"SONICHAR","email":"","bp":"78","tel":"","nif":"1760","compte":"411","adresse":"TCHIROZERINE/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674951491655,"date":"2023-01-03","operateur":"admin","eta":"","etd":"","numero":"3","reference":"","expediteur":"","destinataire":"SONICHAR","depart":"2023-01-03","arrivee":"2023-01-29","dimensions":{"long":"","larg":"","haut":""},"mode":"Multi-Modal","document":"bl-rme22110394","description":"Mat\xe9riels de chantier (1821 kg)","origine":"","provenance":"","quantite":"9","type":"Colis","poids":"","volume":"","client":{"nom":"SONICHAR","email":"","bp":"78","tel":"","nif":"1760","compte":"411","adresse":"TCHIROZERINE/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674951491655,"date":"2023-01-03","operateur":"admin","eta":"","etd":"","numero":"4","reference":"","expediteur":"","destinataire":"SONICHAR","depart":"2023-01-03","arrivee":"2023-01-29","dimensions":{"long":"","larg":"","haut":""},"mode":"Multi-Modal","document":"bl-rme22100946","description":"Mat\xe9riels de soudure (1153kg)","origine":"","provenance":"","quantite":"2","type":"Colis","poids":"","volume":"","client":{"nom":"SONICHAR","email":"","bp":"78","tel":"","nif":"1760","compte":"411","adresse":"TCHIROZERINE/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674952623225,"date":"2023-01-04","operateur":"admin","eta":"","etd":"","numero":"5","reference":"","expediteur":"","destinataire":"SONICHAR","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"Multi-Modal","document":"bl-rem22100946","description":"Mat\xe9riels","origine":"","provenance":"","quantite":"6","type":"Colis","poids":"","volume":"","client":{"nom":"SONICHAR","email":"","bp":"78","tel":"","nif":"1760","compte":"411","adresse":"TCHIROZERINE/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674952623225,"date":"2023-01-03","operateur":"admin","eta":"","etd":"","numero":"6","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"","description":"Mat\xe9riels","origine":"","provenance":"","quantite":"22","type":"Colis","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674952623225,"date":"2023-01-03","operateur":"admin","eta":"","etd":"","numero":"7","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"lta-574-33405304","description":"Huile (131 kg)","origine":"","provenance":"","quantite":"1","type":"Colis","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674952623225,"date":"2023-01-05","operateur":"admin","eta":"","etd":"","numero":"8","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"lta-057-97439451","description":"Vaccins (1092 kg)","origine":"","provenance":"","quantite":"56","type":"Colis","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674955530509,"date":"2023-01-05","operateur":"admin","eta":"","etd":"","numero":"9","reference":"","expediteur":"","destinataire":"SONIDEP","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"","document":"","description":"Gasoil","origine":"","provenance":"","quantite":"34","type":"Citerne","poids":"","volume":"","client":{"nom":"SONIDEP","email":"","bp":"11702","tel":"","nif":"1220","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674955530509,"date":"29/01/2023","operateur":"admin","eta":"","etd":"","numero":"10","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"lta-071-47083886","description":"poids (2528 kg)","origine":"","provenance":"","quantite":"18","type":"Palette","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674955530509,"date":"2023-01-09","operateur":"admin","eta":"","etd":"","numero":"11","reference":"","expediteur":"","destinataire":"SONICHAR","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"lta-071-46501814","description":"Serveur (56 kg)","origine":"","provenance":"","quantite":"1","type":"Colis","poids":"","volume":"","client":{"nom":"SONICHAR","email":"","bp":"78","tel":"","nif":"1760","compte":"411","adresse":"TCHIROZERINE/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674956144012,"date":"2023-01-09","operateur":"admin","eta":"","etd":"","numero":"12","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"","document":"","description":"Equippemennt /.../Medicaments","origine":"","provenance":"","quantite":"1","type":"Paquet","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674956144012,"date":"2023-01-09","operateur":"admin","eta":"","etd":"","numero":"13","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"","description":"Equipement/.../Medicaments","origine":"","provenance":"","quantite":"1","type":"Paquet","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674956144012,"date":"2023-01-10","operateur":"admin","eta":"","etd":"","numero":"14","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"lta-519-50415002","description":"S\xe9ringues (2462 kg)","origine":"","provenance":"","quantite":"19","type":"Colis","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674956626439,"date":"2023-01-11","operateur":"admin","eta":"","etd":"","numero":"15","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"2023-01-11","arrivee":"2023-01-29","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"lta-071-47083886","description":"S\xe9ringues (2528 kg)","origine":"","provenance":"","quantite":"18","type":"Colis","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674956626439,"date":"2023-01-16","operateur":"admin","eta":"","etd":"","numero":"16","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"2023-01-16","arrivee":"2023-01-29","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"lta-057-04847603","description":"cb (295 kg)","origine":"","provenance":"","quantite":"2","type":"Colis","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674956626439,"date":"2023-01-17","operateur":"admin","eta":"","etd":"","numero":"17","reference":"","expediteur":"","destinataire":"Sahel Commerce","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"","document":"","description":"Jet A1/Pc/Barkane","origine":"","provenance":"","quantite":"4","type":"Citerne","poids":"","volume":"","client":{"nom":"Sahel Commerce","email":"","bp":"","tel":"","nif":"9999","compte":"411","adresse":"","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674956626439,"date":"2023-01-16","operateur":"admin","eta":"","etd":"","numero":"18","reference":"","expediteur":"","destinataire":"MINISTERE DE LA SANTE","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"A\xe9rien","document":"lta-057-11329636","description":"Vaccins (2374 kg)","origine":"","provenance":"","quantite":"50","type":"Colis","poids":"","volume":"","client":{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1674956626439,"date":"2023-01-16","operateur":"admin","eta":"","etd":"","numero":"19","reference":"","expediteur":"","destinataire":"SONIDEP","depart":"","arrivee":"","dimensions":{"long":"","larg":"","haut":""},"mode":"","document":"","description":"Sonidep/Maradi","origine":"","provenance":"","quantite":"52","type":"Citerne","poids":"","volume":"","client":{"nom":"SONIDEP","email":"","bp":"11702","tel":"","nif":"1220","compte":"411","adresse":"NIAMEY/NIGER","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[],"autres":[],"secef":{},"t1":[],"minute":[]},{"id":1675691549917,"date":"2023-02-06","operateur":"admin","eta":"","etd":"","numero":"99","reference":"DV15012022","expediteur":"","destinataire":"DIVERS CLIENTS","depart":"2023-01-30","arrivee":"2023-02-03","dimensions":{"long":"","larg":"","haut":""},"mode":"Routier","document":"vnkkv133x0a212749","description":"Europe au revoir","origine":"japon","provenance":"Belgique","quantite":"1","type":"V\xe9hicule","poids":"","volume":"","client":{"nom":"DIVERS CLIENTS","email":"","bp":"","tel":"","nif":"99999999","compte":"411","adresse":"","exo":false},"status":"Ouvert","intervention":[],"debours":[],"declaration":[{"repertoire":"124","reference":"C3678","date":"2023-02-15","bureau":"NE056","quantite":"1","unite":"U","poids":"750","volume":"","position":"87032220","valeur":"750000","taxe":"14375","total":"365188","liquidation":"4504","dateLiquid":"2023-02-16","quittance":"","dateQuit":"","camion":"veh","exo":"","nts":""}],"autres":[],"secef":{},"t1":[{"reference":"124","numero":"3325","date":"2023-01-26","paysExport":"Belgique","camion":"VEH","burEntree":"NE029 Gaya","burDestination":"NE056 Niamey Sp\xe9cial Moyens","position":"87032220","marchandise":"V\xe9hicules","quantite":"1","poids":"750","volume":"0","sommier":"","dateSommier":""}],"minute":[{"reference":"C3678","numero":"99","date":"2023-02-06","repertoire":"124","t1":"3325","code":"4000","regime":"Consommation","typeregime":"","burEntree":"NE029 Gaya","provenance":"Belgique","origine":"japon","burDestination":"NE056 Niamey Sp\xe9cial Moyens","mode":"Routier","destinataire":"DIVERS CLIENTS","type":"V\xe9hicule","colis":"1","document":"vnkkv133x0a212749","camion":"VEH","exo":"","license":"","sommier":"","quantite":"1","poids":"750","volume":"0","position":"","tarif":{"nts":"87032220","designation":"V\xe9hicules","us":"u","entree":[{"DD":20,"checked":true,"montant":150000},{"RSI":1,"checked":true,"montant":7500},{"TVI":1,"checked":true,"montant":7500},{"PCS":0.8,"checked":true,"montant":6000},{"PC":0.5,"checked":true,"montant":3750},{"PUA":0.2,"checked":true,"montant":1500},{"TVA":19,"checked":true,"montant":175987.5},{"DA":0,"checked":false}],"sortie":[{"RSE":3,"checked":false},{"TSR":5,"checked":false}],"observation":""},"designation":"","fob":"750000","fret":"0","assurance":"0","autres":"0","base":"","taxes":14375,"valeur":750000,"baseTva":168750,"droits":350812.5,"declaration":365187.5,"chemise":"2500","scanner":"6875","ri":"5000","documents":[{"type":"Bordereau","checked":true},{"type":"Deprec","checked":true},{"type":"Exon\xe9ration","checked":false},{"type":"License","checked":false},{"type":"FactCom","checked":true},{"type":"Colisage","checked":false},{"type":"Assurance","checked":true},{"type":"DispBIC","checked":false},{"type":"Fiche","checked":false},{"type":"NIF","checked":true},{"type":"ARF","checked":false},{"type":"CO","checked":false},{"type":"FaFret","checked":false}]}]}],"jR":[{"annee":"2022","code":"09","numero":"18978","emission":"2023-01-12","expiration":"2023-01-29","importateur":"sonidep","beneficiaire":"sondep","quantite":"","unite":"","valeur":"","position":"","lieu":"niamey","bureau":"niamey route","prorogation":false,"status":"Active","commentaires":"","details":[{"quantite":"25000","poids":"17000","designation":"sup","valeur":"874000","position":"123456789"},{"quantite":"87500","poids":"45000","designation":"fuel","valeur":"740000","position":"87101002"},{"quantite":"5000","poids":"10000","designation":"gasoil","valeur":"811000","position":"2525000"}]},{"annee":"","code":"","numero":"","emission":"","expiration":"","importateur":"","beneficiaire":"","quantite":"","unite":"","valeur":"","position":"","lieu":"","bureau":"","prorogation":false,"status":"Active","commentaires":"","details":[{"quantite":"10000","poids":"1200","designation":"bnnk,nk,","valeur":"5000","position":"123456789"},{"quantite":"5000","poids":"5000","designation":"jhklkjkl","valeur":"10000","position":"987456321"}]},{"annee":"2023","code":"014","numero":"1011","emission":"2023-01-05","expiration":"2023-01-21","importateur":"sondip","beneficiaire":"moi","quantite":"","unite":"","valeur":"","position":"","lieu":"niamey","bureau":"niamey","prorogation":false,"status":"Active","commentaires":"","details":[{"quantite":"10000","poids":"1200","designation":"bnnk,nk,","valeur":"5000","position":"123456789"},{"quantite":"5000","poids":"5000","designation":"jhklkjkl","valeur":"10000","position":"987456321"}]},{"annee":"2022","code":"03","numero":"1699","emission":"2023-01-10","expiration":"2023-03-09","importateur":"SONICHAR","beneficiaire":"SONICHAR","quantite":"","unite":"","valeur":"","position":"","bureau":"AGADEZ","prorogation":false,"status":"Active","commentaires":"","details":[],"lieu":"ANOU ARAREN"}],"yj":[{"nom":"CNPC INTERNATIONAL","email":"","bp":"","tel":"","nif":"7549","compte":"411","adresse":"NIAMEY/NIGER","exo":false},{"nom":"EQUAL ENERGY","email":"","bp":"10886","tel":"","nif":"51654","compte":"411","adresse":"NIAMEY/NIGER","exo":false},{"nom":"MINISTERE DE LA SANTE","email":"","bp":"","tel":"","nif":"36685","compte":"411","adresse":"NIAMEY/NIGER","exo":false},{"nom":"SONICHAR","email":"","bp":"78","tel":"","nif":"1760","compte":"411","adresse":"TCHIROZERINE/NIGER","exo":false},{"nom":"SONIDEP","email":"","bp":"11702","tel":"","nif":"1220","compte":"411","adresse":"NIAMEY/NIGER","exo":false},{"nom":"ONPPC","email":"","bp":"","tel":"","nif":"1208","compte":"411","adresse":"NIAMEY/NIGER","exo":false},{"nom":"NIGER BRIQUE","email":"","bp":"2401","tel":"","nif":"1024","compte":"411","adresse":"NIAMEY/NIGER","exo":false},{"nom":"Sahel Commerce","email":"","bp":"","tel":"","nif":"9999","compte":"411","adresse":"","exo":false},{"nom":"DIVERS CLIENTS","email":"","bp":"","tel":"","nif":"99999999","compte":"411","adresse":"","exo":false}],"yv":[{"nts":"24022000","designation":"Cigarettes contenant du tabac","us":"kg","entree":[{"DD":20,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":19,"checked":false},{"DA":50,"checked":false}],"sortie":[{"RSE":3,"checked":false},{"TSR":25,"checked":false}],"observation":""},{"nts":"27101240","designation":"Super carburant","us":"l","entree":[{"DD":10,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":19,"checked":false},{"DA":75,"checked":false}],"sortie":[{"RSE":3,"checked":false},{"TSR":5,"checked":false}],"observation":""},{"nts":"27101911","designation":"Carbur\xe9acteur","us":"l","entree":[{"DD":10,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":19,"checked":false},{"DA":30,"checked":false}],"sortie":[{"RSE":3,"checked":false},{"TSR":5,"checked":false}],"observation":""},{"nts":"27101912","designation":"P\xe9trole lampant","us":"l","entree":[{"DD":5,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":0,"checked":false},{"DA":0,"checked":false}],"sortie":[{"RSE":3,"checked":false},{"TSR":5,"checked":false}],"observation":""},{"nts":"27101921","designation":"Gas-oil","us":"l","entree":[{"DD":10,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":19,"checked":false},{"DA":29,"checked":false}],"sortie":[{"RSE":3,"checked":false},{"TSR":5,"checked":false}],"observation":""},{"nts":"27113000","designation":"Butanes","us":"kg","entree":[{"DD":0,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0,"checked":false},{"PC":0,"checked":false},{"PUA":0,"checked":false},{"TVA":0,"checked":false},{"DA":0,"checked":false}],"sortie":[{"RSE":"0","checked":false},{"TSR":"0","checked":false}],"observation":""},{"nts":"90183100","designation":"Seringues, avec ou sans aiguilles","us":"u","entree":[{"DD":5,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":0,"checked":false},{"DA":0,"checked":false}],"sortie":[{"RSE":3,"checked":false},{"TSR":5,"checked":false}],"observation":""},{"nts":"84314900","designation":"Pi\xe8ces d\xe9tach\xe9es","us":"kg","entree":[{"DD":20,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":19,"checked":false},{"DA":0,"checked":false}],"sortie":[{"RSE":3,"checked":false},{"TSR":5,"checked":false}],"observation":""},{"nts":"87032220","designation":"V\xe9hicules","us":"u","entree":[{"DD":20,"checked":false},{"RSI":1,"checked":false},{"TVI":1,"checked":false},{"PCS":0.8,"checked":false},{"PC":0.5,"checked":false},{"PUA":0.2,"checked":false},{"TVA":19,"checked":false},{"DA":0,"checked":false}],"sortie":[{"RSE":3,"checked":false},{"TSR":5,"checked":false}],"observation":""}]}'),FT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT.t9,t=arguments.length>1?arguments[1]:void 0;switch(console.log(LT.t9.length),t.type){case AT:console.log("ADD_JOURNAL");var n=[t.payload].concat(cn(e.journaux));return(0,a.Z)((0,a.Z)({},e),{},{journaux:n});case OT:console.log("DELETE_JOURNAL",t.payload);var r=e.journaux.filter((function(e){return t.payload!==e.numero}));return(0,a.Z)((0,a.Z)({},e),{},{journaux:r});case RT:console.log("UPDATE_JOURNAL",t.payload);var i=e.journaux.map((function(e){return t.payload.numero===e.numero?t.payload:e}));return(0,a.Z)((0,a.Z)({},e),{},{journaux:i});case PT:return console.log("LOAD_JOURNAUX"),(0,a.Z)((0,a.Z)({},e),{},{journaux:t.payload,error:"",isLoading:!1});case MT:return console.log("LOAD_ERRORS"),(0,a.Z)((0,a.Z)({},e),{},{isLoading:!0,journaux:[],error:t.payload});default:return e}},VT="ADD_OPERATION",UT="DELETE_OPERATION",qT="UPDATE_OPERATION",BT="LOAD_OPERATIONS",zT="LOAD_ERRORS",HT={isLoading:!0,operations:[],error:""},GT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HT,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case VT:console.log("ADD_OPERATION");var n=[t.payload].concat(cn(e.operations));return(0,a.Z)((0,a.Z)({},e),{},{operations:n});case UT:console.log("DELETE_OPERATION",t.payload);var r=e.operations.filter((function(e){return t.payload!==e.numero}));return(0,a.Z)((0,a.Z)({},e),{},{operations:r});case qT:console.log("UPDATE_OPERATION",t.payload);var i=e.operations.map((function(e){return t.payload.numero===e.numero?t.payload:e}));return(0,a.Z)((0,a.Z)({},e),{},{operations:i});case BT:return console.log("LOAD_OPERATIONS"),(0,a.Z)((0,a.Z)({},e),{},{operations:t.payload,error:"",isLoading:!1});case zT:return console.log("LOAD_ERRORS"),(0,a.Z)((0,a.Z)({},e),{},{isLoading:!0,operations:[],error:t.payload});default:return e}},WT="ADD_MODELE",YT="DELETE_MODELE",ZT="UPDATE_MODELE",KT="LOAD_MODELES",QT="LOAD_ERRORS",$T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT.hp?LT.hp:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case WT:console.log("ADD_MODELE");var n=[].concat(cn(e.modeles),[t.payload]);return(0,a.Z)((0,a.Z)({},e),{},{modeles:n});case YT:console.log("DELETE_MODELE",t.payload);var r=e.modeles.filter((function(e){return t.payload!==e.numero}));return(0,a.Z)((0,a.Z)({},e),{},{modeles:r});case ZT:console.log("UPDATE_MODELE",t.payload);var i=e.modeles.map((function(e){return t.payload.numero===e.numero?t.payload:e}));return(0,a.Z)((0,a.Z)({},e),{},{modeles:i});case KT:return console.log("LOAD_MODELES"),(0,a.Z)((0,a.Z)({},e),{},{modeles:t.payload,error:"",isLoading:!1});case QT:return console.log("LOAD_ERRORS"),(0,a.Z)((0,a.Z)({},e),{},{isLoading:!0,modeles:[],error:t.payload});default:return e}},JT="ADD_COMPTE",XT="DELETE_COMPTE",eC="UPDATE_COMPTE",tC="LOAD_COMPTES",nC="LOAD_ERRORS",rC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT.IS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case JT:console.log("ADD_COMPTE");var n=[t.payload].concat(cn(e.comptes));return(0,a.Z)((0,a.Z)({},e),{},{comptes:n});case XT:console.log("DELETE_COMPTE",t.payload);var r=e.comptes.filter((function(e){return t.payload!==e.numero}));return(0,a.Z)((0,a.Z)({},e),{},{comptes:r});case eC:console.log("UPDATE_COMPTE",t.payload);var i=e.comptes.map((function(e){return t.payload.numero===e.numero?t.payload:e}));return(0,a.Z)((0,a.Z)({},e),{},{comptes:i});case tC:return console.log("LOAD_COMPTES"),(0,a.Z)((0,a.Z)({},e),{},{comptes:t.payload,error:"",isLoading:!1});case nC:return console.log("LOAD_ERRORS"),(0,a.Z)((0,a.Z)({},e),{},{isLoading:!0,comptes:[],error:t.payload});default:return e}},iC="ADD_PIECE",aC="DELETE_PIECE",oC="UPDATE_PIECE",sC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT.Qs?LT.Qs:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iC:console.log("ADD_PIECE",t.payload);var n=[].concat(cn(e),[t.payload]);return n;case aC:console.log("DELETE_PIECE",t.payload);var r=e.filter((function(e){return t.payload!==e.numero}));return r;case oC:console.log("UPDATE_PIECE",t.payload);var i=e.map((function(e){return t.payload.numero===e.numero?t.payload:e}));return i;default:return e}},uC={exos:[]},cC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT.jR?LT.jR:uC.exos,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case HN:console.log("ADD_EXO",t.payload);var n=[t.payload].concat(cn(e));return n;case GN:console.log("DELETE_EXO",t.payload);var r=e.filter((function(e){return t.payload!==e.numero}));return r;case WN:console.log("UPDATE_EXO",t.payload);var i=e.map((function(e){return t.payload.numero===e.numero?t.payload:e}));return i;default:return e}},lC={clients:[]},dC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT.yj?LT.yj:lC.clients,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jN:console.log("ADD_CLIENT",t.payload);var n=[].concat(cn(e),[t.payload]);return n;case DN:console.log("DELETE_CLIENT",t.payload);var r=e.filter((function(e){return t.payload!==e.nif}));return r;case AN:console.log("UPDATE_CLIENT",t.payload);var i=e.map((function(e){return t.payload.nif===e.nif?t.payload:e}));return i;default:return e}},fC={dossiers:[]},hC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT.$U?LT.$U:fC.dossiers,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case uN:console.log("ADD_DOSSIER",t.payload);var n=[].concat(cn(e),[t.payload]);return n;case cN:console.log("DELETE_DOSSIER",t.payload);var r=e.filter((function(e){return t.payload!==e.numero}));return r;case lN:console.log("UPDATE_DOSSIER",t.payload);var i=e.map((function(e){return t.payload.numero===e.numero?t.payload:e}));return i;default:return e}},pC="ADD_CONFIG",vC="DELETE_CONFIG",mC="UPDATE_CONFIG",yC={configs:[]},gC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT.configs?LT.configs:yC.configs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pC:console.log("ADD_CONFIG",t.payload);var n=[].concat(cn(e),[t.payload]);return n;case vC:console.log("DELETE_CONFIG",t.payload);var r=e.filter((function(e){return t.payload!==e.numero}));return r;case mC:console.log("UPDATE_CONFIG",t.payload);var i=e.map((function(e){return t.payload.numero===e.numero?t.payload:e}));return i;default:return e}},kC={tarifs:[]},xC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LT.yv?LT.yv:kC.tarifs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case cT:console.log("ADD_TARIF",t.payload);var n=[].concat(cn(e),[t.payload]);return n;case lT:console.log("DELETE_TARIF",t.payload);var r=e.filter((function(e){return t.payload!==e.nts}));return r;case dT:console.log("UPDATE_TARIF",t.payload);var i=e.map((function(e){return t.payload.nts===e.nts?t.payload:e}));return i;default:return e}},bC=(0,NT.UY)({journaux:FT,operations:GT,nbs:rC,modele:$T,pieces:sC,dossiers:hC,parametres:gC,exos:cC,clients:dC,tarifs:xC}),wC=(0,NT.MT)(bC,(0,DT.Uo)((0,NT.md)(jT)));document.title="UNITRAF ERP",r.render((0,ve.jsx)(Xe,{store:wC,children:(0,ve.jsx)(t.StrictMode,{children:(0,ve.jsx)(ST,{})})}),document.getElementById("root")),i()}()}();
//# sourceMappingURL=main.4605c102.js.map